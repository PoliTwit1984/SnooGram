2024-10-30 05:03:16,975 - DEBUG - Looking for jobs to run
2024-10-30 05:03:16,982 - DEBUG - Next wakeup is due at 2024-10-30 05:04:16.969826-05:00 (in 59.987817 seconds)
2024-10-30 05:03:16,982 - INFO - Running job "send_to_telegram (trigger: interval[0:01:00], next run at: 2024-10-30 05:04:16 CDT)" (scheduled at 2024-10-30 05:03:16.969826-05:00)
2024-10-30 05:03:16,982 - INFO - Running job "send_to_telegram (trigger: interval[0:01:00], next run at: 2024-10-30 05:04:16 CDT)" (scheduled at 2024-10-30 05:03:16.970029-05:00)
2024-10-30 05:03:16,982 - INFO - Processing subreddit: girlsfinishingthejob
2024-10-30 05:03:16,982 - INFO - Processing subreddit: wifebutt
2024-10-30 05:03:16,983 - INFO - Fetching top posts of the day
2024-10-30 05:03:16,983 - INFO - Fetching top posts of the month
2024-10-30 05:03:16,984 - DEBUG - Fetching: GET https://oauth.reddit.com/r/wifebutt/top at 1730282596.984504
2024-10-30 05:03:16,984 - DEBUG - Data: None
2024-10-30 05:03:16,984 - DEBUG - Fetching: GET https://oauth.reddit.com/r/girlsfinishingthejob/top at 1730282596.984035
2024-10-30 05:03:16,984 - DEBUG - Params: {'limit': 50, 'raw_json': 1, 't': 'month'}
2024-10-30 05:03:16,984 - DEBUG - Data: None
2024-10-30 05:03:16,985 - DEBUG - Params: {'limit': 50, 'raw_json': 1, 't': 'day'}
2024-10-30 05:03:17,413 - DEBUG - https://oauth.reddit.com:443 "GET /r/girlsfinishingthejob/top?t=day&limit=50&raw_json=1 HTTP/11" 200 24081
2024-10-30 05:03:17,414 - DEBUG - Response: 200 (24081 bytes) (rst-0:rem-149.0:used-1 ratelimit) at 1730282597.414669
2024-10-30 05:03:17,417 - INFO - Checking post: 1gelyz1 - Score: 7065 - URL: https://www.redgifs.com/watch/uttersvelteamphibian
2024-10-30 05:03:17,420 - INFO - Post 1gelyz1 is a duplicate, skipping
2024-10-30 05:03:17,420 - INFO - Checking post: 1gejrnl - Score: 2574 - URL: https://v3.redgifs.com/watch/graydefensivepika
2024-10-30 05:03:17,421 - INFO - Post 1gejrnl is a duplicate, skipping
2024-10-30 05:03:17,421 - INFO - Checking post: 1gelw33 - Score: 2302 - URL: https://www.redgifs.com/watch/drydarkgraysable
2024-10-30 05:03:17,421 - INFO - Post 1gelw33 is a duplicate, skipping
2024-10-30 05:03:17,421 - INFO - Checking post: 1gevvp0 - Score: 1174 - URL: https://www.redgifs.com/watch/medicalplumhen
2024-10-30 05:03:17,421 - INFO - Post 1gevvp0 is a duplicate, skipping
2024-10-30 05:03:17,421 - INFO - Checking post: 1gesoj7 - Score: 745 - URL: https://www.redgifs.com/watch/lightgreytrickydragonfly
2024-10-30 05:03:17,421 - INFO - Post 1gesoj7 is a duplicate, skipping
2024-10-30 05:03:17,421 - INFO - Checking post: 1geuuqp - Score: 436 - URL: https://www.redgifs.com/watch/cheerfulbeigebagworm
2024-10-30 05:03:17,421 - INFO - Post 1geuuqp is a duplicate, skipping
2024-10-30 05:03:17,421 - INFO - Checking post: 1geakrb - Score: 398 - URL: https://www.redgifs.com/watch/illinformedthickgalapagoshawk
2024-10-30 05:03:17,422 - INFO - Post 1geakrb is a duplicate, skipping
2024-10-30 05:03:17,422 - INFO - Checking post: 1gerubz - Score: 361 - URL: https://v3.redgifs.com/watch/trickysquarepseudodynerusquadrisectus
2024-10-30 05:03:17,422 - INFO - Post 1gerubz is a duplicate, skipping
2024-10-30 05:03:17,422 - INFO - Checking post: 1getxhl - Score: 339 - URL: https://www.redgifs.com/watch/purpledemandingboaconstrictor
2024-10-30 05:03:17,422 - INFO - Post 1getxhl is a duplicate, skipping
2024-10-30 05:03:17,422 - INFO - Checking post: 1ge9gol - Score: 272 - URL: https://v3.redgifs.com/watch/circulardeeppinkamericanbulldog
2024-10-30 05:03:17,423 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:03:17,509 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:03:17,509 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:03:16 GMT'
2024-10-30 05:03:17,509 - INFO - Found video post: 1ge9gol
2024-10-30 05:03:17,511 - DEBUG - Starting new HTTPS connection (1): api.redgifs.com:443
2024-10-30 05:03:17,688 - DEBUG - https://oauth.reddit.com:443 "GET /r/wifebutt/top?t=month&limit=50&raw_json=1 HTTP/11" 200 49246
2024-10-30 05:03:17,690 - DEBUG - https://api.redgifs.com:443 "GET /v2/gifs/circulardeeppinkamericanbulldog HTTP/11" 200 None
2024-10-30 05:03:17,693 - DEBUG - Response: 200 (49246 bytes) (rst-0:rem-148.0:used-2 ratelimit) at 1730282597.693596
2024-10-30 05:03:17,699 - INFO - Checking post: 1g9w053 - Score: 5347 - URL: https://www.reddit.com/gallery/1g9w053
2024-10-30 05:03:17,699 - DEBUG - Starting new HTTPS connection (1): files.redgifs.com:443
2024-10-30 05:03:17,700 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:03:17,729 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:03:17,729 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:03:16 GMT'
2024-10-30 05:03:17,729 - INFO - Post 1g9w053 is not an image or video post, skipping
2024-10-30 05:03:17,729 - INFO - Checking post: 1fv4cfc - Score: 4582 - URL: https://www.reddit.com/gallery/1fv4cfc
2024-10-30 05:03:17,730 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:03:17,761 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:03:17,762 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:03:16 GMT'
2024-10-30 05:03:17,762 - INFO - Post 1fv4cfc is not an image or video post, skipping
2024-10-30 05:03:17,762 - INFO - Checking post: 1ganrp0 - Score: 4213 - URL: https://i.redd.it/ezatz8645lwd1.jpeg
2024-10-30 05:03:17,762 - INFO - Post 1ganrp0 is a duplicate, skipping
2024-10-30 05:03:17,762 - INFO - Checking post: 1gdrcjt - Score: 4058 - URL: https://www.redgifs.com/watch/unrealisticdefinitebarebirdbat
2024-10-30 05:03:17,763 - INFO - Post 1gdrcjt is a duplicate, skipping
2024-10-30 05:03:17,763 - INFO - Checking post: 1g30sx1 - Score: 3959 - URL: https://www.redgifs.com/watch/hardwarlikesunbittern
2024-10-30 05:03:17,763 - INFO - Post 1g30sx1 is a duplicate, skipping
2024-10-30 05:03:17,763 - INFO - Checking post: 1fs7839 - Score: 3863 - URL: https://www.reddit.com/gallery/1fs7839
2024-10-30 05:03:17,763 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:03:17,774 - DEBUG - https://files.redgifs.com:443 "GET /CircularDeeppinkAmericanbulldog.mp4 HTTP/11" 200 61415883
2024-10-30 05:03:17,794 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:03:17,794 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:03:16 GMT'
2024-10-30 05:03:17,794 - INFO - Post 1fs7839 is not an image or video post, skipping
2024-10-30 05:03:17,794 - INFO - Checking post: 1g2rse9 - Score: 3761 - URL: https://i.redd.it/gzxs1aeshjud1.png
2024-10-30 05:03:17,795 - INFO - Post 1g2rse9 is a duplicate, skipping
2024-10-30 05:03:17,795 - INFO - Checking post: 1ge9loz - Score: 3729 - URL: https://www.redgifs.com/watch/deadlygregariouswoodchuck
2024-10-30 05:03:17,795 - INFO - Post 1ge9loz is a duplicate, skipping
2024-10-30 05:03:17,795 - INFO - Checking post: 1g0e966 - Score: 3636 - URL: https://www.reddit.com/gallery/1g0e966
2024-10-30 05:03:17,796 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:03:17,831 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:03:17,831 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-quorum-acked-lsn': 'REDACTED'
    'x-ms-current-write-quorum': 'REDACTED'
    'x-ms-current-replica-set-size': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-cosmos-quorum-acked-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:03:16 GMT'
2024-10-30 05:03:17,831 - INFO - Post 1g0e966 is not an image or video post, skipping
2024-10-30 05:03:17,831 - INFO - Checking post: 1gckgcy - Score: 3393 - URL: https://i.redd.it/njd0mbyjl3xd1.jpeg
2024-10-30 05:03:17,832 - INFO - Post 1gckgcy is a duplicate, skipping
2024-10-30 05:03:17,832 - INFO - Checking post: 1fznoil - Score: 3331 - URL: https://i.redd.it/eruk3694dptd1.jpeg
2024-10-30 05:03:17,832 - INFO - Post 1fznoil is a duplicate, skipping
2024-10-30 05:03:17,832 - INFO - Checking post: 1g3dsj7 - Score: 3183 - URL: https://i.redd.it/cg9oigznmpud1.jpeg
2024-10-30 05:03:17,832 - INFO - Post 1g3dsj7 is a duplicate, skipping
2024-10-30 05:03:17,832 - INFO - Checking post: 1g4dx9i - Score: 3136 - URL: https://i.redd.it/5kv3c8f3lyud1.jpeg
2024-10-30 05:03:17,833 - INFO - Post 1g4dx9i is a duplicate, skipping
2024-10-30 05:03:17,833 - INFO - Checking post: 1ftaz41 - Score: 3133 - URL: https://i.redd.it/2meejva1g1sd1.jpeg
2024-10-30 05:03:17,833 - INFO - Post 1ftaz41 is a duplicate, skipping
2024-10-30 05:03:17,833 - INFO - Checking post: 1ge2oko - Score: 3132 - URL: https://i.redd.it/3vk9ocmf6ixd1.jpeg
2024-10-30 05:03:17,833 - INFO - Post 1ge2oko is a duplicate, skipping
2024-10-30 05:03:17,833 - INFO - Checking post: 1gbi6rb - Score: 3124 - URL: https://i.redd.it/uzwse73yvswd1.jpeg
2024-10-30 05:03:17,834 - INFO - Post 1gbi6rb is a duplicate, skipping
2024-10-30 05:03:17,834 - INFO - Checking post: 1gawg5d - Score: 3076 - URL: https://www.redgifs.com/watch/darkredfuchsiaxenurusunicinctus
2024-10-30 05:03:17,835 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:03:17,875 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:03:17,876 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-quorum-acked-lsn': 'REDACTED'
    'x-ms-current-write-quorum': 'REDACTED'
    'x-ms-current-replica-set-size': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-cosmos-quorum-acked-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:03:16 GMT'
2024-10-30 05:03:17,876 - INFO - Found video post: 1gawg5d
2024-10-30 05:03:17,877 - DEBUG - Starting new HTTPS connection (1): api.redgifs.com:443
2024-10-30 05:03:18,027 - DEBUG - https://api.redgifs.com:443 "GET /v2/gifs/darkredfuchsiaxenurusunicinctus HTTP/11" 200 None
2024-10-30 05:03:18,029 - DEBUG - Starting new HTTPS connection (1): files.redgifs.com:443
2024-10-30 05:03:18,133 - DEBUG - https://files.redgifs.com:443 "GET /DarkredFuchsiaXenurusunicinctus.mp4 HTTP/11" 200 61461744
2024-10-30 05:03:19,232 - INFO - Successfully downloaded media to downloads/videos/1ge9gol_20241030_050317_fff8ab71.mp4
2024-10-30 05:03:19,234 - DEBUG - Using selector: KqueueSelector
2024-10-30 05:03:19,235 - INFO - Attempting to send video to Telegram - Path: downloads/videos/1ge9gol_20241030_050317_fff8ab71.mp4
2024-10-30 05:03:19,236 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:03:19,237 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:03:19,247 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:03:19,247 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:03:19,256 - DEBUG - Entering: get_me
2024-10-30 05:03:19,256 - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2024-10-30 05:03:19,396 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108a33380>
2024-10-30 05:03:19,396 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x108ec6950> server_hostname='api.telegram.org' timeout=5.0
2024-10-30 05:03:19,639 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108a31a90>
2024-10-30 05:03:19,640 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:03:19,640 - DEBUG - send_request_headers.complete
2024-10-30 05:03:19,640 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:03:19,640 - DEBUG - send_request_body.complete
2024-10-30 05:03:19,640 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:03:19,930 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:03:19 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'254'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:03:19,931 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/getMe "HTTP/1.1 200 OK"
2024-10-30 05:03:19,931 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:03:19,931 - DEBUG - receive_response_body.complete
2024-10-30 05:03:19,931 - DEBUG - response_closed.started
2024-10-30 05:03:19,931 - DEBUG - response_closed.complete
2024-10-30 05:03:19,931 - DEBUG - User(api_kwargs={'can_connect_to_business': False, 'has_main_web_app': False}, can_join_groups=True, can_read_all_group_messages=False, first_name='RedditBot', id=7867694458, is_bot=True, supports_inline_queries=False, username='RedditImage_bot')
2024-10-30 05:03:19,932 - DEBUG - Exiting: get_me
2024-10-30 05:03:19,932 - DEBUG - This Bot is already initialized.
2024-10-30 05:03:19,932 - DEBUG - Entering: send_video
2024-10-30 05:03:19,946 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:03:19,947 - DEBUG - send_request_headers.complete
2024-10-30 05:03:19,947 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:03:26,635 - DEBUG - send_request_body.complete
2024-10-30 05:03:26,635 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:03:26,636 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 413, b'Request Entity Too Large', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:03:20 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'70'), (b'Connection', b'close'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:03:26,636 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/sendVideo "HTTP/1.1 413 Request Entity Too Large"
2024-10-30 05:03:26,636 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:03:26,636 - DEBUG - receive_response_body.complete
2024-10-30 05:03:26,636 - DEBUG - response_closed.started
2024-10-30 05:03:26,637 - DEBUG - response_closed.complete
2024-10-30 05:03:26,638 - DEBUG - This Bot is already shut down. Returning.
2024-10-30 05:03:26,639 - DEBUG - Shut down of Updater complete
2024-10-30 05:03:26,639 - ERROR - Failed to send video to Telegram: Request Entity Too Large (413)
2024-10-30 05:03:26,640 - ERROR - Error sending video post 1ge9gol: Request Entity Too Large (413)
2024-10-30 05:03:26,642 - INFO - Checking post: 1ge98kx - Score: 254 - URL: https://www.redgifs.com/watch/frontspecificspittlebug
2024-10-30 05:03:26,647 - INFO - Post 1ge98kx is a duplicate, skipping
2024-10-30 05:03:26,647 - INFO - Checking post: 1geqscs - Score: 239 - URL: https://www.redgifs.com/watch/previousweequeensnake
2024-10-30 05:03:26,647 - INFO - Post 1geqscs is a duplicate, skipping
2024-10-30 05:03:26,647 - INFO - Checking post: 1gevgug - Score: 211 - URL: https://www.redgifs.com/watch/betterdisfiguredagama
2024-10-30 05:03:26,647 - INFO - Post 1gevgug is a duplicate, skipping
2024-10-30 05:03:26,647 - INFO - Checking post: 1gek1hh - Score: 207 - URL: https://www.redgifs.com/watch/magentaactivehammerheadbird
2024-10-30 05:03:26,648 - INFO - Post 1gek1hh is a duplicate, skipping
2024-10-30 05:03:26,648 - INFO - Checking post: 1gegrvn - Score: 173 - URL: https://i.redd.it/wyypqp8i2lxd1.gif
2024-10-30 05:03:26,648 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:03:26,749 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:03:26,749 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:03:26 GMT'
2024-10-30 05:03:26,749 - INFO - Found image post: 1gegrvn with URL: https://i.redd.it/wyypqp8i2lxd1.gif
2024-10-30 05:03:26,750 - DEBUG - Starting new HTTPS connection (1): i.redd.it:443
2024-10-30 05:03:26,934 - DEBUG - https://i.redd.it:443 "GET /wyypqp8i2lxd1.gif HTTP/11" 200 75973198
2024-10-30 05:03:30,169 - INFO - Successfully downloaded media to downloads/pics/1gegrvn_20241030_050326_c6bad603.gif
2024-10-30 05:03:30,172 - DEBUG - Using selector: KqueueSelector
2024-10-30 05:03:30,172 - INFO - Attempting to send photo to Telegram - Path: downloads/pics/1gegrvn_20241030_050326_c6bad603.gif
2024-10-30 05:03:30,173 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:03:30,174 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:03:30,181 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:03:30,181 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:03:30,187 - DEBUG - Entering: get_me
2024-10-30 05:03:30,189 - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2024-10-30 05:03:30,435 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108c75790>
2024-10-30 05:03:30,435 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x108e8f350> server_hostname='api.telegram.org' timeout=5.0
2024-10-30 05:03:30,694 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108c75820>
2024-10-30 05:03:30,695 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:03:30,695 - DEBUG - send_request_headers.complete
2024-10-30 05:03:30,695 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:03:30,695 - DEBUG - send_request_body.complete
2024-10-30 05:03:30,695 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:03:31,163 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:03:30 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'254'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:03:31,163 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/getMe "HTTP/1.1 200 OK"
2024-10-30 05:03:31,163 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:03:31,163 - DEBUG - receive_response_body.complete
2024-10-30 05:03:31,163 - DEBUG - response_closed.started
2024-10-30 05:03:31,163 - DEBUG - response_closed.complete
2024-10-30 05:03:31,163 - DEBUG - User(api_kwargs={'can_connect_to_business': False, 'has_main_web_app': False}, can_join_groups=True, can_read_all_group_messages=False, first_name='RedditBot', id=7867694458, is_bot=True, supports_inline_queries=False, username='RedditImage_bot')
2024-10-30 05:03:31,164 - DEBUG - Exiting: get_me
2024-10-30 05:03:31,164 - DEBUG - This Bot is already initialized.
2024-10-30 05:03:31,164 - DEBUG - Entering: send_photo
2024-10-30 05:03:31,178 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:03:31,178 - DEBUG - send_request_headers.complete
2024-10-30 05:03:31,179 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:03:35,562 - INFO - Successfully downloaded media to downloads/videos/1gawg5d_20241030_050318_722d0356.mp4
2024-10-30 05:03:35,574 - DEBUG - Using selector: KqueueSelector
2024-10-30 05:03:35,575 - INFO - Attempting to send video to Telegram - Path: downloads/videos/1gawg5d_20241030_050318_722d0356.mp4
2024-10-30 05:03:35,576 - DEBUG - This Application is already initialized.
2024-10-30 05:03:35,576 - DEBUG - Entering: send_video
2024-10-30 05:03:35,599 - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2024-10-30 05:03:35,732 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108c77200>
2024-10-30 05:03:35,732 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x108e8f350> server_hostname='api.telegram.org' timeout=5.0
2024-10-30 05:03:35,885 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108a60680>
2024-10-30 05:03:35,886 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:03:35,886 - DEBUG - send_request_headers.complete
2024-10-30 05:03:35,886 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:03:36,880 - DEBUG - send_request_body.complete
2024-10-30 05:03:36,880 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:03:36,880 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 413, b'Request Entity Too Large', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:03:31 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'70'), (b'Connection', b'close'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:03:36,880 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/sendPhoto "HTTP/1.1 413 Request Entity Too Large"
2024-10-30 05:03:36,880 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:03:36,880 - DEBUG - receive_response_body.complete
2024-10-30 05:03:36,880 - DEBUG - response_closed.started
2024-10-30 05:03:36,881 - DEBUG - response_closed.complete
2024-10-30 05:03:36,881 - DEBUG - close.started
2024-10-30 05:03:36,881 - DEBUG - close.complete
2024-10-30 05:03:36,881 - DEBUG - This Bot is already shut down. Returning.
2024-10-30 05:03:36,881 - DEBUG - Shut down of Updater complete
2024-10-30 05:03:36,881 - ERROR - Failed to send photo to Telegram: Request Entity Too Large (413)
2024-10-30 05:03:36,881 - ERROR - Error sending image post 1gegrvn: Request Entity Too Large (413)
2024-10-30 05:03:36,882 - INFO - Checking post: 1gertjn - Score: 142 - URL: https://www.redgifs.com/watch/ovalfoolishirukandjijellyfish
2024-10-30 05:03:36,884 - INFO - Post 1gertjn is a duplicate, skipping
2024-10-30 05:03:36,885 - INFO - Checking post: 1gerftq - Score: 129 - URL: https://www.redgifs.com/watch/giantcolossalaxisdeer
2024-10-30 05:03:36,885 - INFO - Post 1gerftq is a duplicate, skipping
2024-10-30 05:03:36,885 - INFO - Checking post: 1ges0e8 - Score: 90 - URL: https://www.redgifs.com/watch/betterbabyishconch
2024-10-30 05:03:36,885 - INFO - Post 1ges0e8 is a duplicate, skipping
2024-10-30 05:03:36,885 - INFO - Checking post: 1geydkn - Score: 83 - URL: https://www.redgifs.com/watch/trivialsuspiciousannelida
2024-10-30 05:03:36,885 - INFO - Post 1geydkn is a duplicate, skipping
2024-10-30 05:03:36,885 - INFO - Checking post: 1gebnwz - Score: 53 - URL: https://www.redgifs.com/watch/embarrassedlavendermollies
2024-10-30 05:03:36,885 - INFO - Post 1gebnwz is a duplicate, skipping
2024-10-30 05:03:36,886 - INFO - Checking post: 1gelnj6 - Score: 48 - URL: https://www.redgifs.com/watch/glisteningstiffcaterpillar
2024-10-30 05:03:36,886 - INFO - Post 1gelnj6 is a duplicate, skipping
2024-10-30 05:03:36,886 - INFO - Checking post: 1gek13a - Score: 37 - URL: https://www.redgifs.com/watch/preciouspalegreenmeadowlark
2024-10-30 05:03:36,886 - INFO - Post 1gek13a is a duplicate, skipping
2024-10-30 05:03:36,886 - INFO - Checking post: 1geaequ - Score: 29 - URL: https://www.redgifs.com/watch/straightfriendlyqueenslandgrouper
2024-10-30 05:03:36,886 - INFO - Post 1geaequ is a duplicate, skipping
2024-10-30 05:03:36,886 - INFO - Checking post: 1gesix5 - Score: 27 - URL: https://www.redgifs.com/watch/assuredsteelblueasiaticmouflon
2024-10-30 05:03:36,886 - INFO - Post 1gesix5 is a duplicate, skipping
2024-10-30 05:03:36,886 - INFO - Checking post: 1get84u - Score: 27 - URL: https://www.redgifs.com/watch/entireneedyilsamochadegu#rel=user%3Abimboandbola;order=new
2024-10-30 05:03:36,886 - INFO - Post 1get84u is a duplicate, skipping
2024-10-30 05:03:36,886 - INFO - Checking post: 1geqh92 - Score: 24 - URL: https://www.redgifs.com/watch/unkemptflowerygelada
2024-10-30 05:03:36,887 - INFO - Post 1geqh92 is a duplicate, skipping
2024-10-30 05:03:36,887 - INFO - Checking post: 1gefa50 - Score: 9 - URL: https://www.redgifs.com/watch/vitaloutlandishpseudodynerusquadrisectus
2024-10-30 05:03:36,887 - INFO - Post 1gefa50 is a duplicate, skipping
2024-10-30 05:03:36,887 - WARNING - No suitable image or video posts found in r/girlsfinishingthejob
2024-10-30 05:03:36,887 - INFO - Updated last_check for girlsfinishingthejob
2024-10-30 05:03:36,887 - INFO - Job "send_to_telegram (trigger: interval[0:01:00], next run at: 2024-10-30 05:04:16 CDT)" executed successfully
2024-10-30 05:03:48,344 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:03:48,344 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/backend/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:03:48,350 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:03:48,350 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/backend/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:03:48,357 - DEBUG - /etc/localtime found
2024-10-30 05:03:48,357 - DEBUG - 1 found:
 {'/etc/localtime is a symlink to': 'America/Chicago'}
2024-10-30 05:03:48,358 - INFO - Scheduler started
2024-10-30 05:03:48,358 - DEBUG - Looking for jobs to run
2024-10-30 05:03:48,360 - INFO - Creating database tables...
2024-10-30 05:03:48,360 - DEBUG - No jobs; waiting until a job is added
2024-10-30 05:03:48,361 - INFO - Clearing existing data...
2024-10-30 05:03:48,363 - INFO - Creating test subreddit configs...
2024-10-30 05:03:48,364 - INFO - Added config for programming
2024-10-30 05:03:48,364 - INFO - Added config for python
2024-10-30 05:03:48,364 - INFO - Creating test sent posts...
2024-10-30 05:03:48,364 - INFO - Added post abc123
2024-10-30 05:03:48,364 - INFO - Added post def456
2024-10-30 05:03:48,366 - INFO - Test data created successfully!
2024-10-30 05:03:48,368 - INFO - Verification: Found 2 configs and 2 posts in database
2024-10-30 05:03:55,907 - DEBUG - send_request_body.failed exception=WriteError(ClosedResourceError())
2024-10-30 05:03:55,908 - DEBUG - response_closed.started
2024-10-30 05:03:55,908 - DEBUG - response_closed.complete
2024-10-30 05:03:55,909 - DEBUG - This Application is already shut down. Returning.
2024-10-30 05:03:55,909 - ERROR - Failed to send video to Telegram: httpx.WriteError: 
2024-10-30 05:03:55,911 - ERROR - Error sending video post 1gawg5d: httpx.WriteError: 
2024-10-30 05:03:55,911 - INFO - Checking post: 1g0pzd2 - Score: 2998 - URL: https://www.reddit.com/gallery/1g0pzd2
2024-10-30 05:03:55,918 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:03:55,953 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:03:55,953 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:03:55 GMT'
2024-10-30 05:03:55,954 - INFO - Post 1g0pzd2 is not an image or video post, skipping
2024-10-30 05:03:55,954 - INFO - Checking post: 1fvjxbg - Score: 2606 - URL: https://www.reddit.com/gallery/1fvjxbg
2024-10-30 05:03:55,955 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:03:55,987 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:03:55,987 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:03:55 GMT'
2024-10-30 05:03:55,987 - INFO - Post 1fvjxbg is not an image or video post, skipping
2024-10-30 05:03:55,987 - INFO - Checking post: 1g7a0gc - Score: 2594 - URL: https://i.redd.it/zv6kq7sy2qvd1.jpeg
2024-10-30 05:03:55,987 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:03:56,016 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:03:56,017 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:03:55 GMT'
2024-10-30 05:03:56,018 - INFO - Found image post: 1g7a0gc with URL: https://i.redd.it/zv6kq7sy2qvd1.jpeg
2024-10-30 05:03:56,020 - DEBUG - Starting new HTTPS connection (1): i.redd.it:443
2024-10-30 05:03:56,084 - DEBUG - https://i.redd.it:443 "GET /zv6kq7sy2qvd1.jpeg HTTP/11" 200 2287482
2024-10-30 05:03:56,175 - INFO - Successfully downloaded media to downloads/pics/1g7a0gc_20241030_050356_a0dcceb4.jpeg
2024-10-30 05:03:56,176 - DEBUG - Using selector: KqueueSelector
2024-10-30 05:03:56,177 - INFO - Attempting to send photo to Telegram - Path: downloads/pics/1g7a0gc_20241030_050356_a0dcceb4.jpeg
2024-10-30 05:03:56,177 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:03:56,178 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:03:56,188 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:03:56,188 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:03:56,195 - DEBUG - Entering: get_me
2024-10-30 05:03:56,196 - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2024-10-30 05:03:56,320 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108cec620>
2024-10-30 05:03:56,320 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x108c72e50> server_hostname='api.telegram.org' timeout=5.0
2024-10-30 05:03:56,452 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108cec2c0>
2024-10-30 05:03:56,453 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:03:56,453 - DEBUG - send_request_headers.complete
2024-10-30 05:03:56,454 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:03:56,454 - DEBUG - send_request_body.complete
2024-10-30 05:03:56,454 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:03:56,574 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:03:56 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'254'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:03:56,575 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/getMe "HTTP/1.1 200 OK"
2024-10-30 05:03:56,575 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:03:56,575 - DEBUG - receive_response_body.complete
2024-10-30 05:03:56,575 - DEBUG - response_closed.started
2024-10-30 05:03:56,575 - DEBUG - response_closed.complete
2024-10-30 05:03:56,575 - DEBUG - User(api_kwargs={'can_connect_to_business': False, 'has_main_web_app': False}, can_join_groups=True, can_read_all_group_messages=False, first_name='RedditBot', id=7867694458, is_bot=True, supports_inline_queries=False, username='RedditImage_bot')
2024-10-30 05:03:56,575 - DEBUG - Exiting: get_me
2024-10-30 05:03:56,576 - DEBUG - This Bot is already initialized.
2024-10-30 05:03:56,576 - DEBUG - Entering: send_photo
2024-10-30 05:03:56,577 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:03:56,577 - DEBUG - send_request_headers.complete
2024-10-30 05:03:56,577 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:03:57,434 - DEBUG - send_request_body.complete
2024-10-30 05:03:57,434 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:03:57,850 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:03:57 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'1309'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:03:57,851 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/sendPhoto "HTTP/1.1 200 OK"
2024-10-30 05:03:57,851 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:03:57,851 - DEBUG - receive_response_body.complete
2024-10-30 05:03:57,851 - DEBUG - response_closed.started
2024-10-30 05:03:57,851 - DEBUG - response_closed.complete
2024-10-30 05:03:57,855 - DEBUG - Message(caption='From r/wifebutt: I wonder how many other guys snapped pics of my Wifebutt while I was napping on the pool deck 😂🫣\nUpvotes: 2,594', channel_chat_created=False, chat=Chat(id=-1002490380283, title='Reddit_Pic_Stream', type=<ChatType.CHANNEL>), date=datetime.datetime(2024, 10, 30, 10, 3, 57, tzinfo=<UTC>), delete_chat_photo=False, group_chat_created=False, message_id=193, photo=(PhotoSize(file_id='AgACAgEAAyEGAASUcC_7AAOfZyH7Djumzq6D0BYNBOVzxHstff8AAkmtMRsZEBFFdV7I7zZrlxABAAMCAANzAAM2BA', file_size=1685, file_unique_id='AQADSa0xGxkQEUV4', height=90, width=67), PhotoSize(file_id='AgACAgEAAyEGAASUcC_7AAOfZyH7Djumzq6D0BYNBOVzxHstff8AAkmtMRsZEBFFdV7I7zZrlxABAAMCAANtAAM2BA', file_size=24184, file_unique_id='AQADSa0xGxkQEUVy', height=320, width=240), PhotoSize(file_id='AgACAgEAAyEGAASUcC_7AAOfZyH7Djumzq6D0BYNBOVzxHstff8AAkmtMRsZEBFFdV7I7zZrlxABAAMCAAN4AAM2BA', file_size=119228, file_unique_id='AQADSa0xGxkQEUV9', height=800, width=601), PhotoSize(file_id='AgACAgEAAyEGAASUcC_7AAOfZyH7Djumzq6D0BYNBOVzxHstff8AAkmtMRsZEBFFdV7I7zZrlxABAAMCAAN5AAM2BA', file_size=273484, file_unique_id='AQADSa0xGxkQEUV-', height=1280, width=961), PhotoSize(file_id='AgACAgEAAyEGAASUcC_7AAOfZyH7Djumzq6D0BYNBOVzxHstff8AAkmtMRsZEBFFdV7I7zZrlxABAAMCAAN3AAM2BA', file_size=909712, file_unique_id='AQADSa0xGxkQEUV8', height=2560, width=1923)), sender_chat=Chat(id=-1002490380283, title='Reddit_Pic_Stream', type=<ChatType.CHANNEL>), supergroup_chat_created=False)
2024-10-30 05:03:57,934 - DEBUG - Exiting: send_photo
2024-10-30 05:03:57,934 - DEBUG - close.started
2024-10-30 05:03:57,934 - DEBUG - close.complete
2024-10-30 05:03:57,935 - DEBUG - This Bot is already shut down. Returning.
2024-10-30 05:03:57,935 - DEBUG - Shut down of Updater complete
2024-10-30 05:03:57,935 - INFO - Successfully sent photo to Telegram
2024-10-30 05:03:57,940 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/'
Request method: 'GET'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'Content-Length': '0'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
No body was attached to the request
2024-10-30 05:03:57,971 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "GET /dbs/ToDoList/colls/sent_posts/ HTTP/11" 200 None
2024-10-30 05:03:57,971 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Content-Location': 'REDACTED'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'x-ms-mtls-status': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'etag': '"00006b00-0000-0300-0000-672201280000"'
    'x-ms-schemaversion': 'REDACTED'
    'collection-partition-index': 'REDACTED'
    'collection-service-index': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-item-lsn': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-cosmos-item-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-max-content-length': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:03:57 GMT'
2024-10-30 05:03:57,971 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-partitionkey': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Content-Type': 'application/json'
    'Accept': 'application/json'
    'Content-Length': '97'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:03:58,008 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 201 None
2024-10-30 05:03:58,008 - INFO - Response status: 201
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'etag': '"0000a806-0000-0300-0000-6722048e0000"'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-quorum-acked-lsn': 'REDACTED'
    'x-ms-current-write-quorum': 'REDACTED'
    'x-ms-current-replica-set-size': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-cosmos-quorum-acked-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:03:57 GMT'
2024-10-30 05:03:58,008 - INFO - Successfully processed and recorded post 1g7a0gc
2024-10-30 05:03:58,008 - INFO - Updated last_check for wifebutt
2024-10-30 05:03:58,009 - INFO - Job "send_to_telegram (trigger: interval[0:01:00], next run at: 2024-10-30 05:04:16 CDT)" executed successfully
2024-10-30 05:04:03,246 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:04:03,247 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/backend/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:04:03,253 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:04:03,253 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/backend/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:04:03,260 - DEBUG - /etc/localtime found
2024-10-30 05:04:03,260 - DEBUG - 1 found:
 {'/etc/localtime is a symlink to': 'America/Chicago'}
2024-10-30 05:04:03,261 - INFO - Scheduler started
2024-10-30 05:04:03,261 - DEBUG - Looking for jobs to run
2024-10-30 05:04:03,262 - INFO - Starting database migration to Cosmos DB...
2024-10-30 05:04:03,262 - DEBUG - No jobs; waiting until a job is added
2024-10-30 05:04:03,262 - INFO - Starting migration of subreddit configurations...
2024-10-30 05:04:03,265 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/subreddit_configs/'
Request method: 'GET'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'Content-Length': '0'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
No body was attached to the request
2024-10-30 05:04:03,326 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "GET /dbs/ToDoList/colls/subreddit_configs/ HTTP/11" 200 None
2024-10-30 05:04:03,327 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Content-Location': 'REDACTED'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'x-ms-mtls-status': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'etag': '"00006600-0000-0300-0000-672201280000"'
    'x-ms-schemaversion': 'REDACTED'
    'collection-partition-index': 'REDACTED'
    'collection-service-index': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-item-lsn': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-cosmos-item-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-max-content-length': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:04:03 GMT'
2024-10-30 05:04:03,327 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/subreddit_configs/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-partitionkey': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Content-Type': 'application/json'
    'Accept': 'application/json'
    'Content-Length': '181'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:04:03,390 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/subreddit_configs/docs/ HTTP/11" 201 None
2024-10-30 05:04:03,393 - INFO - Response status: 201
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'etag': '"0300d71f-0000-0300-0000-672204930000"'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-quorum-acked-lsn': 'REDACTED'
    'x-ms-current-write-quorum': 'REDACTED'
    'x-ms-current-replica-set-size': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-cosmos-quorum-acked-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:04:03 GMT'
2024-10-30 05:04:03,394 - INFO - Migrated config for subreddit: programming
2024-10-30 05:04:03,396 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/subreddit_configs/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-partitionkey': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Content-Type': 'application/json'
    'Accept': 'application/json'
    'Content-Length': '178'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:04:03,452 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/subreddit_configs/docs/ HTTP/11" 201 None
2024-10-30 05:04:03,453 - INFO - Response status: 201
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'etag': '"0300d81f-0000-0300-0000-672204930000"'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-quorum-acked-lsn': 'REDACTED'
    'x-ms-current-write-quorum': 'REDACTED'
    'x-ms-current-replica-set-size': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-cosmos-quorum-acked-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:04:03 GMT'
2024-10-30 05:04:03,454 - INFO - Migrated config for subreddit: python
2024-10-30 05:04:03,455 - INFO - Starting migration of sent posts...
2024-10-30 05:04:03,459 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/'
Request method: 'GET'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'Content-Length': '0'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
No body was attached to the request
2024-10-30 05:04:03,503 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "GET /dbs/ToDoList/colls/sent_posts/ HTTP/11" 200 None
2024-10-30 05:04:03,504 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Content-Location': 'REDACTED'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'x-ms-mtls-status': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'etag': '"00006b00-0000-0300-0000-672201280000"'
    'x-ms-schemaversion': 'REDACTED'
    'collection-partition-index': 'REDACTED'
    'collection-service-index': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-item-lsn': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-cosmos-item-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-max-content-length': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:04:03 GMT'
2024-10-30 05:04:03,504 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-partitionkey': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Content-Type': 'application/json'
    'Accept': 'application/json'
    'Content-Length': '99'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:04:03,568 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 201 None
2024-10-30 05:04:03,568 - INFO - Response status: 201
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'etag': '"0000a906-0000-0300-0000-672204930000"'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-quorum-acked-lsn': 'REDACTED'
    'x-ms-current-write-quorum': 'REDACTED'
    'x-ms-current-replica-set-size': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-cosmos-quorum-acked-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:04:03 GMT'
2024-10-30 05:04:03,568 - INFO - Migrated sent post: abc123
2024-10-30 05:04:03,569 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-partitionkey': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Content-Type': 'application/json'
    'Accept': 'application/json'
    'Content-Length': '94'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:04:03,622 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 201 None
2024-10-30 05:04:03,622 - INFO - Response status: 201
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'etag': '"0000aa06-0000-0300-0000-672204930000"'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-quorum-acked-lsn': 'REDACTED'
    'x-ms-current-write-quorum': 'REDACTED'
    'x-ms-current-replica-set-size': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-cosmos-quorum-acked-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:04:03 GMT'
2024-10-30 05:04:03,622 - INFO - Migrated sent post: def456
2024-10-30 05:04:03,623 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-partitionkey': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Content-Type': 'application/json'
    'Accept': 'application/json'
    'Content-Length': '97'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:04:03,668 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 409 None
2024-10-30 05:04:03,707 - INFO - Response status: 409
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-quorum-acked-lsn': 'REDACTED'
    'x-ms-current-write-quorum': 'REDACTED'
    'x-ms-current-replica-set-size': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-cosmos-quorum-acked-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:04:03 GMT'
2024-10-30 05:04:03,707 - ERROR - Error creating sent post in Cosmos DB: (Conflict) Entity with the specified id already exists in the system., 
RequestStartTime: 2024-10-30T10:04:03.6732413Z, RequestEndTime: 2024-10-30T10:04:03.6757793Z,  Number of regions attempted:1
{"systemHistory":[{"dateUtc":"2024-10-30T10:03:10.7389197Z","cpu":0.164,"memory":427542232.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0351,"availableThreads":32764,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":570},{"dateUtc":"2024-10-30T10:03:20.7488729Z","cpu":0.159,"memory":427555020.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0423,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":570},{"dateUtc":"2024-10-30T10:03:30.7589086Z","cpu":0.358,"memory":427555060.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0318,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":572},{"dateUtc":"2024-10-30T10:03:40.7689182Z","cpu":0.134,"memory":427528900.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0674,"availableThreads":32764,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":571},{"dateUtc":"2024-10-30T10:03:50.7789277Z","cpu":0.195,"memory":427506540.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0385,"availableThreads":32764,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":572},{"dateUtc":"2024-10-30T10:04:00.7889474Z","cpu":0.224,"memory":427491628.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0513,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":573}]}
RequestStart: 2024-10-30T10:04:03.6733246Z; ResponseTime: 2024-10-30T10:04:03.6757793Z; StoreResult: StorePhysicalAddress: rntbd://cdb-ms-prod-centralus1-be118.documents.azure.com:14105/apps/3a0fa558-ece1-4a99-8d7c-4fe2b422d4c0/services/82953f6d-a7b0-400f-a2ad-8510fce95224/partitions/ac3e5a5f-8d49-40cd-91d2-8d9122bfd805/replicas/133747410267249798p/, LSN: 4, GlobalCommittedLsn: 4, PartitionKeyRangeId: 0, IsValid: True, StatusCode: 409, SubStatusCode: 0, RequestCharge: 1.67, ItemLSN: -1, SessionToken: -1#4, UsingLocalLSN: False, TransportException: null, BELatencyMs: 1.403, ActivityId: e5855ee1-ed0a-47ce-99fe-a780622940c3, RetryAfterInMs: , ReplicaHealthStatuses: [(port: 14105 | status: Connected | lkt: 10/30/2024 10:04:03 AM)], TransportRequestTimeline: {"requestTimeline":[{"event": "Created", "startTimeUtc": "2024-10-30T10:04:03.6733253Z", "durationInMs": 0.0082},{"event": "ChannelAcquisitionStarted", "startTimeUtc": "2024-10-30T10:04:03.6733335Z", "durationInMs": 0.0019},{"event": "Pipelined", "startTimeUtc": "2024-10-30T10:04:03.6733354Z", "durationInMs": 0.0683},{"event": "Transit Time", "startTimeUtc": "2024-10-30T10:04:03.6734037Z", "durationInMs": 2.2938},{"event": "Received", "startTimeUtc": "2024-10-30T10:04:03.6756975Z", "durationInMs": 0.0706},{"event": "Completed", "startTimeUtc": "2024-10-30T10:04:03.6757681Z", "durationInMs": 0}],"serviceEndpointStats":{"inflightRequests":1,"openConnections":1},"connectionStats":{"waitforConnectionInit":"False","callsPendingReceive":0,"lastSendAttempt":"2024-10-30T10:04:03.6203097Z","lastSend":"2024-10-30T10:04:03.6203465Z","lastReceive":"2024-10-30T10:04:03.6253922Z"},"requestSizeInBytes":626,"requestBodySizeInBytes":101,"responseMetadataSizeInBytes":182,"responseBodySizeInBytes":65};
 ResourceType: Document, OperationType: Create
, Microsoft.Azure.Documents.Common/2.14.0
Code: Conflict
Message: Entity with the specified id already exists in the system., 
RequestStartTime: 2024-10-30T10:04:03.6732413Z, RequestEndTime: 2024-10-30T10:04:03.6757793Z,  Number of regions attempted:1
{"systemHistory":[{"dateUtc":"2024-10-30T10:03:10.7389197Z","cpu":0.164,"memory":427542232.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0351,"availableThreads":32764,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":570},{"dateUtc":"2024-10-30T10:03:20.7488729Z","cpu":0.159,"memory":427555020.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0423,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":570},{"dateUtc":"2024-10-30T10:03:30.7589086Z","cpu":0.358,"memory":427555060.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0318,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":572},{"dateUtc":"2024-10-30T10:03:40.7689182Z","cpu":0.134,"memory":427528900.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0674,"availableThreads":32764,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":571},{"dateUtc":"2024-10-30T10:03:50.7789277Z","cpu":0.195,"memory":427506540.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0385,"availableThreads":32764,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":572},{"dateUtc":"2024-10-30T10:04:00.7889474Z","cpu":0.224,"memory":427491628.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0513,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":573}]}
RequestStart: 2024-10-30T10:04:03.6733246Z; ResponseTime: 2024-10-30T10:04:03.6757793Z; StoreResult: StorePhysicalAddress: rntbd://cdb-ms-prod-centralus1-be118.documents.azure.com:14105/apps/3a0fa558-ece1-4a99-8d7c-4fe2b422d4c0/services/82953f6d-a7b0-400f-a2ad-8510fce95224/partitions/ac3e5a5f-8d49-40cd-91d2-8d9122bfd805/replicas/133747410267249798p/, LSN: 4, GlobalCommittedLsn: 4, PartitionKeyRangeId: 0, IsValid: True, StatusCode: 409, SubStatusCode: 0, RequestCharge: 1.67, ItemLSN: -1, SessionToken: -1#4, UsingLocalLSN: False, TransportException: null, BELatencyMs: 1.403, ActivityId: e5855ee1-ed0a-47ce-99fe-a780622940c3, RetryAfterInMs: , ReplicaHealthStatuses: [(port: 14105 | status: Connected | lkt: 10/30/2024 10:04:03 AM)], TransportRequestTimeline: {"requestTimeline":[{"event": "Created", "startTimeUtc": "2024-10-30T10:04:03.6733253Z", "durationInMs": 0.0082},{"event": "ChannelAcquisitionStarted", "startTimeUtc": "2024-10-30T10:04:03.6733335Z", "durationInMs": 0.0019},{"event": "Pipelined", "startTimeUtc": "2024-10-30T10:04:03.6733354Z", "durationInMs": 0.0683},{"event": "Transit Time", "startTimeUtc": "2024-10-30T10:04:03.6734037Z", "durationInMs": 2.2938},{"event": "Received", "startTimeUtc": "2024-10-30T10:04:03.6756975Z", "durationInMs": 0.0706},{"event": "Completed", "startTimeUtc": "2024-10-30T10:04:03.6757681Z", "durationInMs": 0}],"serviceEndpointStats":{"inflightRequests":1,"openConnections":1},"connectionStats":{"waitforConnectionInit":"False","callsPendingReceive":0,"lastSendAttempt":"2024-10-30T10:04:03.6203097Z","lastSend":"2024-10-30T10:04:03.6203465Z","lastReceive":"2024-10-30T10:04:03.6253922Z"},"requestSizeInBytes":626,"requestBodySizeInBytes":101,"responseMetadataSizeInBytes":182,"responseBodySizeInBytes":65};
 ResourceType: Document, OperationType: Create
, Microsoft.Azure.Documents.Common/2.14.0
2024-10-30 05:04:03,707 - INFO - Migrated sent post: 1g7a0gc
2024-10-30 05:04:03,707 - INFO - Migration completed successfully!
2024-10-30 05:04:11,876 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:04:11,877 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/backend/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:04:11,882 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:04:11,883 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/backend/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:04:11,889 - DEBUG - /etc/localtime found
2024-10-30 05:04:11,889 - DEBUG - 1 found:
 {'/etc/localtime is a symlink to': 'America/Chicago'}
2024-10-30 05:04:11,890 - INFO - Scheduler started
2024-10-30 05:04:11,890 - DEBUG - Looking for jobs to run
2024-10-30 05:04:11,893 - DEBUG - No jobs; waiting until a job is added
2024-10-30 05:04:11,894 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/subreddit_configs/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '27'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:04:11,936 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/subreddit_configs/docs/ HTTP/11" 200 None
2024-10-30 05:04:11,937 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:04:11 GMT'
2024-10-30 05:04:11,937 - INFO - 
=== Subreddit Configurations ===
2024-10-30 05:04:11,937 - INFO - SQLite count: 2
2024-10-30 05:04:11,937 - INFO - SQLite configs:
2024-10-30 05:04:11,937 - INFO - {'filter_type': 'top_day',
 'frequency': 60,
 'id': 1,
 'is_active': True,
 'last_check': '2024-10-30T10:03:48.366054',
 'subreddit_name': 'programming'}
2024-10-30 05:04:11,937 - INFO - {'filter_type': 'top_week',
 'frequency': 120,
 'id': 2,
 'is_active': True,
 'last_check': '2024-10-30T10:03:48.366057',
 'subreddit_name': 'python'}
2024-10-30 05:04:11,937 - INFO - 
Cosmos DB count: 2
2024-10-30 05:04:11,937 - INFO - Cosmos DB configs:
2024-10-30 05:04:11,937 - INFO - {'_attachments': 'attachments/',
 '_etag': '"0300d71f-0000-0300-0000-672204930000"',
 '_rid': 'oQYbAK6yBIYBAAAAAAAAAA==',
 '_self': 'dbs/oQYbAA==/colls/oQYbAK6yBIY=/docs/oQYbAK6yBIYBAAAAAAAAAA==/',
 '_ts': 1730282643,
 'created_at': '2024-10-30T10:04:03.265769',
 'filter_type': 'top_day',
 'frequency': 60,
 'id': '1',
 'is_active': True,
 'last_check': '2024-10-30T10:04:03.265771',
 'subreddit_name': 'programming'}
2024-10-30 05:04:11,937 - INFO - {'_attachments': 'attachments/',
 '_etag': '"0300d81f-0000-0300-0000-672204930000"',
 '_rid': 'oQYbAK6yBIYCAAAAAAAAAA==',
 '_self': 'dbs/oQYbAA==/colls/oQYbAK6yBIY=/docs/oQYbAK6yBIYCAAAAAAAAAA==/',
 '_ts': 1730282643,
 'created_at': '2024-10-30T10:04:03.394987',
 'filter_type': 'top_week',
 'frequency': 120,
 'id': '2',
 'is_active': True,
 'last_check': '2024-10-30T10:04:03.394995',
 'subreddit_name': 'python'}
2024-10-30 05:04:11,938 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '27'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:04:11,982 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:04:11,983 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-quorum-acked-lsn': 'REDACTED'
    'x-ms-current-write-quorum': 'REDACTED'
    'x-ms-current-replica-set-size': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-cosmos-quorum-acked-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:04:11 GMT'
2024-10-30 05:04:11,984 - INFO - 
=== Sent Posts ===
2024-10-30 05:04:11,984 - INFO - SQLite count: 3
2024-10-30 05:04:11,984 - INFO - SQLite posts:
2024-10-30 05:04:11,984 - INFO - {'id': 1,
 'post_id': 'abc123',
 'sent_at': '2024-10-30T08:03:48.364271',
 'subreddit_name': 'programming'}
2024-10-30 05:04:11,986 - INFO - {'id': 2,
 'post_id': 'def456',
 'sent_at': '2024-10-30T09:03:48.364308',
 'subreddit_name': 'python'}
2024-10-30 05:04:11,986 - INFO - {'id': 3,
 'post_id': '1g7a0gc',
 'sent_at': '2024-10-30T10:03:57.938206',
 'subreddit_name': 'wifebutt'}
2024-10-30 05:04:11,986 - INFO - 
Cosmos DB count: 3
2024-10-30 05:04:11,986 - INFO - Cosmos DB posts:
2024-10-30 05:04:11,986 - INFO - {'_attachments': 'attachments/',
 '_etag': '"0000a806-0000-0300-0000-6722048e0000"',
 '_rid': 'oQYbAOPBChsBAAAAAAAAAA==',
 '_self': 'dbs/oQYbAA==/colls/oQYbAOPBChs=/docs/oQYbAOPBChsBAAAAAAAAAA==/',
 '_ts': 1730282638,
 'id': '3',
 'post_id': '1g7a0gc',
 'sent_at': '2024-10-30T10:03:57.940202',
 'subreddit_name': 'wifebutt'}
2024-10-30 05:04:11,986 - INFO - {'_attachments': 'attachments/',
 '_etag': '"0000a906-0000-0300-0000-672204930000"',
 '_rid': 'oQYbAOPBChsCAAAAAAAAAA==',
 '_self': 'dbs/oQYbAA==/colls/oQYbAOPBChs=/docs/oQYbAOPBChsCAAAAAAAAAA==/',
 '_ts': 1730282643,
 'id': '1',
 'post_id': 'abc123',
 'sent_at': '2024-10-30T10:04:03.458761',
 'subreddit_name': 'programming'}
2024-10-30 05:04:11,986 - INFO - {'_attachments': 'attachments/',
 '_etag': '"0000aa06-0000-0300-0000-672204930000"',
 '_rid': 'oQYbAOPBChsDAAAAAAAAAA==',
 '_self': 'dbs/oQYbAA==/colls/oQYbAOPBChs=/docs/oQYbAOPBChsDAAAAAAAAAA==/',
 '_ts': 1730282643,
 'id': '2',
 'post_id': 'def456',
 'sent_at': '2024-10-30T10:04:03.568848',
 'subreddit_name': 'python'}
2024-10-30 05:04:16,977 - DEBUG - Looking for jobs to run
2024-10-30 05:04:16,979 - DEBUG - Next wakeup is due at 2024-10-30 05:05:16.969826-05:00 (in 59.990621 seconds)
2024-10-30 05:04:16,979 - INFO - Running job "send_to_telegram (trigger: interval[0:01:00], next run at: 2024-10-30 05:05:16 CDT)" (scheduled at 2024-10-30 05:04:16.969826-05:00)
2024-10-30 05:04:16,979 - INFO - Running job "send_to_telegram (trigger: interval[0:01:00], next run at: 2024-10-30 05:05:16 CDT)" (scheduled at 2024-10-30 05:04:16.970029-05:00)
2024-10-30 05:04:16,980 - INFO - Processing subreddit: girlsfinishingthejob
2024-10-30 05:04:16,981 - INFO - Processing subreddit: wifebutt
2024-10-30 05:04:16,981 - INFO - Fetching top posts of the day
2024-10-30 05:04:16,981 - INFO - Fetching top posts of the month
2024-10-30 05:04:16,983 - DEBUG - Fetching: GET https://oauth.reddit.com/r/girlsfinishingthejob/top at 1730282656.983179
2024-10-30 05:04:16,983 - DEBUG - Fetching: GET https://oauth.reddit.com/r/wifebutt/top at 1730282656.9838789
2024-10-30 05:04:16,984 - DEBUG - Data: None
2024-10-30 05:04:16,984 - DEBUG - Data: None
2024-10-30 05:04:16,984 - DEBUG - Params: {'limit': 50, 'raw_json': 1, 't': 'day'}
2024-10-30 05:04:16,984 - DEBUG - Params: {'limit': 50, 'raw_json': 1, 't': 'month'}
2024-10-30 05:04:17,369 - DEBUG - https://oauth.reddit.com:443 "GET /r/girlsfinishingthejob/top?t=day&limit=50&raw_json=1 HTTP/11" 200 24106
2024-10-30 05:04:17,372 - DEBUG - Response: 200 (24106 bytes) (rst-0:rem-147.0:used-3 ratelimit) at 1730282657.372897
2024-10-30 05:04:17,377 - INFO - Checking post: 1gelyz1 - Score: 7076 - URL: https://www.redgifs.com/watch/uttersvelteamphibian
2024-10-30 05:04:17,381 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:04:17,424 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:04:17,424 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:04:17 GMT'
2024-10-30 05:04:17,425 - INFO - Found video post: 1gelyz1
2024-10-30 05:04:17,425 - DEBUG - Starting new HTTPS connection (1): api.redgifs.com:443
2024-10-30 05:04:17,528 - DEBUG - https://api.redgifs.com:443 "GET /v2/gifs/uttersvelteamphibian HTTP/11" 200 None
2024-10-30 05:04:17,531 - DEBUG - Starting new HTTPS connection (1): files.redgifs.com:443
2024-10-30 05:04:17,604 - DEBUG - https://files.redgifs.com:443 "GET /UtterSvelteAmphibian.mp4 HTTP/11" 200 42980012
2024-10-30 05:04:17,757 - DEBUG - https://oauth.reddit.com:443 "GET /r/wifebutt/top?t=month&limit=50&raw_json=1 HTTP/11" 200 49245
2024-10-30 05:04:17,784 - DEBUG - Response: 200 (49245 bytes) (rst-0:rem-149.0:used-1 ratelimit) at 1730282657.78486
2024-10-30 05:04:17,790 - INFO - Checking post: 1g9w053 - Score: 5361 - URL: https://www.reddit.com/gallery/1g9w053
2024-10-30 05:04:17,792 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:04:17,842 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:04:17,843 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:04:17 GMT'
2024-10-30 05:04:17,844 - INFO - Post 1g9w053 is not an image or video post, skipping
2024-10-30 05:04:17,844 - INFO - Checking post: 1fv4cfc - Score: 4578 - URL: https://www.reddit.com/gallery/1fv4cfc
2024-10-30 05:04:17,845 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:04:17,886 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:04:17,888 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:04:17 GMT'
2024-10-30 05:04:17,888 - INFO - Post 1fv4cfc is not an image or video post, skipping
2024-10-30 05:04:17,888 - INFO - Checking post: 1ganrp0 - Score: 4209 - URL: https://i.redd.it/ezatz8645lwd1.jpeg
2024-10-30 05:04:17,894 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:04:17,952 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:04:17,953 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:04:17 GMT'
2024-10-30 05:04:17,953 - INFO - Found image post: 1ganrp0 with URL: https://i.redd.it/ezatz8645lwd1.jpeg
2024-10-30 05:04:17,955 - DEBUG - Starting new HTTPS connection (1): i.redd.it:443
2024-10-30 05:04:18,564 - DEBUG - https://i.redd.it:443 "GET /ezatz8645lwd1.jpeg HTTP/11" 200 159021
2024-10-30 05:04:18,674 - INFO - Successfully downloaded media to downloads/pics/1ganrp0_20241030_050417_5431c47d.jpeg
2024-10-30 05:04:18,676 - DEBUG - Using selector: KqueueSelector
2024-10-30 05:04:18,676 - INFO - Attempting to send photo to Telegram - Path: downloads/pics/1ganrp0_20241030_050417_5431c47d.jpeg
2024-10-30 05:04:18,677 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:04:18,677 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:04:18,684 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:04:18,685 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:04:18,691 - DEBUG - Entering: get_me
2024-10-30 05:04:18,692 - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2024-10-30 05:04:18,832 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108a5dfa0>
2024-10-30 05:04:18,832 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x108ee4650> server_hostname='api.telegram.org' timeout=5.0
2024-10-30 05:04:19,014 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108ed3f20>
2024-10-30 05:04:19,015 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:04:19,015 - DEBUG - send_request_headers.complete
2024-10-30 05:04:19,016 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:04:19,016 - DEBUG - send_request_body.complete
2024-10-30 05:04:19,016 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:04:19,177 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:04:19 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'254'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:04:19,177 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/getMe "HTTP/1.1 200 OK"
2024-10-30 05:04:19,177 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:04:19,177 - DEBUG - receive_response_body.complete
2024-10-30 05:04:19,177 - DEBUG - response_closed.started
2024-10-30 05:04:19,177 - DEBUG - response_closed.complete
2024-10-30 05:04:19,177 - DEBUG - User(api_kwargs={'can_connect_to_business': False, 'has_main_web_app': False}, can_join_groups=True, can_read_all_group_messages=False, first_name='RedditBot', id=7867694458, is_bot=True, supports_inline_queries=False, username='RedditImage_bot')
2024-10-30 05:04:19,177 - DEBUG - Exiting: get_me
2024-10-30 05:04:19,177 - DEBUG - This Bot is already initialized.
2024-10-30 05:04:19,178 - DEBUG - Entering: send_photo
2024-10-30 05:04:19,178 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:04:19,178 - DEBUG - send_request_headers.complete
2024-10-30 05:04:19,178 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:04:19,367 - INFO - Successfully downloaded media to downloads/videos/1gelyz1_20241030_050417_ba5c8ead.mp4
2024-10-30 05:04:19,369 - DEBUG - Using selector: KqueueSelector
2024-10-30 05:04:19,369 - INFO - Attempting to send video to Telegram - Path: downloads/videos/1gelyz1_20241030_050417_ba5c8ead.mp4
2024-10-30 05:04:19,369 - DEBUG - This Application is already initialized.
2024-10-30 05:04:19,369 - DEBUG - Entering: send_video
2024-10-30 05:04:19,379 - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2024-10-30 05:04:19,466 - DEBUG - send_request_body.complete
2024-10-30 05:04:19,466 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:04:19,500 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108c76d50>
2024-10-30 05:04:19,500 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x108ee4650> server_hostname='api.telegram.org' timeout=5.0
2024-10-30 05:04:19,628 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108a5eea0>
2024-10-30 05:04:19,629 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:04:19,629 - DEBUG - send_request_headers.complete
2024-10-30 05:04:19,629 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:04:19,853 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:04:19 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'1208'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:04:19,854 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/sendPhoto "HTTP/1.1 200 OK"
2024-10-30 05:04:19,854 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:04:19,854 - DEBUG - receive_response_body.complete
2024-10-30 05:04:19,854 - DEBUG - response_closed.started
2024-10-30 05:04:19,854 - DEBUG - response_closed.complete
2024-10-30 05:04:19,855 - DEBUG - Message(caption='From r/wifebutt: Wifebutt in the Wild\nUpvotes: 4,209', channel_chat_created=False, chat=Chat(id=-1002490380283, title='Reddit_Pic_Stream', type=<ChatType.CHANNEL>), date=datetime.datetime(2024, 10, 30, 10, 4, 19, tzinfo=<UTC>), delete_chat_photo=False, group_chat_created=False, message_id=195, photo=(PhotoSize(file_id='AgACAgEAAyEGAASUcC_7AAMbZyHFcEWnLeGkPdyMNQu97QZxL7YAAkKxMRsZEAlF4JeIq_0Hcg0BAAMCAANzAAM2BA', file_size=854, file_unique_id='AQADQrExGxkQCUV4', height=90, width=72), PhotoSize(file_id='AgACAgEAAyEGAASUcC_7AAMbZyHFcEWnLeGkPdyMNQu97QZxL7YAAkKxMRsZEAlF4JeIq_0Hcg0BAAMCAANtAAM2BA', file_size=10468, file_unique_id='AQADQrExGxkQCUVy', height=320, width=257), PhotoSize(file_id='AgACAgEAAyEGAASUcC_7AAMbZyHFcEWnLeGkPdyMNQu97QZxL7YAAkKxMRsZEAlF4JeIq_0Hcg0BAAMCAAN4AAM2BA', file_size=44416, file_unique_id='AQADQrExGxkQCUV9', height=800, width=643), PhotoSize(file_id='AgACAgEAAyEGAASUcC_7AAMbZyHFcEWnLeGkPdyMNQu97QZxL7YAAkKxMRsZEAlF4JeIq_0Hcg0BAAMCAAN3AAM2BA', file_size=82520, file_unique_id='AQADQrExGxkQCUV8', height=1466, width=1179), PhotoSize(file_id='AgACAgEAAyEGAASUcC_7AAMbZyHFcEWnLeGkPdyMNQu97QZxL7YAAkKxMRsZEAlF4JeIq_0Hcg0BAAMCAAN5AAM2BA', file_size=90959, file_unique_id='AQADQrExGxkQCUV-', height=1280, width=1029)), sender_chat=Chat(id=-1002490380283, title='Reddit_Pic_Stream', type=<ChatType.CHANNEL>), supergroup_chat_created=False)
2024-10-30 05:04:19,855 - DEBUG - Exiting: send_photo
2024-10-30 05:04:19,855 - DEBUG - close.started
2024-10-30 05:04:19,855 - DEBUG - close.complete
2024-10-30 05:04:19,855 - DEBUG - close.started
2024-10-30 05:04:19,855 - DEBUG - close.complete
2024-10-30 05:04:19,855 - DEBUG - This Bot is already shut down. Returning.
2024-10-30 05:04:19,855 - DEBUG - Shut down of Updater complete
2024-10-30 05:04:19,855 - INFO - Successfully sent photo to Telegram
2024-10-30 05:04:19,859 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-partitionkey': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Content-Type': 'application/json'
    'Accept': 'application/json'
    'Content-Length': '97'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:04:19,891 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 201 None
2024-10-30 05:04:19,892 - INFO - Response status: 201
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'etag': '"0000b306-0000-0300-0000-672204a30000"'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-quorum-acked-lsn': 'REDACTED'
    'x-ms-current-write-quorum': 'REDACTED'
    'x-ms-current-replica-set-size': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-cosmos-quorum-acked-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:04:19 GMT'
2024-10-30 05:04:19,892 - INFO - Successfully processed and recorded post 1ganrp0
2024-10-30 05:04:19,892 - INFO - Updated last_check for wifebutt
2024-10-30 05:04:19,893 - INFO - Job "send_to_telegram (trigger: interval[0:01:00], next run at: 2024-10-30 05:05:16 CDT)" executed successfully
2024-10-30 05:04:33,070 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:04:33,071 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/backend/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:04:33,078 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:04:33,078 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/backend/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:04:33,085 - DEBUG - /etc/localtime found
2024-10-30 05:04:33,085 - DEBUG - 1 found:
 {'/etc/localtime is a symlink to': 'America/Chicago'}
2024-10-30 05:04:33,086 - INFO - Scheduler started
2024-10-30 05:04:33,086 - DEBUG - Looking for jobs to run
2024-10-30 05:04:33,087 - INFO - 
=== SQLite Database Contents ===
2024-10-30 05:04:33,088 - DEBUG - No jobs; waiting until a job is added
2024-10-30 05:04:33,091 - INFO - SQLite Subreddit Configs (2):
2024-10-30 05:04:33,092 - INFO - {'filter_type': 'top_day',
 'frequency': 60,
 'id': 1,
 'is_active': True,
 'last_check': '2024-10-30T10:03:48.366054',
 'subreddit_name': 'programming'}
2024-10-30 05:04:33,092 - INFO - {'filter_type': 'top_week',
 'frequency': 120,
 'id': 2,
 'is_active': True,
 'last_check': '2024-10-30T10:03:48.366057',
 'subreddit_name': 'python'}
2024-10-30 05:04:33,092 - INFO - 
SQLite Sent Posts (5):
2024-10-30 05:04:33,092 - INFO - {'id': 1,
 'post_id': 'abc123',
 'sent_at': '2024-10-30T08:03:48.364271',
 'subreddit_name': 'programming'}
2024-10-30 05:04:33,092 - INFO - {'id': 2,
 'post_id': 'def456',
 'sent_at': '2024-10-30T09:03:48.364308',
 'subreddit_name': 'python'}
2024-10-30 05:04:33,092 - INFO - {'id': 3,
 'post_id': '1g7a0gc',
 'sent_at': '2024-10-30T10:03:57.938206',
 'subreddit_name': 'wifebutt'}
2024-10-30 05:04:33,092 - INFO - {'id': 4,
 'post_id': '1ganrp0',
 'sent_at': '2024-10-30T10:04:18.247546',
 'subreddit_name': 'wifebutt'}
2024-10-30 05:04:33,092 - INFO - {'id': 5,
 'post_id': '1ganrp0',
 'sent_at': '2024-10-30T10:04:19.856990',
 'subreddit_name': 'wifebutt'}
2024-10-30 05:04:33,092 - INFO - 
=== Cosmos DB Contents ===
2024-10-30 05:04:33,093 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/subreddit_configs/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '27'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:04:33,138 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/subreddit_configs/docs/ HTTP/11" 200 None
2024-10-30 05:04:33,139 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:04:32 GMT'
2024-10-30 05:04:33,139 - INFO - Cosmos DB Subreddit Configs (2):
2024-10-30 05:04:33,139 - INFO - {'_attachments': 'attachments/',
 '_etag': '"0300d71f-0000-0300-0000-672204930000"',
 '_rid': 'oQYbAK6yBIYBAAAAAAAAAA==',
 '_self': 'dbs/oQYbAA==/colls/oQYbAK6yBIY=/docs/oQYbAK6yBIYBAAAAAAAAAA==/',
 '_ts': 1730282643,
 'created_at': '2024-10-30T10:04:03.265769',
 'filter_type': 'top_day',
 'frequency': 60,
 'id': '1',
 'is_active': True,
 'last_check': '2024-10-30T10:04:03.265771',
 'subreddit_name': 'programming'}
2024-10-30 05:04:33,139 - INFO - {'_attachments': 'attachments/',
 '_etag': '"0300d81f-0000-0300-0000-672204930000"',
 '_rid': 'oQYbAK6yBIYCAAAAAAAAAA==',
 '_self': 'dbs/oQYbAA==/colls/oQYbAK6yBIY=/docs/oQYbAK6yBIYCAAAAAAAAAA==/',
 '_ts': 1730282643,
 'created_at': '2024-10-30T10:04:03.394987',
 'filter_type': 'top_week',
 'frequency': 120,
 'id': '2',
 'is_active': True,
 'last_check': '2024-10-30T10:04:03.394995',
 'subreddit_name': 'python'}
2024-10-30 05:04:33,139 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '27'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:04:33,185 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:04:33,186 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:04:32 GMT'
2024-10-30 05:04:33,186 - INFO - 
Cosmos DB Sent Posts (5):
2024-10-30 05:04:33,186 - INFO - {'_attachments': 'attachments/',
 '_etag': '"0000a806-0000-0300-0000-6722048e0000"',
 '_rid': 'oQYbAOPBChsBAAAAAAAAAA==',
 '_self': 'dbs/oQYbAA==/colls/oQYbAOPBChs=/docs/oQYbAOPBChsBAAAAAAAAAA==/',
 '_ts': 1730282638,
 'id': '3',
 'post_id': '1g7a0gc',
 'sent_at': '2024-10-30T10:03:57.940202',
 'subreddit_name': 'wifebutt'}
2024-10-30 05:04:33,186 - INFO - {'_attachments': 'attachments/',
 '_etag': '"0000a906-0000-0300-0000-672204930000"',
 '_rid': 'oQYbAOPBChsCAAAAAAAAAA==',
 '_self': 'dbs/oQYbAA==/colls/oQYbAOPBChs=/docs/oQYbAOPBChsCAAAAAAAAAA==/',
 '_ts': 1730282643,
 'id': '1',
 'post_id': 'abc123',
 'sent_at': '2024-10-30T10:04:03.458761',
 'subreddit_name': 'programming'}
2024-10-30 05:04:33,186 - INFO - {'_attachments': 'attachments/',
 '_etag': '"0000aa06-0000-0300-0000-672204930000"',
 '_rid': 'oQYbAOPBChsDAAAAAAAAAA==',
 '_self': 'dbs/oQYbAA==/colls/oQYbAOPBChs=/docs/oQYbAOPBChsDAAAAAAAAAA==/',
 '_ts': 1730282643,
 'id': '2',
 'post_id': 'def456',
 'sent_at': '2024-10-30T10:04:03.568848',
 'subreddit_name': 'python'}
2024-10-30 05:04:33,186 - INFO - {'_attachments': 'attachments/',
 '_etag': '"0000b006-0000-0300-0000-672204a20000"',
 '_rid': 'oQYbAOPBChsEAAAAAAAAAA==',
 '_self': 'dbs/oQYbAA==/colls/oQYbAOPBChs=/docs/oQYbAOPBChsEAAAAAAAAAA==/',
 '_ts': 1730282658,
 'id': '4',
 'post_id': '1ganrp0',
 'sent_at': '2024-10-30T10:04:18.251306',
 'subreddit_name': 'wifebutt'}
2024-10-30 05:04:33,186 - INFO - {'_attachments': 'attachments/',
 '_etag': '"0000b306-0000-0300-0000-672204a30000"',
 '_rid': 'oQYbAOPBChsFAAAAAAAAAA==',
 '_self': 'dbs/oQYbAA==/colls/oQYbAOPBChs=/docs/oQYbAOPBChsFAAAAAAAAAA==/',
 '_ts': 1730282659,
 'id': '5',
 'post_id': '1ganrp0',
 'sent_at': '2024-10-30T10:04:19.858775',
 'subreddit_name': 'wifebutt'}
2024-10-30 05:04:39,636 - DEBUG - send_request_body.failed exception=WriteError(ClosedResourceError())
2024-10-30 05:04:39,636 - DEBUG - response_closed.started
2024-10-30 05:04:39,636 - DEBUG - response_closed.complete
2024-10-30 05:04:39,637 - DEBUG - This Application is already shut down. Returning.
2024-10-30 05:04:39,637 - ERROR - Failed to send video to Telegram: httpx.WriteError: 
2024-10-30 05:04:39,638 - ERROR - Error sending video post 1gelyz1: httpx.WriteError: 
2024-10-30 05:04:39,638 - INFO - Checking post: 1gejrnl - Score: 2574 - URL: https://v3.redgifs.com/watch/graydefensivepika
2024-10-30 05:04:39,643 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:04:39,687 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:04:39,687 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-quorum-acked-lsn': 'REDACTED'
    'x-ms-current-write-quorum': 'REDACTED'
    'x-ms-current-replica-set-size': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-cosmos-quorum-acked-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:04:39 GMT'
2024-10-30 05:04:39,688 - INFO - Found video post: 1gejrnl
2024-10-30 05:04:39,689 - DEBUG - Starting new HTTPS connection (1): api.redgifs.com:443
2024-10-30 05:04:39,820 - DEBUG - https://api.redgifs.com:443 "GET /v2/gifs/graydefensivepika HTTP/11" 200 None
2024-10-30 05:04:39,831 - DEBUG - Starting new HTTPS connection (1): files.redgifs.com:443
2024-10-30 05:04:39,922 - DEBUG - https://files.redgifs.com:443 "GET /GrayDefensivePika.mp4 HTTP/11" 200 20988218
2024-10-30 05:04:41,021 - INFO - Successfully downloaded media to downloads/videos/1gejrnl_20241030_050439_bb0388cc.mp4
2024-10-30 05:04:41,023 - DEBUG - Using selector: KqueueSelector
2024-10-30 05:04:41,023 - INFO - Attempting to send video to Telegram - Path: downloads/videos/1gejrnl_20241030_050439_bb0388cc.mp4
2024-10-30 05:04:41,024 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:04:41,025 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:04:41,042 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:04:41,044 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:04:41,086 - DEBUG - Entering: get_me
2024-10-30 05:04:41,089 - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2024-10-30 05:04:41,223 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108a5df10>
2024-10-30 05:04:41,223 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x108e59d50> server_hostname='api.telegram.org' timeout=5.0
2024-10-30 05:04:41,364 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108a5e9f0>
2024-10-30 05:04:41,364 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:04:41,365 - DEBUG - send_request_headers.complete
2024-10-30 05:04:41,365 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:04:41,365 - DEBUG - send_request_body.complete
2024-10-30 05:04:41,365 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:04:41,482 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:04:41 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'254'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:04:41,483 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/getMe "HTTP/1.1 200 OK"
2024-10-30 05:04:41,483 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:04:41,483 - DEBUG - receive_response_body.complete
2024-10-30 05:04:41,483 - DEBUG - response_closed.started
2024-10-30 05:04:41,483 - DEBUG - response_closed.complete
2024-10-30 05:04:41,483 - DEBUG - User(api_kwargs={'can_connect_to_business': False, 'has_main_web_app': False}, can_join_groups=True, can_read_all_group_messages=False, first_name='RedditBot', id=7867694458, is_bot=True, supports_inline_queries=False, username='RedditImage_bot')
2024-10-30 05:04:41,483 - DEBUG - Exiting: get_me
2024-10-30 05:04:41,483 - DEBUG - This Bot is already initialized.
2024-10-30 05:04:41,484 - DEBUG - Entering: send_video
2024-10-30 05:04:41,490 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:04:41,490 - DEBUG - send_request_headers.complete
2024-10-30 05:04:41,490 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:04:43,581 - DEBUG - send_request_body.complete
2024-10-30 05:04:43,582 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:04:45,711 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:04:45 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'593'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:04:45,711 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/sendVideo "HTTP/1.1 200 OK"
2024-10-30 05:04:45,711 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:04:45,711 - DEBUG - receive_response_body.complete
2024-10-30 05:04:45,711 - DEBUG - response_closed.started
2024-10-30 05:04:45,712 - DEBUG - response_closed.complete
2024-10-30 05:04:45,712 - DEBUG - Message(caption="From r/girlsfinishingthejob: I don't know about water but I emptied his pipe hehe\nUpvotes: 2,574", channel_chat_created=False, chat=Chat(id=-1002490380283, title='Reddit_Pic_Stream', type=<ChatType.CHANNEL>), date=datetime.datetime(2024, 10, 30, 10, 4, 45, tzinfo=<UTC>), delete_chat_photo=False, group_chat_created=False, message_id=196, sender_chat=Chat(id=-1002490380283, title='Reddit_Pic_Stream', type=<ChatType.CHANNEL>), supergroup_chat_created=False, video=Video(duration=0, file_id='BAACAgEAAyEGAASUcC_7AAPEZyIEva9Our3ydmRrKKZgcaqwQ1cAApsEAAIZEBFFR3JZAAGEC-ycNgQ', file_name='1gejrnl_20241030_050439_bb0388cc.mp4', file_size=20988218, file_unique_id='AgADmwQAAhkQEUU', height=320, mime_type='video/mp4', width=320))
2024-10-30 05:04:45,713 - DEBUG - Exiting: send_video
2024-10-30 05:04:45,713 - DEBUG - close.started
2024-10-30 05:04:45,713 - DEBUG - close.complete
2024-10-30 05:04:45,713 - DEBUG - This Bot is already shut down. Returning.
2024-10-30 05:04:45,713 - DEBUG - Shut down of Updater complete
2024-10-30 05:04:45,713 - INFO - Successfully sent video to Telegram
2024-10-30 05:04:45,716 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-partitionkey': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Content-Type': 'application/json'
    'Accept': 'application/json'
    'Content-Length': '109'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:04:45,757 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 201 None
2024-10-30 05:04:45,757 - INFO - Response status: 201
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'etag': '"0000ba06-0000-0300-0000-672204bd0000"'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-quorum-acked-lsn': 'REDACTED'
    'x-ms-current-write-quorum': 'REDACTED'
    'x-ms-current-replica-set-size': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-cosmos-quorum-acked-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:04:44 GMT'
2024-10-30 05:04:45,757 - INFO - Successfully processed and recorded post 1gejrnl
2024-10-30 05:04:45,758 - INFO - Updated last_check for girlsfinishingthejob
2024-10-30 05:04:45,758 - INFO - Job "send_to_telegram (trigger: interval[0:01:00], next run at: 2024-10-30 05:05:16 CDT)" executed successfully
2024-10-30 05:04:55,799 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:04:55,800 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/backend/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:04:55,805 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:04:55,806 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/backend/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:04:55,811 - DEBUG - /etc/localtime found
2024-10-30 05:04:55,812 - DEBUG - 1 found:
 {'/etc/localtime is a symlink to': 'America/Chicago'}
2024-10-30 05:04:55,812 - INFO - Scheduler started
2024-10-30 05:04:55,812 - DEBUG - Looking for jobs to run
2024-10-30 05:04:55,814 - INFO - Creating database tables...
2024-10-30 05:04:55,814 - DEBUG - No jobs; waiting until a job is added
2024-10-30 05:04:55,815 - INFO - Clearing existing data...
2024-10-30 05:04:55,836 - INFO - Creating test subreddit configs...
2024-10-30 05:04:55,840 - INFO - Added config for programming
2024-10-30 05:04:55,840 - INFO - Added config for python
2024-10-30 05:04:55,840 - INFO - Creating test sent posts...
2024-10-30 05:04:55,841 - INFO - Added post abc123
2024-10-30 05:04:55,841 - INFO - Added post def456
2024-10-30 05:04:55,859 - INFO - Test data created successfully!
2024-10-30 05:04:55,861 - INFO - 
Verification: Found 2 configs and 2 posts in database
2024-10-30 05:04:55,861 - INFO - 
Created Configs:
2024-10-30 05:04:55,861 - INFO - {'id': 1, 'subreddit_name': 'programming', 'filter_type': 'top_day', 'frequency': 60, 'is_active': True, 'last_check': '2024-10-30T10:04:55.858119'}
2024-10-30 05:04:55,861 - INFO - {'id': 2, 'subreddit_name': 'python', 'filter_type': 'top_week', 'frequency': 120, 'is_active': True, 'last_check': '2024-10-30T10:04:55.858125'}
2024-10-30 05:04:55,861 - INFO - 
Created Posts:
2024-10-30 05:04:55,861 - INFO - {'id': 1, 'post_id': 'abc123', 'subreddit_name': 'programming', 'sent_at': '2024-10-30T08:04:55.841104'}
2024-10-30 05:04:55,861 - INFO - {'id': 2, 'post_id': 'def456', 'subreddit_name': 'python', 'sent_at': '2024-10-30T09:04:55.841123'}
2024-10-30 05:05:05,920 - INFO -  * Restarting with stat
2024-10-30 05:05:07,047 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:05:07,048 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:05:07,054 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:05:07,054 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:05:07,060 - DEBUG - /etc/localtime found
2024-10-30 05:05:07,060 - DEBUG - 1 found:
 {'/etc/localtime is a symlink to': 'America/Chicago'}
2024-10-30 05:05:07,061 - INFO - Scheduler started
2024-10-30 05:05:07,061 - DEBUG - Looking for jobs to run
2024-10-30 05:05:07,062 - DEBUG - No jobs; waiting until a job is added
2024-10-30 05:05:07,066 - INFO - Scheduling job for subreddit: programming with frequency: 60 minutes
2024-10-30 05:05:07,066 - INFO - Added job "send_to_telegram" to job store "default"
2024-10-30 05:05:07,066 - INFO - Scheduling job for subreddit: python with frequency: 120 minutes
2024-10-30 05:05:07,066 - DEBUG - Looking for jobs to run
2024-10-30 05:05:07,066 - INFO - Added job "send_to_telegram" to job store "default"
2024-10-30 05:05:07,066 - DEBUG - Next wakeup is due at 2024-10-30 06:05:07.066428-05:00 (in 3599.999560 seconds)
2024-10-30 05:05:07,066 - DEBUG - Looking for jobs to run
2024-10-30 05:05:07,066 - DEBUG - Next wakeup is due at 2024-10-30 06:05:07.066428-05:00 (in 3599.999458 seconds)
2024-10-30 05:05:07,091 - WARNING -  * Debugger is active!
2024-10-30 05:05:07,103 - INFO -  * Debugger PIN: 122-772-954
2024-10-30 05:05:07,149 - INFO - 127.0.0.1 - - [30/Oct/2024 05:05:07] "OPTIONS /api/configs HTTP/1.1" 200 -
2024-10-30 05:05:07,150 - INFO - 127.0.0.1 - - [30/Oct/2024 05:05:07] "GET /api/configs HTTP/1.1" 200 -
2024-10-30 05:05:07,150 - INFO - 127.0.0.1 - - [30/Oct/2024 05:05:07] "GET /api/configs HTTP/1.1" 200 -
2024-10-30 05:05:07,151 - INFO - 127.0.0.1 - - [30/Oct/2024 05:05:07] "GET /api/configs HTTP/1.1" 200 -
2024-10-30 05:05:07,155 - INFO - 127.0.0.1 - - [30/Oct/2024 05:05:07] "GET /api/configs HTTP/1.1" 200 -
2024-10-30 05:05:07,158 - INFO - 127.0.0.1 - - [30/Oct/2024 05:05:07] "GET /api/configs HTTP/1.1" 200 -
2024-10-30 05:05:07,160 - INFO - 127.0.0.1 - - [30/Oct/2024 05:05:07] "GET /api/configs HTTP/1.1" 200 -
2024-10-30 05:05:07,164 - INFO - 127.0.0.1 - - [30/Oct/2024 05:05:07] "GET /api/configs HTTP/1.1" 200 -
2024-10-30 05:05:07,166 - INFO - 127.0.0.1 - - [30/Oct/2024 05:05:07] "GET /api/configs HTTP/1.1" 200 -
2024-10-30 05:05:07,168 - INFO - 127.0.0.1 - - [30/Oct/2024 05:05:07] "GET /api/configs HTTP/1.1" 200 -
2024-10-30 05:05:07,169 - INFO - 127.0.0.1 - - [30/Oct/2024 05:05:07] "GET /api/configs HTTP/1.1" 200 -
2024-10-30 05:05:16,977 - DEBUG - Looking for jobs to run
2024-10-30 05:05:16,979 - DEBUG - Next wakeup is due at 2024-10-30 05:06:16.969826-05:00 (in 59.990299 seconds)
2024-10-30 05:05:16,979 - INFO - Running job "send_to_telegram (trigger: interval[0:01:00], next run at: 2024-10-30 05:06:16 CDT)" (scheduled at 2024-10-30 05:05:16.969826-05:00)
2024-10-30 05:05:16,979 - INFO - Running job "send_to_telegram (trigger: interval[0:01:00], next run at: 2024-10-30 05:06:16 CDT)" (scheduled at 2024-10-30 05:05:16.970029-05:00)
2024-10-30 05:05:16,980 - INFO - Processing subreddit: girlsfinishingthejob
2024-10-30 05:05:16,980 - INFO - Processing subreddit: wifebutt
2024-10-30 05:05:16,980 - INFO - Fetching top posts of the day
2024-10-30 05:05:16,980 - INFO - Fetching top posts of the month
2024-10-30 05:05:16,981 - DEBUG - Fetching: GET https://oauth.reddit.com/r/girlsfinishingthejob/top at 1730282716.9815218
2024-10-30 05:05:16,981 - DEBUG - Fetching: GET https://oauth.reddit.com/r/wifebutt/top at 1730282716.981717
2024-10-30 05:05:16,981 - DEBUG - Data: None
2024-10-30 05:05:16,981 - DEBUG - Data: None
2024-10-30 05:05:16,982 - DEBUG - Params: {'limit': 50, 'raw_json': 1, 't': 'day'}
2024-10-30 05:05:16,982 - DEBUG - Params: {'limit': 50, 'raw_json': 1, 't': 'month'}
2024-10-30 05:05:17,326 - DEBUG - https://oauth.reddit.com:443 "GET /r/girlsfinishingthejob/top?t=day&limit=50&raw_json=1 HTTP/11" 200 24123
2024-10-30 05:05:17,329 - DEBUG - Response: 200 (24123 bytes) (rst-0:rem-149.0:used-1 ratelimit) at 1730282717.3292859
2024-10-30 05:05:17,363 - INFO - Checking post: 1gelyz1 - Score: 7070 - URL: https://www.redgifs.com/watch/uttersvelteamphibian
2024-10-30 05:05:17,367 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:05:17,403 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:05:17,404 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-quorum-acked-lsn': 'REDACTED'
    'x-ms-current-write-quorum': 'REDACTED'
    'x-ms-current-replica-set-size': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-cosmos-quorum-acked-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:05:16 GMT'
2024-10-30 05:05:17,404 - INFO - Found video post: 1gelyz1
2024-10-30 05:05:17,405 - DEBUG - Starting new HTTPS connection (1): api.redgifs.com:443
2024-10-30 05:05:17,498 - DEBUG - https://api.redgifs.com:443 "GET /v2/gifs/uttersvelteamphibian HTTP/11" 200 None
2024-10-30 05:05:17,500 - DEBUG - Starting new HTTPS connection (1): files.redgifs.com:443
2024-10-30 05:05:17,568 - DEBUG - https://files.redgifs.com:443 "GET /UtterSvelteAmphibian.mp4 HTTP/11" 200 42980012
2024-10-30 05:05:17,868 - DEBUG - https://oauth.reddit.com:443 "GET /r/wifebutt/top?t=month&limit=50&raw_json=1 HTTP/11" 200 49226
2024-10-30 05:05:17,894 - DEBUG - Response: 200 (49226 bytes) (rst-0:rem-148.0:used-2 ratelimit) at 1730282717.894342
2024-10-30 05:05:17,910 - INFO - Checking post: 1g9w053 - Score: 5352 - URL: https://www.reddit.com/gallery/1g9w053
2024-10-30 05:05:17,911 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:05:17,970 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:05:17,970 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-quorum-acked-lsn': 'REDACTED'
    'x-ms-current-write-quorum': 'REDACTED'
    'x-ms-current-replica-set-size': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-cosmos-quorum-acked-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:05:17 GMT'
2024-10-30 05:05:17,971 - INFO - Post 1g9w053 is not an image or video post, skipping
2024-10-30 05:05:17,971 - INFO - Checking post: 1fv4cfc - Score: 4580 - URL: https://www.reddit.com/gallery/1fv4cfc
2024-10-30 05:05:17,972 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:05:18,021 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:05:18,021 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-quorum-acked-lsn': 'REDACTED'
    'x-ms-current-write-quorum': 'REDACTED'
    'x-ms-current-replica-set-size': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-cosmos-quorum-acked-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:05:17 GMT'
2024-10-30 05:05:18,022 - INFO - Post 1fv4cfc is not an image or video post, skipping
2024-10-30 05:05:18,022 - INFO - Checking post: 1ganrp0 - Score: 4212 - URL: https://i.redd.it/ezatz8645lwd1.jpeg
2024-10-30 05:05:18,022 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:05:18,087 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:05:18,088 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:05:17 GMT'
2024-10-30 05:05:18,088 - INFO - Post 1ganrp0 is a duplicate, skipping
2024-10-30 05:05:18,088 - INFO - Checking post: 1gdrcjt - Score: 4063 - URL: https://www.redgifs.com/watch/unrealisticdefinitebarebirdbat
2024-10-30 05:05:18,089 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:05:18,136 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:05:18,136 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:05:17 GMT'
2024-10-30 05:05:18,136 - INFO - Found video post: 1gdrcjt
2024-10-30 05:05:18,137 - DEBUG - Starting new HTTPS connection (1): api.redgifs.com:443
2024-10-30 05:05:18,310 - DEBUG - https://api.redgifs.com:443 "GET /v2/gifs/unrealisticdefinitebarebirdbat HTTP/11" 200 None
2024-10-30 05:05:18,312 - DEBUG - Starting new HTTPS connection (1): files.redgifs.com:443
2024-10-30 05:05:18,424 - DEBUG - https://files.redgifs.com:443 "GET /UnrealisticDefiniteBarebirdbat.mp4 HTTP/11" 200 9852354
2024-10-30 05:05:18,539 - INFO - Successfully downloaded media to downloads/videos/1gelyz1_20241030_050517_ba5c8ead.mp4
2024-10-30 05:05:18,540 - DEBUG - Using selector: KqueueSelector
2024-10-30 05:05:18,541 - INFO - Attempting to send video to Telegram - Path: downloads/videos/1gelyz1_20241030_050517_ba5c8ead.mp4
2024-10-30 05:05:18,541 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:05:18,542 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:05:18,549 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:05:18,549 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:05:18,557 - DEBUG - Entering: get_me
2024-10-30 05:05:18,557 - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2024-10-30 05:05:18,697 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108ed1010>
2024-10-30 05:05:18,697 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x108a4d4d0> server_hostname='api.telegram.org' timeout=5.0
2024-10-30 05:05:18,757 - INFO - Successfully downloaded media to downloads/videos/1gdrcjt_20241030_050518_5bafb5c5.mp4
2024-10-30 05:05:18,758 - DEBUG - Using selector: KqueueSelector
2024-10-30 05:05:18,759 - INFO - Attempting to send video to Telegram - Path: downloads/videos/1gdrcjt_20241030_050518_5bafb5c5.mp4
2024-10-30 05:05:18,759 - DEBUG - Entering: get_me
2024-10-30 05:05:18,759 - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2024-10-30 05:05:18,847 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108cef4d0>
2024-10-30 05:05:18,847 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:05:18,847 - DEBUG - send_request_headers.complete
2024-10-30 05:05:18,847 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:05:18,848 - DEBUG - send_request_body.complete
2024-10-30 05:05:18,848 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:05:18,914 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108a31130>
2024-10-30 05:05:18,914 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x108a4d4d0> server_hostname='api.telegram.org' timeout=5.0
2024-10-30 05:05:18,966 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:05:18 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'254'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:05:18,967 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/getMe "HTTP/1.1 200 OK"
2024-10-30 05:05:18,967 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:05:18,967 - DEBUG - receive_response_body.complete
2024-10-30 05:05:18,967 - DEBUG - response_closed.started
2024-10-30 05:05:18,967 - DEBUG - response_closed.complete
2024-10-30 05:05:18,967 - DEBUG - User(api_kwargs={'can_connect_to_business': False, 'has_main_web_app': False}, can_join_groups=True, can_read_all_group_messages=False, first_name='RedditBot', id=7867694458, is_bot=True, supports_inline_queries=False, username='RedditImage_bot')
2024-10-30 05:05:18,967 - DEBUG - Exiting: get_me
2024-10-30 05:05:18,967 - DEBUG - This Bot is already initialized.
2024-10-30 05:05:18,968 - DEBUG - Entering: send_video
2024-10-30 05:05:18,977 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:05:18,978 - DEBUG - send_request_headers.complete
2024-10-30 05:05:18,978 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:05:19,044 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108a33320>
2024-10-30 05:05:19,045 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:05:19,045 - DEBUG - send_request_headers.complete
2024-10-30 05:05:19,045 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:05:19,045 - DEBUG - send_request_body.complete
2024-10-30 05:05:19,045 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:05:19,158 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:05:19 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'254'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:05:19,159 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/getMe "HTTP/1.1 200 OK"
2024-10-30 05:05:19,159 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:05:19,159 - DEBUG - receive_response_body.complete
2024-10-30 05:05:19,159 - DEBUG - response_closed.started
2024-10-30 05:05:19,159 - DEBUG - response_closed.complete
2024-10-30 05:05:19,159 - DEBUG - User(api_kwargs={'can_connect_to_business': False, 'has_main_web_app': False}, can_join_groups=True, can_read_all_group_messages=False, first_name='RedditBot', id=7867694458, is_bot=True, supports_inline_queries=False, username='RedditImage_bot')
2024-10-30 05:05:19,159 - DEBUG - Exiting: get_me
2024-10-30 05:05:19,159 - DEBUG - This Updater is already initialized.
2024-10-30 05:05:19,160 - DEBUG - Entering: send_video
2024-10-30 05:05:19,162 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:05:19,162 - DEBUG - send_request_headers.complete
2024-10-30 05:05:19,162 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:05:20,738 - DEBUG - send_request_body.complete
2024-10-30 05:05:20,738 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:05:22,289 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:05:22 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'559'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:05:22,290 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/sendVideo "HTTP/1.1 200 OK"
2024-10-30 05:05:22,290 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:05:22,291 - DEBUG - receive_response_body.complete
2024-10-30 05:05:22,291 - DEBUG - response_closed.started
2024-10-30 05:05:22,291 - DEBUG - response_closed.complete
2024-10-30 05:05:22,292 - DEBUG - Message(caption='From r/wifebutt: Your coworker’s Wifebutt\nUpvotes: 4,063', channel_chat_created=False, chat=Chat(id=-1002490380283, title='Reddit_Pic_Stream', type=<ChatType.CHANNEL>), date=datetime.datetime(2024, 10, 30, 10, 5, 22, tzinfo=<UTC>), delete_chat_photo=False, group_chat_created=False, message_id=197, sender_chat=Chat(id=-1002490380283, title='Reddit_Pic_Stream', type=<ChatType.CHANNEL>), supergroup_chat_created=False, video=Video(duration=10, file_id='BAACAgEAAyEGAASUcC_7AAPFZyIE4YElfrbRUgPJ0YMa29uH980AApwEAAIZEBFFDv8SsESPcyQ2BA', file_name='1gdrcjt_20241030_050518_5bafb5c5.mp4', file_size=9852354, file_unique_id='AgADnAQAAhkQEUU', height=1920, mime_type='video/mp4', width=1080))
2024-10-30 05:05:22,293 - DEBUG - Exiting: send_video
2024-10-30 05:05:22,293 - DEBUG - close.started
2024-10-30 05:05:22,293 - DEBUG - close.complete
2024-10-30 05:05:22,293 - DEBUG - close.started
2024-10-30 05:05:22,294 - DEBUG - close.complete
2024-10-30 05:05:22,294 - DEBUG - This Bot is already shut down. Returning.
2024-10-30 05:05:22,294 - DEBUG - Shut down of Updater complete
2024-10-30 05:05:22,294 - INFO - Successfully sent video to Telegram
2024-10-30 05:05:22,297 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-partitionkey': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Content-Type': 'application/json'
    'Accept': 'application/json'
    'Content-Length': '97'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:05:22,395 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 409 None
2024-10-30 05:05:22,421 - INFO - Response status: 409
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-quorum-acked-lsn': 'REDACTED'
    'x-ms-current-write-quorum': 'REDACTED'
    'x-ms-current-replica-set-size': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-cosmos-quorum-acked-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:05:21 GMT'
2024-10-30 05:05:22,422 - ERROR - Error creating sent post in Cosmos DB: (Conflict) Entity with the specified id already exists in the system., 
RequestStartTime: 2024-10-30T10:05:22.4079750Z, RequestEndTime: 2024-10-30T10:05:22.4100567Z,  Number of regions attempted:1
{"systemHistory":[{"dateUtc":"2024-10-30T10:04:27.0082010Z","cpu":0.159,"memory":429105148.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0475,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":539},{"dateUtc":"2024-10-30T10:04:37.0183449Z","cpu":0.470,"memory":429110532.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0716,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":533},{"dateUtc":"2024-10-30T10:04:47.0284669Z","cpu":0.154,"memory":429114748.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0559,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":533},{"dateUtc":"2024-10-30T10:04:57.0386290Z","cpu":0.149,"memory":429109004.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0693,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":533},{"dateUtc":"2024-10-30T10:05:07.0487713Z","cpu":0.615,"memory":429082816.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0516,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":529},{"dateUtc":"2024-10-30T10:05:17.0589268Z","cpu":0.383,"memory":429056788.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0529,"availableThreads":32764,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":529}]}
RequestStart: 2024-10-30T10:05:22.4081071Z; ResponseTime: 2024-10-30T10:05:22.4100567Z; StoreResult: StorePhysicalAddress: rntbd://cdb-ms-prod-centralus1-be118.documents.azure.com:14105/apps/3a0fa558-ece1-4a99-8d7c-4fe2b422d4c0/services/82953f6d-a7b0-400f-a2ad-8510fce95224/partitions/ac3e5a5f-8d49-40cd-91d2-8d9122bfd805/replicas/133747410267249798p/, LSN: 7, GlobalCommittedLsn: 7, PartitionKeyRangeId: 0, IsValid: True, StatusCode: 409, SubStatusCode: 0, RequestCharge: 1.67, ItemLSN: -1, SessionToken: -1#7, UsingLocalLSN: False, TransportException: null, BELatencyMs: 1.13, ActivityId: c2d85ff5-9926-4344-8f72-0912dca120c8, RetryAfterInMs: , ReplicaHealthStatuses: [(port: 14105 | status: Connected | lkt: 10/30/2024 9:57:40 AM)], TransportRequestTimeline: {"requestTimeline":[{"event": "Created", "startTimeUtc": "2024-10-30T10:05:22.4081084Z", "durationInMs": 0.0121},{"event": "ChannelAcquisitionStarted", "startTimeUtc": "2024-10-30T10:05:22.4081205Z", "durationInMs": 0.0115},{"event": "Pipelined", "startTimeUtc": "2024-10-30T10:05:22.4081320Z", "durationInMs": 0.061},{"event": "Transit Time", "startTimeUtc": "2024-10-30T10:05:22.4081930Z", "durationInMs": 1.7983},{"event": "Received", "startTimeUtc": "2024-10-30T10:05:22.4099913Z", "durationInMs": 0.0535},{"event": "Completed", "startTimeUtc": "2024-10-30T10:05:22.4100448Z", "durationInMs": 0}],"serviceEndpointStats":{"inflightRequests":1,"openConnections":1},"connectionStats":{"waitforConnectionInit":"False","callsPendingReceive":0,"lastSendAttempt":"2024-10-30T10:05:18.0217214Z","lastSend":"2024-10-30T10:05:18.0217519Z","lastReceive":"2024-10-30T10:05:18.0231844Z"},"requestSizeInBytes":622,"requestBodySizeInBytes":101,"responseMetadataSizeInBytes":182,"responseBodySizeInBytes":65};
 ResourceType: Document, OperationType: Create
, Microsoft.Azure.Documents.Common/2.14.0
Code: Conflict
Message: Entity with the specified id already exists in the system., 
RequestStartTime: 2024-10-30T10:05:22.4079750Z, RequestEndTime: 2024-10-30T10:05:22.4100567Z,  Number of regions attempted:1
{"systemHistory":[{"dateUtc":"2024-10-30T10:04:27.0082010Z","cpu":0.159,"memory":429105148.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0475,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":539},{"dateUtc":"2024-10-30T10:04:37.0183449Z","cpu":0.470,"memory":429110532.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0716,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":533},{"dateUtc":"2024-10-30T10:04:47.0284669Z","cpu":0.154,"memory":429114748.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0559,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":533},{"dateUtc":"2024-10-30T10:04:57.0386290Z","cpu":0.149,"memory":429109004.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0693,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":533},{"dateUtc":"2024-10-30T10:05:07.0487713Z","cpu":0.615,"memory":429082816.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0516,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":529},{"dateUtc":"2024-10-30T10:05:17.0589268Z","cpu":0.383,"memory":429056788.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0529,"availableThreads":32764,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":529}]}
RequestStart: 2024-10-30T10:05:22.4081071Z; ResponseTime: 2024-10-30T10:05:22.4100567Z; StoreResult: StorePhysicalAddress: rntbd://cdb-ms-prod-centralus1-be118.documents.azure.com:14105/apps/3a0fa558-ece1-4a99-8d7c-4fe2b422d4c0/services/82953f6d-a7b0-400f-a2ad-8510fce95224/partitions/ac3e5a5f-8d49-40cd-91d2-8d9122bfd805/replicas/133747410267249798p/, LSN: 7, GlobalCommittedLsn: 7, PartitionKeyRangeId: 0, IsValid: True, StatusCode: 409, SubStatusCode: 0, RequestCharge: 1.67, ItemLSN: -1, SessionToken: -1#7, UsingLocalLSN: False, TransportException: null, BELatencyMs: 1.13, ActivityId: c2d85ff5-9926-4344-8f72-0912dca120c8, RetryAfterInMs: , ReplicaHealthStatuses: [(port: 14105 | status: Connected | lkt: 10/30/2024 9:57:40 AM)], TransportRequestTimeline: {"requestTimeline":[{"event": "Created", "startTimeUtc": "2024-10-30T10:05:22.4081084Z", "durationInMs": 0.0121},{"event": "ChannelAcquisitionStarted", "startTimeUtc": "2024-10-30T10:05:22.4081205Z", "durationInMs": 0.0115},{"event": "Pipelined", "startTimeUtc": "2024-10-30T10:05:22.4081320Z", "durationInMs": 0.061},{"event": "Transit Time", "startTimeUtc": "2024-10-30T10:05:22.4081930Z", "durationInMs": 1.7983},{"event": "Received", "startTimeUtc": "2024-10-30T10:05:22.4099913Z", "durationInMs": 0.0535},{"event": "Completed", "startTimeUtc": "2024-10-30T10:05:22.4100448Z", "durationInMs": 0}],"serviceEndpointStats":{"inflightRequests":1,"openConnections":1},"connectionStats":{"waitforConnectionInit":"False","callsPendingReceive":0,"lastSendAttempt":"2024-10-30T10:05:18.0217214Z","lastSend":"2024-10-30T10:05:18.0217519Z","lastReceive":"2024-10-30T10:05:18.0231844Z"},"requestSizeInBytes":622,"requestBodySizeInBytes":101,"responseMetadataSizeInBytes":182,"responseBodySizeInBytes":65};
 ResourceType: Document, OperationType: Create
, Microsoft.Azure.Documents.Common/2.14.0
2024-10-30 05:05:22,422 - INFO - Successfully processed and recorded post 1gdrcjt
2024-10-30 05:05:22,422 - INFO - Updated last_check for wifebutt
2024-10-30 05:05:22,423 - INFO - Job "send_to_telegram (trigger: interval[0:01:00], next run at: 2024-10-30 05:06:16 CDT)" executed successfully
2024-10-30 05:05:23,666 - INFO -  * Detected change in '/Users/joewilson/PythonProjects/Snoogram/backend/create_test_data.py', reloading
2024-10-30 05:05:23,762 - INFO -  * Restarting with stat
2024-10-30 05:05:24,806 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:05:24,806 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:05:24,811 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:05:24,812 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:05:24,817 - DEBUG - /etc/localtime found
2024-10-30 05:05:24,818 - DEBUG - 1 found:
 {'/etc/localtime is a symlink to': 'America/Chicago'}
2024-10-30 05:05:24,818 - INFO - Scheduler started
2024-10-30 05:05:24,818 - DEBUG - Looking for jobs to run
2024-10-30 05:05:24,820 - DEBUG - No jobs; waiting until a job is added
2024-10-30 05:05:24,823 - INFO - Scheduling job for subreddit: programming with frequency: 60 minutes
2024-10-30 05:05:24,823 - INFO - Added job "send_to_telegram" to job store "default"
2024-10-30 05:05:24,824 - INFO - Scheduling job for subreddit: python with frequency: 120 minutes
2024-10-30 05:05:24,824 - DEBUG - Looking for jobs to run
2024-10-30 05:05:24,824 - INFO - Added job "send_to_telegram" to job store "default"
2024-10-30 05:05:24,824 - DEBUG - Next wakeup is due at 2024-10-30 06:05:24.823892-05:00 (in 3599.999499 seconds)
2024-10-30 05:05:24,824 - DEBUG - Looking for jobs to run
2024-10-30 05:05:24,824 - DEBUG - Next wakeup is due at 2024-10-30 06:05:24.823892-05:00 (in 3599.999397 seconds)
2024-10-30 05:05:24,837 - WARNING -  * Debugger is active!
2024-10-30 05:05:24,844 - INFO -  * Debugger PIN: 122-772-954
2024-10-30 05:05:33,704 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:05:33,704 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/backend/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:05:33,710 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:05:33,710 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/backend/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:05:33,716 - DEBUG - /etc/localtime found
2024-10-30 05:05:33,717 - DEBUG - 1 found:
 {'/etc/localtime is a symlink to': 'America/Chicago'}
2024-10-30 05:05:33,717 - INFO - Scheduler started
2024-10-30 05:05:33,718 - DEBUG - Looking for jobs to run
2024-10-30 05:05:33,719 - INFO - Creating database tables...
2024-10-30 05:05:33,719 - DEBUG - No jobs; waiting until a job is added
2024-10-30 05:05:33,720 - INFO - Database tables created successfully
2024-10-30 05:05:33,720 - INFO - Clearing existing data...
2024-10-30 05:05:33,723 - INFO - Creating test subreddit configs...
2024-10-30 05:05:33,723 - INFO - Added config for programming
2024-10-30 05:05:33,723 - INFO - Added config for python
2024-10-30 05:05:33,723 - INFO - Creating test sent posts...
2024-10-30 05:05:33,723 - INFO - Added post abc123
2024-10-30 05:05:33,723 - INFO - Added post def456
2024-10-30 05:05:33,726 - INFO - Test data created successfully!
2024-10-30 05:05:33,727 - INFO - 
Verification: Found 2 configs and 2 posts in database
2024-10-30 05:05:33,727 - INFO - 
Created Configs:
2024-10-30 05:05:33,727 - INFO - {'id': 1, 'subreddit_name': 'programming', 'filter_type': 'top_day', 'frequency': 60, 'is_active': True, 'last_check': '2024-10-30T10:05:33.723553'}
2024-10-30 05:05:33,727 - INFO - {'id': 2, 'subreddit_name': 'python', 'filter_type': 'top_week', 'frequency': 120, 'is_active': True, 'last_check': '2024-10-30T10:05:33.723564'}
2024-10-30 05:05:33,727 - INFO - 
Created Posts:
2024-10-30 05:05:33,727 - INFO - {'id': 1, 'post_id': 'abc123', 'subreddit_name': 'programming', 'sent_at': '2024-10-30T08:05:33.723901'}
2024-10-30 05:05:33,727 - INFO - {'id': 2, 'post_id': 'def456', 'subreddit_name': 'python', 'sent_at': '2024-10-30T09:05:33.723911'}
2024-10-30 05:05:38,985 - DEBUG - send_request_body.failed exception=WriteError(ClosedResourceError())
2024-10-30 05:05:38,985 - DEBUG - response_closed.started
2024-10-30 05:05:38,985 - DEBUG - response_closed.complete
2024-10-30 05:05:38,985 - DEBUG - This Application is already shut down. Returning.
2024-10-30 05:05:38,985 - ERROR - Failed to send video to Telegram: httpx.WriteError: 
2024-10-30 05:05:38,986 - ERROR - Error sending video post 1gelyz1: httpx.WriteError: 
2024-10-30 05:05:38,986 - INFO - Checking post: 1gejrnl - Score: 2578 - URL: https://v3.redgifs.com/watch/graydefensivepika
2024-10-30 05:05:38,989 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:05:39,021 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:05:39,021 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:05:38 GMT'
2024-10-30 05:05:39,022 - INFO - Post 1gejrnl is a duplicate, skipping
2024-10-30 05:05:39,022 - INFO - Checking post: 1gelw33 - Score: 2301 - URL: https://www.redgifs.com/watch/drydarkgraysable
2024-10-30 05:05:39,023 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:05:39,054 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:05:39,055 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:05:38 GMT'
2024-10-30 05:05:39,055 - INFO - Found video post: 1gelw33
2024-10-30 05:05:39,056 - DEBUG - Starting new HTTPS connection (1): api.redgifs.com:443
2024-10-30 05:05:39,159 - DEBUG - https://api.redgifs.com:443 "GET /v2/gifs/drydarkgraysable HTTP/11" 200 None
2024-10-30 05:05:39,162 - DEBUG - Starting new HTTPS connection (1): files.redgifs.com:443
2024-10-30 05:05:39,228 - DEBUG - https://files.redgifs.com:443 "GET /DryDarkgraySable.mp4 HTTP/11" 200 37310161
2024-10-30 05:05:40,045 - INFO - Successfully downloaded media to downloads/videos/1gelw33_20241030_050539_cde5cece.mp4
2024-10-30 05:05:40,046 - DEBUG - Using selector: KqueueSelector
2024-10-30 05:05:40,046 - INFO - Attempting to send video to Telegram - Path: downloads/videos/1gelw33_20241030_050539_cde5cece.mp4
2024-10-30 05:05:40,047 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:05:40,047 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:05:40,054 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:05:40,054 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:05:40,060 - DEBUG - Entering: get_me
2024-10-30 05:05:40,060 - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2024-10-30 05:05:40,184 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108a33380>
2024-10-30 05:05:40,186 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x108c82f50> server_hostname='api.telegram.org' timeout=5.0
2024-10-30 05:05:40,317 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108a62360>
2024-10-30 05:05:40,318 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:05:40,318 - DEBUG - send_request_headers.complete
2024-10-30 05:05:40,318 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:05:40,318 - DEBUG - send_request_body.complete
2024-10-30 05:05:40,318 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:05:40,435 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:05:40 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'254'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:05:40,436 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/getMe "HTTP/1.1 200 OK"
2024-10-30 05:05:40,436 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:05:40,436 - DEBUG - receive_response_body.complete
2024-10-30 05:05:40,436 - DEBUG - response_closed.started
2024-10-30 05:05:40,436 - DEBUG - response_closed.complete
2024-10-30 05:05:40,436 - DEBUG - User(api_kwargs={'can_connect_to_business': False, 'has_main_web_app': False}, can_join_groups=True, can_read_all_group_messages=False, first_name='RedditBot', id=7867694458, is_bot=True, supports_inline_queries=False, username='RedditImage_bot')
2024-10-30 05:05:40,436 - DEBUG - Exiting: get_me
2024-10-30 05:05:40,436 - DEBUG - This Bot is already initialized.
2024-10-30 05:05:40,436 - DEBUG - Entering: send_video
2024-10-30 05:05:40,444 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:05:40,445 - DEBUG - send_request_headers.complete
2024-10-30 05:05:40,445 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:05:43,450 - DEBUG - send_request_body.complete
2024-10-30 05:05:43,450 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:05:45,679 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:05:45 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'551'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:05:45,680 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/sendVideo "HTTP/1.1 200 OK"
2024-10-30 05:05:45,680 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:05:45,680 - DEBUG - receive_response_body.complete
2024-10-30 05:05:45,680 - DEBUG - response_closed.started
2024-10-30 05:05:45,680 - DEBUG - response_closed.complete
2024-10-30 05:05:45,681 - DEBUG - Message(caption='From r/girlsfinishingthejob: Yummy load \nUpvotes: 2,301', channel_chat_created=False, chat=Chat(id=-1002490380283, title='Reddit_Pic_Stream', type=<ChatType.CHANNEL>), date=datetime.datetime(2024, 10, 30, 10, 5, 45, tzinfo=<UTC>), delete_chat_photo=False, group_chat_created=False, message_id=198, sender_chat=Chat(id=-1002490380283, title='Reddit_Pic_Stream', type=<ChatType.CHANNEL>), supergroup_chat_created=False, video=Video(duration=0, file_id='BAACAgEAAyEGAASUcC_7AAPGZyIE-WTewyKDDap9V63AP_OWE_MAAp0EAAIZEBFF2emNGIVSj582BA', file_name='1gelw33_20241030_050539_cde5cece.mp4', file_size=37310161, file_unique_id='AgADnQQAAhkQEUU', height=320, mime_type='video/mp4', width=320))
2024-10-30 05:05:45,681 - DEBUG - Exiting: send_video
2024-10-30 05:05:45,681 - DEBUG - close.started
2024-10-30 05:05:45,681 - DEBUG - close.complete
2024-10-30 05:05:45,681 - DEBUG - This Bot is already shut down. Returning.
2024-10-30 05:05:45,681 - DEBUG - Shut down of Updater complete
2024-10-30 05:05:45,681 - INFO - Successfully sent video to Telegram
2024-10-30 05:05:45,683 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-partitionkey': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Content-Type': 'application/json'
    'Accept': 'application/json'
    'Content-Length': '109'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:05:45,716 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 201 None
2024-10-30 05:05:45,717 - INFO - Response status: 201
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'etag': '"0000d806-0000-0300-0000-672204f90000"'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-quorum-acked-lsn': 'REDACTED'
    'x-ms-current-write-quorum': 'REDACTED'
    'x-ms-current-replica-set-size': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-cosmos-quorum-acked-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:05:45 GMT'
2024-10-30 05:05:45,717 - INFO - Successfully processed and recorded post 1gelw33
2024-10-30 05:05:45,717 - INFO - Updated last_check for girlsfinishingthejob
2024-10-30 05:05:45,717 - INFO - Job "send_to_telegram (trigger: interval[0:01:00], next run at: 2024-10-30 05:06:16 CDT)" executed successfully
2024-10-30 05:05:56,842 - INFO -  * Detected change in '/Users/joewilson/PythonProjects/Snoogram/backend/migrate_to_cosmos.py', reloading
2024-10-30 05:05:56,978 - INFO -  * Restarting with stat
2024-10-30 05:05:57,917 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:05:57,917 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:05:57,923 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:05:57,923 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:05:57,929 - DEBUG - /etc/localtime found
2024-10-30 05:05:57,930 - DEBUG - 1 found:
 {'/etc/localtime is a symlink to': 'America/Chicago'}
2024-10-30 05:05:57,930 - INFO - Scheduler started
2024-10-30 05:05:57,931 - DEBUG - Looking for jobs to run
2024-10-30 05:05:57,932 - DEBUG - No jobs; waiting until a job is added
2024-10-30 05:05:57,935 - INFO - Scheduling job for subreddit: programming with frequency: 60 minutes
2024-10-30 05:05:57,936 - INFO - Added job "send_to_telegram" to job store "default"
2024-10-30 05:05:57,936 - INFO - Scheduling job for subreddit: python with frequency: 120 minutes
2024-10-30 05:05:57,936 - DEBUG - Looking for jobs to run
2024-10-30 05:05:57,936 - INFO - Added job "send_to_telegram" to job store "default"
2024-10-30 05:05:57,936 - DEBUG - Next wakeup is due at 2024-10-30 06:05:57.936119-05:00 (in 3599.999555 seconds)
2024-10-30 05:05:57,936 - DEBUG - Looking for jobs to run
2024-10-30 05:05:57,936 - DEBUG - Next wakeup is due at 2024-10-30 06:05:57.936119-05:00 (in 3599.999142 seconds)
2024-10-30 05:05:57,954 - WARNING -  * Debugger is active!
2024-10-30 05:05:57,960 - INFO -  * Debugger PIN: 122-772-954
2024-10-30 05:05:58,857 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:05:58,858 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/backend/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:05:58,863 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:05:58,863 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/backend/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:05:58,869 - DEBUG - /etc/localtime found
2024-10-30 05:05:58,870 - DEBUG - 1 found:
 {'/etc/localtime is a symlink to': 'America/Chicago'}
2024-10-30 05:05:58,870 - INFO - Scheduler started
2024-10-30 05:05:58,870 - DEBUG - Looking for jobs to run
2024-10-30 05:05:58,872 - INFO - Starting database migration to Cosmos DB...
2024-10-30 05:05:58,872 - DEBUG - No jobs; waiting until a job is added
2024-10-30 05:05:58,875 - INFO - 
Migrating 2 subreddit configurations...
2024-10-30 05:05:58,875 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/subreddit_configs/'
Request method: 'GET'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'Content-Length': '0'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
No body was attached to the request
2024-10-30 05:05:58,906 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "GET /dbs/ToDoList/colls/subreddit_configs/ HTTP/11" 200 None
2024-10-30 05:05:58,907 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Content-Location': 'REDACTED'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'x-ms-mtls-status': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'etag': '"00006600-0000-0300-0000-672201280000"'
    'x-ms-schemaversion': 'REDACTED'
    'collection-partition-index': 'REDACTED'
    'collection-service-index': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-item-lsn': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-cosmos-item-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-max-content-length': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:05:58 GMT'
2024-10-30 05:05:58,907 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/subreddit_configs/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-partitionkey': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Content-Type': 'application/json'
    'Accept': 'application/json'
    'Content-Length': '181'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:05:58,951 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/subreddit_configs/docs/ HTTP/11" 409 None
2024-10-30 05:05:59,016 - INFO - Response status: 409
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-quorum-acked-lsn': 'REDACTED'
    'x-ms-current-write-quorum': 'REDACTED'
    'x-ms-current-replica-set-size': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-cosmos-quorum-acked-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:05:58 GMT'
2024-10-30 05:05:59,017 - ERROR - Error creating subreddit config in Cosmos DB: (Conflict) Entity with the specified id already exists in the system., 
RequestStartTime: 2024-10-30T10:05:58.9454217Z, RequestEndTime: 2024-10-30T10:05:58.9618367Z,  Number of regions attempted:1
{"systemHistory":[{"dateUtc":"2024-10-30T10:05:00.1674091Z","cpu":0.063,"memory":416963428.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.052,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":473},{"dateUtc":"2024-10-30T10:05:10.1774463Z","cpu":0.215,"memory":416955040.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0363,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":467},{"dateUtc":"2024-10-30T10:05:20.1875304Z","cpu":0.151,"memory":416944648.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0581,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":470},{"dateUtc":"2024-10-30T10:05:30.1975951Z","cpu":0.115,"memory":416952596.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.036,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":472},{"dateUtc":"2024-10-30T10:05:40.2076183Z","cpu":0.117,"memory":416945332.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0691,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":463},{"dateUtc":"2024-10-30T10:05:50.2176975Z","cpu":0.073,"memory":416923608.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0678,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":463}]}
RequestStart: 2024-10-30T10:05:58.9455357Z; ResponseTime: 2024-10-30T10:05:58.9618367Z; StoreResult: StorePhysicalAddress: rntbd://cdb-ms-prod-centralus1-be118.documents.azure.com:14169/apps/3a0fa558-ece1-4a99-8d7c-4fe2b422d4c0/services/04fad911-0424-437b-806e-2e9e3c6273db/partitions/839c90f9-4763-469b-9e4f-05264eeac026/replicas/133747398069121400p/, LSN: 3, GlobalCommittedLsn: 3, PartitionKeyRangeId: 0, IsValid: True, StatusCode: 409, SubStatusCode: 0, RequestCharge: 1.9, ItemLSN: -1, SessionToken: -1#3, UsingLocalLSN: False, TransportException: null, BELatencyMs: 1.404, ActivityId: ed84bc02-7c91-4b5e-8bb3-9624acac3ac1, RetryAfterInMs: , ReplicaHealthStatuses: [(port: 14169 | status: Connected | lkt: 10/30/2024 10:05:58 AM)], TransportRequestTimeline: {"requestTimeline":[{"event": "Created", "startTimeUtc": "2024-10-30T10:05:58.9455366Z", "durationInMs": 0.0186},{"event": "ChannelAcquisitionStarted", "startTimeUtc": "2024-10-30T10:05:58.9455552Z", "durationInMs": 13.4457},{"event": "Pipelined", "startTimeUtc": "2024-10-30T10:05:58.9590009Z", "durationInMs": 0.052},{"event": "Transit Time", "startTimeUtc": "2024-10-30T10:05:58.9590529Z", "durationInMs": 2.685},{"event": "Received", "startTimeUtc": "2024-10-30T10:05:58.9617379Z", "durationInMs": 0.0846},{"event": "Completed", "startTimeUtc": "2024-10-30T10:05:58.9618225Z", "durationInMs": 0}],"serviceEndpointStats":{"inflightRequests":1,"openConnections":1},"connectionStats":{"waitforConnectionInit":"True","callsPendingReceive":0,"lastSendAttempt":"2024-10-30T10:05:58.9576665Z","lastSend":"2024-10-30T10:05:58.9576979Z","lastReceive":"2024-10-30T10:05:58.9586853Z"},"requestSizeInBytes":718,"requestBodySizeInBytes":185,"responseMetadataSizeInBytes":182,"responseBodySizeInBytes":65};
 ResourceType: Document, OperationType: Create
, Microsoft.Azure.Documents.Common/2.14.0
Code: Conflict
Message: Entity with the specified id already exists in the system., 
RequestStartTime: 2024-10-30T10:05:58.9454217Z, RequestEndTime: 2024-10-30T10:05:58.9618367Z,  Number of regions attempted:1
{"systemHistory":[{"dateUtc":"2024-10-30T10:05:00.1674091Z","cpu":0.063,"memory":416963428.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.052,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":473},{"dateUtc":"2024-10-30T10:05:10.1774463Z","cpu":0.215,"memory":416955040.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0363,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":467},{"dateUtc":"2024-10-30T10:05:20.1875304Z","cpu":0.151,"memory":416944648.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0581,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":470},{"dateUtc":"2024-10-30T10:05:30.1975951Z","cpu":0.115,"memory":416952596.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.036,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":472},{"dateUtc":"2024-10-30T10:05:40.2076183Z","cpu":0.117,"memory":416945332.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0691,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":463},{"dateUtc":"2024-10-30T10:05:50.2176975Z","cpu":0.073,"memory":416923608.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0678,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":463}]}
RequestStart: 2024-10-30T10:05:58.9455357Z; ResponseTime: 2024-10-30T10:05:58.9618367Z; StoreResult: StorePhysicalAddress: rntbd://cdb-ms-prod-centralus1-be118.documents.azure.com:14169/apps/3a0fa558-ece1-4a99-8d7c-4fe2b422d4c0/services/04fad911-0424-437b-806e-2e9e3c6273db/partitions/839c90f9-4763-469b-9e4f-05264eeac026/replicas/133747398069121400p/, LSN: 3, GlobalCommittedLsn: 3, PartitionKeyRangeId: 0, IsValid: True, StatusCode: 409, SubStatusCode: 0, RequestCharge: 1.9, ItemLSN: -1, SessionToken: -1#3, UsingLocalLSN: False, TransportException: null, BELatencyMs: 1.404, ActivityId: ed84bc02-7c91-4b5e-8bb3-9624acac3ac1, RetryAfterInMs: , ReplicaHealthStatuses: [(port: 14169 | status: Connected | lkt: 10/30/2024 10:05:58 AM)], TransportRequestTimeline: {"requestTimeline":[{"event": "Created", "startTimeUtc": "2024-10-30T10:05:58.9455366Z", "durationInMs": 0.0186},{"event": "ChannelAcquisitionStarted", "startTimeUtc": "2024-10-30T10:05:58.9455552Z", "durationInMs": 13.4457},{"event": "Pipelined", "startTimeUtc": "2024-10-30T10:05:58.9590009Z", "durationInMs": 0.052},{"event": "Transit Time", "startTimeUtc": "2024-10-30T10:05:58.9590529Z", "durationInMs": 2.685},{"event": "Received", "startTimeUtc": "2024-10-30T10:05:58.9617379Z", "durationInMs": 0.0846},{"event": "Completed", "startTimeUtc": "2024-10-30T10:05:58.9618225Z", "durationInMs": 0}],"serviceEndpointStats":{"inflightRequests":1,"openConnections":1},"connectionStats":{"waitforConnectionInit":"True","callsPendingReceive":0,"lastSendAttempt":"2024-10-30T10:05:58.9576665Z","lastSend":"2024-10-30T10:05:58.9576979Z","lastReceive":"2024-10-30T10:05:58.9586853Z"},"requestSizeInBytes":718,"requestBodySizeInBytes":185,"responseMetadataSizeInBytes":182,"responseBodySizeInBytes":65};
 ResourceType: Document, OperationType: Create
, Microsoft.Azure.Documents.Common/2.14.0
2024-10-30 05:05:59,017 - INFO - ✓ Migrated config for subreddit: programming
2024-10-30 05:05:59,018 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/subreddit_configs/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-partitionkey': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Content-Type': 'application/json'
    'Accept': 'application/json'
    'Content-Length': '178'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:05:59,057 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/subreddit_configs/docs/ HTTP/11" 409 None
2024-10-30 05:05:59,082 - INFO - Response status: 409
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-quorum-acked-lsn': 'REDACTED'
    'x-ms-current-write-quorum': 'REDACTED'
    'x-ms-current-replica-set-size': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-cosmos-quorum-acked-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:05:58 GMT'
2024-10-30 05:05:59,082 - ERROR - Error creating subreddit config in Cosmos DB: (Conflict) Entity with the specified id already exists in the system., 
RequestStartTime: 2024-10-30T10:05:59.0594734Z, RequestEndTime: 2024-10-30T10:05:59.0623044Z,  Number of regions attempted:1
{"systemHistory":[{"dateUtc":"2024-10-30T10:05:00.1674091Z","cpu":0.063,"memory":416963428.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.052,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":473},{"dateUtc":"2024-10-30T10:05:10.1774463Z","cpu":0.215,"memory":416955040.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0363,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":467},{"dateUtc":"2024-10-30T10:05:20.1875304Z","cpu":0.151,"memory":416944648.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0581,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":470},{"dateUtc":"2024-10-30T10:05:30.1975951Z","cpu":0.115,"memory":416952596.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.036,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":472},{"dateUtc":"2024-10-30T10:05:40.2076183Z","cpu":0.117,"memory":416945332.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0691,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":463},{"dateUtc":"2024-10-30T10:05:50.2176975Z","cpu":0.073,"memory":416923608.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0678,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":463}]}
RequestStart: 2024-10-30T10:05:59.0595595Z; ResponseTime: 2024-10-30T10:05:59.0623044Z; StoreResult: StorePhysicalAddress: rntbd://cdb-ms-prod-centralus1-be118.documents.azure.com:14169/apps/3a0fa558-ece1-4a99-8d7c-4fe2b422d4c0/services/04fad911-0424-437b-806e-2e9e3c6273db/partitions/839c90f9-4763-469b-9e4f-05264eeac026/replicas/133747398069121400p/, LSN: 3, GlobalCommittedLsn: 3, PartitionKeyRangeId: 0, IsValid: True, StatusCode: 409, SubStatusCode: 0, RequestCharge: 1.9, ItemLSN: -1, SessionToken: -1#3, UsingLocalLSN: False, TransportException: null, BELatencyMs: 1.202, ActivityId: 895c06b4-9ee5-4355-a954-5ed90062e952, RetryAfterInMs: , ReplicaHealthStatuses: [(port: 14169 | status: Connected | lkt: 10/30/2024 10:05:58 AM)], TransportRequestTimeline: {"requestTimeline":[{"event": "Created", "startTimeUtc": "2024-10-30T10:05:59.0595601Z", "durationInMs": 0.0091},{"event": "ChannelAcquisitionStarted", "startTimeUtc": "2024-10-30T10:05:59.0595692Z", "durationInMs": 0.0016},{"event": "Pipelined", "startTimeUtc": "2024-10-30T10:05:59.0595708Z", "durationInMs": 0.0659},{"event": "Transit Time", "startTimeUtc": "2024-10-30T10:05:59.0596367Z", "durationInMs": 2.5795},{"event": "Received", "startTimeUtc": "2024-10-30T10:05:59.0622162Z", "durationInMs": 0.0776},{"event": "Completed", "startTimeUtc": "2024-10-30T10:05:59.0622938Z", "durationInMs": 0}],"serviceEndpointStats":{"inflightRequests":1,"openConnections":1},"connectionStats":{"waitforConnectionInit":"False","callsPendingReceive":0,"lastSendAttempt":"2024-10-30T10:05:58.9590304Z","lastSend":"2024-10-30T10:05:58.9590529Z","lastReceive":"2024-10-30T10:05:58.9617372Z"},"requestSizeInBytes":708,"requestBodySizeInBytes":182,"responseMetadataSizeInBytes":182,"responseBodySizeInBytes":65};
 ResourceType: Document, OperationType: Create
, Microsoft.Azure.Documents.Common/2.14.0
Code: Conflict
Message: Entity with the specified id already exists in the system., 
RequestStartTime: 2024-10-30T10:05:59.0594734Z, RequestEndTime: 2024-10-30T10:05:59.0623044Z,  Number of regions attempted:1
{"systemHistory":[{"dateUtc":"2024-10-30T10:05:00.1674091Z","cpu":0.063,"memory":416963428.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.052,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":473},{"dateUtc":"2024-10-30T10:05:10.1774463Z","cpu":0.215,"memory":416955040.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0363,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":467},{"dateUtc":"2024-10-30T10:05:20.1875304Z","cpu":0.151,"memory":416944648.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0581,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":470},{"dateUtc":"2024-10-30T10:05:30.1975951Z","cpu":0.115,"memory":416952596.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.036,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":472},{"dateUtc":"2024-10-30T10:05:40.2076183Z","cpu":0.117,"memory":416945332.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0691,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":463},{"dateUtc":"2024-10-30T10:05:50.2176975Z","cpu":0.073,"memory":416923608.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0678,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":463}]}
RequestStart: 2024-10-30T10:05:59.0595595Z; ResponseTime: 2024-10-30T10:05:59.0623044Z; StoreResult: StorePhysicalAddress: rntbd://cdb-ms-prod-centralus1-be118.documents.azure.com:14169/apps/3a0fa558-ece1-4a99-8d7c-4fe2b422d4c0/services/04fad911-0424-437b-806e-2e9e3c6273db/partitions/839c90f9-4763-469b-9e4f-05264eeac026/replicas/133747398069121400p/, LSN: 3, GlobalCommittedLsn: 3, PartitionKeyRangeId: 0, IsValid: True, StatusCode: 409, SubStatusCode: 0, RequestCharge: 1.9, ItemLSN: -1, SessionToken: -1#3, UsingLocalLSN: False, TransportException: null, BELatencyMs: 1.202, ActivityId: 895c06b4-9ee5-4355-a954-5ed90062e952, RetryAfterInMs: , ReplicaHealthStatuses: [(port: 14169 | status: Connected | lkt: 10/30/2024 10:05:58 AM)], TransportRequestTimeline: {"requestTimeline":[{"event": "Created", "startTimeUtc": "2024-10-30T10:05:59.0595601Z", "durationInMs": 0.0091},{"event": "ChannelAcquisitionStarted", "startTimeUtc": "2024-10-30T10:05:59.0595692Z", "durationInMs": 0.0016},{"event": "Pipelined", "startTimeUtc": "2024-10-30T10:05:59.0595708Z", "durationInMs": 0.0659},{"event": "Transit Time", "startTimeUtc": "2024-10-30T10:05:59.0596367Z", "durationInMs": 2.5795},{"event": "Received", "startTimeUtc": "2024-10-30T10:05:59.0622162Z", "durationInMs": 0.0776},{"event": "Completed", "startTimeUtc": "2024-10-30T10:05:59.0622938Z", "durationInMs": 0}],"serviceEndpointStats":{"inflightRequests":1,"openConnections":1},"connectionStats":{"waitforConnectionInit":"False","callsPendingReceive":0,"lastSendAttempt":"2024-10-30T10:05:58.9590304Z","lastSend":"2024-10-30T10:05:58.9590529Z","lastReceive":"2024-10-30T10:05:58.9617372Z"},"requestSizeInBytes":708,"requestBodySizeInBytes":182,"responseMetadataSizeInBytes":182,"responseBodySizeInBytes":65};
 ResourceType: Document, OperationType: Create
, Microsoft.Azure.Documents.Common/2.14.0
2024-10-30 05:05:59,082 - INFO - ✓ Migrated config for subreddit: python
2024-10-30 05:05:59,083 - INFO - 
Migrating 3 sent posts...
2024-10-30 05:05:59,083 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/'
Request method: 'GET'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'Content-Length': '0'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
No body was attached to the request
2024-10-30 05:05:59,111 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "GET /dbs/ToDoList/colls/sent_posts/ HTTP/11" 200 None
2024-10-30 05:05:59,111 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Content-Location': 'REDACTED'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'x-ms-mtls-status': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'etag': '"00006b00-0000-0300-0000-672201280000"'
    'x-ms-schemaversion': 'REDACTED'
    'collection-partition-index': 'REDACTED'
    'collection-service-index': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-item-lsn': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-cosmos-item-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-max-content-length': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:05:58 GMT'
2024-10-30 05:05:59,112 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-partitionkey': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Content-Type': 'application/json'
    'Accept': 'application/json'
    'Content-Length': '99'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:05:59,142 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 409 None
2024-10-30 05:05:59,169 - INFO - Response status: 409
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-quorum-acked-lsn': 'REDACTED'
    'x-ms-current-write-quorum': 'REDACTED'
    'x-ms-current-replica-set-size': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-cosmos-quorum-acked-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:05:58 GMT'
2024-10-30 05:05:59,169 - ERROR - Error creating sent post in Cosmos DB: (Conflict) Entity with the specified id already exists in the system., 
RequestStartTime: 2024-10-30T10:05:59.1479255Z, RequestEndTime: 2024-10-30T10:05:59.1499134Z,  Number of regions attempted:1
{"systemHistory":[{"dateUtc":"2024-10-30T10:05:00.1674091Z","cpu":0.063,"memory":416963428.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.052,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":473},{"dateUtc":"2024-10-30T10:05:10.1774463Z","cpu":0.215,"memory":416955040.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0363,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":467},{"dateUtc":"2024-10-30T10:05:20.1875304Z","cpu":0.151,"memory":416944648.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0581,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":470},{"dateUtc":"2024-10-30T10:05:30.1975951Z","cpu":0.115,"memory":416952596.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.036,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":472},{"dateUtc":"2024-10-30T10:05:40.2076183Z","cpu":0.117,"memory":416945332.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0691,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":463},{"dateUtc":"2024-10-30T10:05:50.2176975Z","cpu":0.073,"memory":416923608.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0678,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":463}]}
RequestStart: 2024-10-30T10:05:59.1479967Z; ResponseTime: 2024-10-30T10:05:59.1499134Z; StoreResult: StorePhysicalAddress: rntbd://cdb-ms-prod-centralus1-be118.documents.azure.com:14105/apps/3a0fa558-ece1-4a99-8d7c-4fe2b422d4c0/services/82953f6d-a7b0-400f-a2ad-8510fce95224/partitions/ac3e5a5f-8d49-40cd-91d2-8d9122bfd805/replicas/133747410267249798p/, LSN: 8, GlobalCommittedLsn: 8, PartitionKeyRangeId: 0, IsValid: True, StatusCode: 409, SubStatusCode: 0, RequestCharge: 1.67, ItemLSN: -1, SessionToken: -1#8, UsingLocalLSN: False, TransportException: null, BELatencyMs: 1.146, ActivityId: 301d5ee6-9b53-4a19-8589-3f326c605531, RetryAfterInMs: , ReplicaHealthStatuses: [(port: 14105 | status: Connected | lkt: 10/30/2024 9:58:11 AM)], TransportRequestTimeline: {"requestTimeline":[{"event": "Created", "startTimeUtc": "2024-10-30T10:05:59.1479972Z", "durationInMs": 0.0073},{"event": "ChannelAcquisitionStarted", "startTimeUtc": "2024-10-30T10:05:59.1480045Z", "durationInMs": 0.0081},{"event": "Pipelined", "startTimeUtc": "2024-10-30T10:05:59.1480126Z", "durationInMs": 0.0489},{"event": "Transit Time", "startTimeUtc": "2024-10-30T10:05:59.1480615Z", "durationInMs": 1.7837},{"event": "Received", "startTimeUtc": "2024-10-30T10:05:59.1498452Z", "durationInMs": 0.0612},{"event": "Completed", "startTimeUtc": "2024-10-30T10:05:59.1499064Z", "durationInMs": 0}],"serviceEndpointStats":{"inflightRequests":1,"openConnections":1},"connectionStats":{"waitforConnectionInit":"False","callsPendingReceive":0,"lastSendAttempt":"2024-10-30T09:58:34.0421929Z","lastSend":"2024-10-30T09:58:34.0422277Z","lastReceive":"2024-10-30T09:58:34.0437746Z"},"requestSizeInBytes":625,"requestBodySizeInBytes":103,"responseMetadataSizeInBytes":182,"responseBodySizeInBytes":65};
 ResourceType: Document, OperationType: Create
, Microsoft.Azure.Documents.Common/2.14.0
Code: Conflict
Message: Entity with the specified id already exists in the system., 
RequestStartTime: 2024-10-30T10:05:59.1479255Z, RequestEndTime: 2024-10-30T10:05:59.1499134Z,  Number of regions attempted:1
{"systemHistory":[{"dateUtc":"2024-10-30T10:05:00.1674091Z","cpu":0.063,"memory":416963428.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.052,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":473},{"dateUtc":"2024-10-30T10:05:10.1774463Z","cpu":0.215,"memory":416955040.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0363,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":467},{"dateUtc":"2024-10-30T10:05:20.1875304Z","cpu":0.151,"memory":416944648.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0581,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":470},{"dateUtc":"2024-10-30T10:05:30.1975951Z","cpu":0.115,"memory":416952596.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.036,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":472},{"dateUtc":"2024-10-30T10:05:40.2076183Z","cpu":0.117,"memory":416945332.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0691,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":463},{"dateUtc":"2024-10-30T10:05:50.2176975Z","cpu":0.073,"memory":416923608.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0678,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":463}]}
RequestStart: 2024-10-30T10:05:59.1479967Z; ResponseTime: 2024-10-30T10:05:59.1499134Z; StoreResult: StorePhysicalAddress: rntbd://cdb-ms-prod-centralus1-be118.documents.azure.com:14105/apps/3a0fa558-ece1-4a99-8d7c-4fe2b422d4c0/services/82953f6d-a7b0-400f-a2ad-8510fce95224/partitions/ac3e5a5f-8d49-40cd-91d2-8d9122bfd805/replicas/133747410267249798p/, LSN: 8, GlobalCommittedLsn: 8, PartitionKeyRangeId: 0, IsValid: True, StatusCode: 409, SubStatusCode: 0, RequestCharge: 1.67, ItemLSN: -1, SessionToken: -1#8, UsingLocalLSN: False, TransportException: null, BELatencyMs: 1.146, ActivityId: 301d5ee6-9b53-4a19-8589-3f326c605531, RetryAfterInMs: , ReplicaHealthStatuses: [(port: 14105 | status: Connected | lkt: 10/30/2024 9:58:11 AM)], TransportRequestTimeline: {"requestTimeline":[{"event": "Created", "startTimeUtc": "2024-10-30T10:05:59.1479972Z", "durationInMs": 0.0073},{"event": "ChannelAcquisitionStarted", "startTimeUtc": "2024-10-30T10:05:59.1480045Z", "durationInMs": 0.0081},{"event": "Pipelined", "startTimeUtc": "2024-10-30T10:05:59.1480126Z", "durationInMs": 0.0489},{"event": "Transit Time", "startTimeUtc": "2024-10-30T10:05:59.1480615Z", "durationInMs": 1.7837},{"event": "Received", "startTimeUtc": "2024-10-30T10:05:59.1498452Z", "durationInMs": 0.0612},{"event": "Completed", "startTimeUtc": "2024-10-30T10:05:59.1499064Z", "durationInMs": 0}],"serviceEndpointStats":{"inflightRequests":1,"openConnections":1},"connectionStats":{"waitforConnectionInit":"False","callsPendingReceive":0,"lastSendAttempt":"2024-10-30T09:58:34.0421929Z","lastSend":"2024-10-30T09:58:34.0422277Z","lastReceive":"2024-10-30T09:58:34.0437746Z"},"requestSizeInBytes":625,"requestBodySizeInBytes":103,"responseMetadataSizeInBytes":182,"responseBodySizeInBytes":65};
 ResourceType: Document, OperationType: Create
, Microsoft.Azure.Documents.Common/2.14.0
2024-10-30 05:05:59,169 - INFO - ✓ Migrated sent post: abc123
2024-10-30 05:05:59,169 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-partitionkey': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Content-Type': 'application/json'
    'Accept': 'application/json'
    'Content-Length': '94'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:05:59,199 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 409 None
2024-10-30 05:05:59,225 - INFO - Response status: 409
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-quorum-acked-lsn': 'REDACTED'
    'x-ms-current-write-quorum': 'REDACTED'
    'x-ms-current-replica-set-size': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-cosmos-quorum-acked-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:05:58 GMT'
2024-10-30 05:05:59,225 - ERROR - Error creating sent post in Cosmos DB: (Conflict) Entity with the specified id already exists in the system., 
RequestStartTime: 2024-10-30T10:05:59.2069596Z, RequestEndTime: 2024-10-30T10:05:59.2087642Z,  Number of regions attempted:1
{"systemHistory":[{"dateUtc":"2024-10-30T10:05:00.1674091Z","cpu":0.063,"memory":416963428.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.052,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":473},{"dateUtc":"2024-10-30T10:05:10.1774463Z","cpu":0.215,"memory":416955040.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0363,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":467},{"dateUtc":"2024-10-30T10:05:20.1875304Z","cpu":0.151,"memory":416944648.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0581,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":470},{"dateUtc":"2024-10-30T10:05:30.1975951Z","cpu":0.115,"memory":416952596.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.036,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":472},{"dateUtc":"2024-10-30T10:05:40.2076183Z","cpu":0.117,"memory":416945332.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0691,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":463},{"dateUtc":"2024-10-30T10:05:50.2176975Z","cpu":0.073,"memory":416923608.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0678,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":463}]}
RequestStart: 2024-10-30T10:05:59.2070347Z; ResponseTime: 2024-10-30T10:05:59.2087642Z; StoreResult: StorePhysicalAddress: rntbd://cdb-ms-prod-centralus1-be118.documents.azure.com:14105/apps/3a0fa558-ece1-4a99-8d7c-4fe2b422d4c0/services/82953f6d-a7b0-400f-a2ad-8510fce95224/partitions/ac3e5a5f-8d49-40cd-91d2-8d9122bfd805/replicas/133747410267249798p/, LSN: 8, GlobalCommittedLsn: 8, PartitionKeyRangeId: 0, IsValid: True, StatusCode: 409, SubStatusCode: 0, RequestCharge: 1.67, ItemLSN: -1, SessionToken: -1#8, UsingLocalLSN: False, TransportException: null, BELatencyMs: 0.997, ActivityId: 5264e0ea-68e5-4a28-8788-c386f5f0756f, RetryAfterInMs: , ReplicaHealthStatuses: [(port: 14105 | status: Connected | lkt: 10/30/2024 9:58:11 AM)], TransportRequestTimeline: {"requestTimeline":[{"event": "Created", "startTimeUtc": "2024-10-30T10:05:59.2070353Z", "durationInMs": 0.0087},{"event": "ChannelAcquisitionStarted", "startTimeUtc": "2024-10-30T10:05:59.2070440Z", "durationInMs": 0.0019},{"event": "Pipelined", "startTimeUtc": "2024-10-30T10:05:59.2070459Z", "durationInMs": 0.0676},{"event": "Transit Time", "startTimeUtc": "2024-10-30T10:05:59.2071135Z", "durationInMs": 1.5641},{"event": "Received", "startTimeUtc": "2024-10-30T10:05:59.2086776Z", "durationInMs": 0.0771},{"event": "Completed", "startTimeUtc": "2024-10-30T10:05:59.2087547Z", "durationInMs": 0}],"serviceEndpointStats":{"inflightRequests":1,"openConnections":1},"connectionStats":{"waitforConnectionInit":"False","callsPendingReceive":0,"lastSendAttempt":"2024-10-30T10:05:59.1480358Z","lastSend":"2024-10-30T10:05:59.1480613Z","lastReceive":"2024-10-30T10:05:59.1498440Z"},"requestSizeInBytes":615,"requestBodySizeInBytes":98,"responseMetadataSizeInBytes":182,"responseBodySizeInBytes":65};
 ResourceType: Document, OperationType: Create
, Microsoft.Azure.Documents.Common/2.14.0
Code: Conflict
Message: Entity with the specified id already exists in the system., 
RequestStartTime: 2024-10-30T10:05:59.2069596Z, RequestEndTime: 2024-10-30T10:05:59.2087642Z,  Number of regions attempted:1
{"systemHistory":[{"dateUtc":"2024-10-30T10:05:00.1674091Z","cpu":0.063,"memory":416963428.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.052,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":473},{"dateUtc":"2024-10-30T10:05:10.1774463Z","cpu":0.215,"memory":416955040.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0363,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":467},{"dateUtc":"2024-10-30T10:05:20.1875304Z","cpu":0.151,"memory":416944648.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0581,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":470},{"dateUtc":"2024-10-30T10:05:30.1975951Z","cpu":0.115,"memory":416952596.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.036,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":472},{"dateUtc":"2024-10-30T10:05:40.2076183Z","cpu":0.117,"memory":416945332.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0691,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":463},{"dateUtc":"2024-10-30T10:05:50.2176975Z","cpu":0.073,"memory":416923608.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0678,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":463}]}
RequestStart: 2024-10-30T10:05:59.2070347Z; ResponseTime: 2024-10-30T10:05:59.2087642Z; StoreResult: StorePhysicalAddress: rntbd://cdb-ms-prod-centralus1-be118.documents.azure.com:14105/apps/3a0fa558-ece1-4a99-8d7c-4fe2b422d4c0/services/82953f6d-a7b0-400f-a2ad-8510fce95224/partitions/ac3e5a5f-8d49-40cd-91d2-8d9122bfd805/replicas/133747410267249798p/, LSN: 8, GlobalCommittedLsn: 8, PartitionKeyRangeId: 0, IsValid: True, StatusCode: 409, SubStatusCode: 0, RequestCharge: 1.67, ItemLSN: -1, SessionToken: -1#8, UsingLocalLSN: False, TransportException: null, BELatencyMs: 0.997, ActivityId: 5264e0ea-68e5-4a28-8788-c386f5f0756f, RetryAfterInMs: , ReplicaHealthStatuses: [(port: 14105 | status: Connected | lkt: 10/30/2024 9:58:11 AM)], TransportRequestTimeline: {"requestTimeline":[{"event": "Created", "startTimeUtc": "2024-10-30T10:05:59.2070353Z", "durationInMs": 0.0087},{"event": "ChannelAcquisitionStarted", "startTimeUtc": "2024-10-30T10:05:59.2070440Z", "durationInMs": 0.0019},{"event": "Pipelined", "startTimeUtc": "2024-10-30T10:05:59.2070459Z", "durationInMs": 0.0676},{"event": "Transit Time", "startTimeUtc": "2024-10-30T10:05:59.2071135Z", "durationInMs": 1.5641},{"event": "Received", "startTimeUtc": "2024-10-30T10:05:59.2086776Z", "durationInMs": 0.0771},{"event": "Completed", "startTimeUtc": "2024-10-30T10:05:59.2087547Z", "durationInMs": 0}],"serviceEndpointStats":{"inflightRequests":1,"openConnections":1},"connectionStats":{"waitforConnectionInit":"False","callsPendingReceive":0,"lastSendAttempt":"2024-10-30T10:05:59.1480358Z","lastSend":"2024-10-30T10:05:59.1480613Z","lastReceive":"2024-10-30T10:05:59.1498440Z"},"requestSizeInBytes":615,"requestBodySizeInBytes":98,"responseMetadataSizeInBytes":182,"responseBodySizeInBytes":65};
 ResourceType: Document, OperationType: Create
, Microsoft.Azure.Documents.Common/2.14.0
2024-10-30 05:05:59,225 - INFO - ✓ Migrated sent post: def456
2024-10-30 05:05:59,226 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-partitionkey': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Content-Type': 'application/json'
    'Accept': 'application/json'
    'Content-Length': '109'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:05:59,259 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 409 None
2024-10-30 05:05:59,284 - INFO - Response status: 409
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-quorum-acked-lsn': 'REDACTED'
    'x-ms-current-write-quorum': 'REDACTED'
    'x-ms-current-replica-set-size': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-cosmos-quorum-acked-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:05:58 GMT'
2024-10-30 05:05:59,284 - ERROR - Error creating sent post in Cosmos DB: (Conflict) Entity with the specified id already exists in the system., 
RequestStartTime: 2024-10-30T10:05:59.2660326Z, RequestEndTime: 2024-10-30T10:05:59.2680629Z,  Number of regions attempted:1
{"systemHistory":[{"dateUtc":"2024-10-30T10:05:00.1674091Z","cpu":0.063,"memory":416963428.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.052,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":473},{"dateUtc":"2024-10-30T10:05:10.1774463Z","cpu":0.215,"memory":416955040.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0363,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":467},{"dateUtc":"2024-10-30T10:05:20.1875304Z","cpu":0.151,"memory":416944648.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0581,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":470},{"dateUtc":"2024-10-30T10:05:30.1975951Z","cpu":0.115,"memory":416952596.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.036,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":472},{"dateUtc":"2024-10-30T10:05:40.2076183Z","cpu":0.117,"memory":416945332.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0691,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":463},{"dateUtc":"2024-10-30T10:05:50.2176975Z","cpu":0.073,"memory":416923608.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0678,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":463}]}
RequestStart: 2024-10-30T10:05:59.2661075Z; ResponseTime: 2024-10-30T10:05:59.2680629Z; StoreResult: StorePhysicalAddress: rntbd://cdb-ms-prod-centralus1-be118.documents.azure.com:14105/apps/3a0fa558-ece1-4a99-8d7c-4fe2b422d4c0/services/82953f6d-a7b0-400f-a2ad-8510fce95224/partitions/ac3e5a5f-8d49-40cd-91d2-8d9122bfd805/replicas/133747410267249798p/, LSN: 8, GlobalCommittedLsn: 8, PartitionKeyRangeId: 0, IsValid: True, StatusCode: 409, SubStatusCode: 0, RequestCharge: 1.67, ItemLSN: -1, SessionToken: -1#8, UsingLocalLSN: False, TransportException: null, BELatencyMs: 1.041, ActivityId: 8463e01d-915a-48ea-ad2a-ef6d495fb0c5, RetryAfterInMs: , ReplicaHealthStatuses: [(port: 14105 | status: Connected | lkt: 10/30/2024 9:58:11 AM)], TransportRequestTimeline: {"requestTimeline":[{"event": "Created", "startTimeUtc": "2024-10-30T10:05:59.2661081Z", "durationInMs": 0.0087},{"event": "ChannelAcquisitionStarted", "startTimeUtc": "2024-10-30T10:05:59.2661168Z", "durationInMs": 0.0021},{"event": "Pipelined", "startTimeUtc": "2024-10-30T10:05:59.2661189Z", "durationInMs": 0.0623},{"event": "Transit Time", "startTimeUtc": "2024-10-30T10:05:59.2661812Z", "durationInMs": 1.7969},{"event": "Received", "startTimeUtc": "2024-10-30T10:05:59.2679781Z", "durationInMs": 0.0752},{"event": "Completed", "startTimeUtc": "2024-10-30T10:05:59.2680533Z", "durationInMs": 0}],"serviceEndpointStats":{"inflightRequests":1,"openConnections":1},"connectionStats":{"waitforConnectionInit":"False","callsPendingReceive":0,"lastSendAttempt":"2024-10-30T10:05:59.2070820Z","lastSend":"2024-10-30T10:05:59.2071134Z","lastReceive":"2024-10-30T10:05:59.2086763Z"},"requestSizeInBytes":644,"requestBodySizeInBytes":113,"responseMetadataSizeInBytes":182,"responseBodySizeInBytes":65};
 ResourceType: Document, OperationType: Create
, Microsoft.Azure.Documents.Common/2.14.0
Code: Conflict
Message: Entity with the specified id already exists in the system., 
RequestStartTime: 2024-10-30T10:05:59.2660326Z, RequestEndTime: 2024-10-30T10:05:59.2680629Z,  Number of regions attempted:1
{"systemHistory":[{"dateUtc":"2024-10-30T10:05:00.1674091Z","cpu":0.063,"memory":416963428.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.052,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":473},{"dateUtc":"2024-10-30T10:05:10.1774463Z","cpu":0.215,"memory":416955040.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0363,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":467},{"dateUtc":"2024-10-30T10:05:20.1875304Z","cpu":0.151,"memory":416944648.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0581,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":470},{"dateUtc":"2024-10-30T10:05:30.1975951Z","cpu":0.115,"memory":416952596.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.036,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":472},{"dateUtc":"2024-10-30T10:05:40.2076183Z","cpu":0.117,"memory":416945332.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0691,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":463},{"dateUtc":"2024-10-30T10:05:50.2176975Z","cpu":0.073,"memory":416923608.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0678,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":463}]}
RequestStart: 2024-10-30T10:05:59.2661075Z; ResponseTime: 2024-10-30T10:05:59.2680629Z; StoreResult: StorePhysicalAddress: rntbd://cdb-ms-prod-centralus1-be118.documents.azure.com:14105/apps/3a0fa558-ece1-4a99-8d7c-4fe2b422d4c0/services/82953f6d-a7b0-400f-a2ad-8510fce95224/partitions/ac3e5a5f-8d49-40cd-91d2-8d9122bfd805/replicas/133747410267249798p/, LSN: 8, GlobalCommittedLsn: 8, PartitionKeyRangeId: 0, IsValid: True, StatusCode: 409, SubStatusCode: 0, RequestCharge: 1.67, ItemLSN: -1, SessionToken: -1#8, UsingLocalLSN: False, TransportException: null, BELatencyMs: 1.041, ActivityId: 8463e01d-915a-48ea-ad2a-ef6d495fb0c5, RetryAfterInMs: , ReplicaHealthStatuses: [(port: 14105 | status: Connected | lkt: 10/30/2024 9:58:11 AM)], TransportRequestTimeline: {"requestTimeline":[{"event": "Created", "startTimeUtc": "2024-10-30T10:05:59.2661081Z", "durationInMs": 0.0087},{"event": "ChannelAcquisitionStarted", "startTimeUtc": "2024-10-30T10:05:59.2661168Z", "durationInMs": 0.0021},{"event": "Pipelined", "startTimeUtc": "2024-10-30T10:05:59.2661189Z", "durationInMs": 0.0623},{"event": "Transit Time", "startTimeUtc": "2024-10-30T10:05:59.2661812Z", "durationInMs": 1.7969},{"event": "Received", "startTimeUtc": "2024-10-30T10:05:59.2679781Z", "durationInMs": 0.0752},{"event": "Completed", "startTimeUtc": "2024-10-30T10:05:59.2680533Z", "durationInMs": 0}],"serviceEndpointStats":{"inflightRequests":1,"openConnections":1},"connectionStats":{"waitforConnectionInit":"False","callsPendingReceive":0,"lastSendAttempt":"2024-10-30T10:05:59.2070820Z","lastSend":"2024-10-30T10:05:59.2071134Z","lastReceive":"2024-10-30T10:05:59.2086763Z"},"requestSizeInBytes":644,"requestBodySizeInBytes":113,"responseMetadataSizeInBytes":182,"responseBodySizeInBytes":65};
 ResourceType: Document, OperationType: Create
, Microsoft.Azure.Documents.Common/2.14.0
2024-10-30 05:05:59,284 - INFO - ✓ Migrated sent post: 1gelw33
2024-10-30 05:05:59,285 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/subreddit_configs/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '27'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:05:59,316 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/subreddit_configs/docs/ HTTP/11" 200 None
2024-10-30 05:05:59,316 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:05:58 GMT'
2024-10-30 05:05:59,317 - INFO - 
=== Migration Verification ===
2024-10-30 05:05:59,317 - INFO - Subreddit Configurations:
2024-10-30 05:05:59,317 - INFO - SQLite count: 2
2024-10-30 05:05:59,317 - INFO - Cosmos DB count: 2
2024-10-30 05:05:59,317 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '27'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:05:59,346 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:05:59,370 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-quorum-acked-lsn': 'REDACTED'
    'x-ms-current-write-quorum': 'REDACTED'
    'x-ms-current-replica-set-size': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-cosmos-quorum-acked-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:05:58 GMT'
2024-10-30 05:05:59,370 - INFO - 
Sent Posts:
2024-10-30 05:05:59,371 - INFO - SQLite count: 3
2024-10-30 05:05:59,371 - INFO - Cosmos DB count: 7
2024-10-30 05:05:59,371 - INFO - 
Migration completed successfully!
2024-10-30 05:06:01,195 - INFO - 127.0.0.1 - - [30/Oct/2024 05:06:01] "GET /api/configs HTTP/1.1" 200 -
2024-10-30 05:06:01,262 - INFO - 127.0.0.1 - - [30/Oct/2024 05:06:01] "GET /api/configs HTTP/1.1" 200 -
2024-10-30 05:06:01,270 - INFO - 127.0.0.1 - - [30/Oct/2024 05:06:01] "GET /api/configs HTTP/1.1" 200 -
2024-10-30 05:06:01,272 - INFO - 127.0.0.1 - - [30/Oct/2024 05:06:01] "OPTIONS /api/configs HTTP/1.1" 200 -
2024-10-30 05:06:01,275 - INFO - 127.0.0.1 - - [30/Oct/2024 05:06:01] "GET /api/configs HTTP/1.1" 200 -
2024-10-30 05:06:01,280 - INFO - 127.0.0.1 - - [30/Oct/2024 05:06:01] "GET /api/configs HTTP/1.1" 200 -
2024-10-30 05:06:01,282 - INFO - 127.0.0.1 - - [30/Oct/2024 05:06:01] "GET /api/configs HTTP/1.1" 200 -
2024-10-30 05:06:01,286 - INFO - 127.0.0.1 - - [30/Oct/2024 05:06:01] "GET /api/configs HTTP/1.1" 200 -
2024-10-30 05:06:01,289 - INFO - 127.0.0.1 - - [30/Oct/2024 05:06:01] "GET /api/configs HTTP/1.1" 200 -
2024-10-30 05:06:01,302 - INFO - 127.0.0.1 - - [30/Oct/2024 05:06:01] "GET /api/configs HTTP/1.1" 200 -
2024-10-30 05:06:01,310 - INFO - 127.0.0.1 - - [30/Oct/2024 05:06:01] "GET /api/configs HTTP/1.1" 200 -
2024-10-30 05:06:10,431 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:06:10,432 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/backend/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:06:10,437 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:06:10,437 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/backend/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:06:10,443 - DEBUG - /etc/localtime found
2024-10-30 05:06:10,444 - DEBUG - 1 found:
 {'/etc/localtime is a symlink to': 'America/Chicago'}
2024-10-30 05:06:10,444 - INFO - Scheduler started
2024-10-30 05:06:10,445 - DEBUG - Looking for jobs to run
2024-10-30 05:06:10,446 - INFO - 
=== SQLite Database Contents ===
2024-10-30 05:06:10,446 - DEBUG - No jobs; waiting until a job is added
2024-10-30 05:06:10,449 - INFO - SQLite Subreddit Configs (2):
2024-10-30 05:06:10,449 - INFO - {'filter_type': 'top_day',
 'frequency': 60,
 'id': 1,
 'is_active': True,
 'last_check': '2024-10-30T10:05:33.723553',
 'subreddit_name': 'programming'}
2024-10-30 05:06:10,449 - INFO - {'filter_type': 'top_week',
 'frequency': 120,
 'id': 2,
 'is_active': True,
 'last_check': '2024-10-30T10:05:33.723564',
 'subreddit_name': 'python'}
2024-10-30 05:06:10,450 - INFO - 
SQLite Sent Posts (3):
2024-10-30 05:06:10,450 - INFO - {'id': 1,
 'post_id': 'abc123',
 'sent_at': '2024-10-30T08:05:33.723901',
 'subreddit_name': 'programming'}
2024-10-30 05:06:10,450 - INFO - {'id': 2,
 'post_id': 'def456',
 'sent_at': '2024-10-30T09:05:33.723911',
 'subreddit_name': 'python'}
2024-10-30 05:06:10,450 - INFO - {'id': 3,
 'post_id': '1gelw33',
 'sent_at': '2024-10-30T10:05:45.682336',
 'subreddit_name': 'girlsfinishingthejob'}
2024-10-30 05:06:10,450 - INFO - 
=== Cosmos DB Contents ===
2024-10-30 05:06:10,450 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/subreddit_configs/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '27'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:06:10,478 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/subreddit_configs/docs/ HTTP/11" 200 None
2024-10-30 05:06:10,479 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:06:10 GMT'
2024-10-30 05:06:10,479 - INFO - Cosmos DB Subreddit Configs (2):
2024-10-30 05:06:10,479 - INFO - {'_attachments': 'attachments/',
 '_etag': '"0300d71f-0000-0300-0000-672204930000"',
 '_rid': 'oQYbAK6yBIYBAAAAAAAAAA==',
 '_self': 'dbs/oQYbAA==/colls/oQYbAK6yBIY=/docs/oQYbAK6yBIYBAAAAAAAAAA==/',
 '_ts': 1730282643,
 'created_at': '2024-10-30T10:04:03.265769',
 'filter_type': 'top_day',
 'frequency': 60,
 'id': '1',
 'is_active': True,
 'last_check': '2024-10-30T10:04:03.265771',
 'subreddit_name': 'programming'}
2024-10-30 05:06:10,479 - INFO - {'_attachments': 'attachments/',
 '_etag': '"0300d81f-0000-0300-0000-672204930000"',
 '_rid': 'oQYbAK6yBIYCAAAAAAAAAA==',
 '_self': 'dbs/oQYbAA==/colls/oQYbAK6yBIY=/docs/oQYbAK6yBIYCAAAAAAAAAA==/',
 '_ts': 1730282643,
 'created_at': '2024-10-30T10:04:03.394987',
 'filter_type': 'top_week',
 'frequency': 120,
 'id': '2',
 'is_active': True,
 'last_check': '2024-10-30T10:04:03.394995',
 'subreddit_name': 'python'}
2024-10-30 05:06:10,479 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '27'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:06:10,505 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:06:10,528 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-quorum-acked-lsn': 'REDACTED'
    'x-ms-current-write-quorum': 'REDACTED'
    'x-ms-current-replica-set-size': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-cosmos-quorum-acked-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:06:10 GMT'
2024-10-30 05:06:10,529 - INFO - 
Cosmos DB Sent Posts (7):
2024-10-30 05:06:10,530 - INFO - {'_attachments': 'attachments/',
 '_etag': '"0000a806-0000-0300-0000-6722048e0000"',
 '_rid': 'oQYbAOPBChsBAAAAAAAAAA==',
 '_self': 'dbs/oQYbAA==/colls/oQYbAOPBChs=/docs/oQYbAOPBChsBAAAAAAAAAA==/',
 '_ts': 1730282638,
 'id': '3',
 'post_id': '1g7a0gc',
 'sent_at': '2024-10-30T10:03:57.940202',
 'subreddit_name': 'wifebutt'}
2024-10-30 05:06:10,531 - INFO - {'_attachments': 'attachments/',
 '_etag': '"0000a906-0000-0300-0000-672204930000"',
 '_rid': 'oQYbAOPBChsCAAAAAAAAAA==',
 '_self': 'dbs/oQYbAA==/colls/oQYbAOPBChs=/docs/oQYbAOPBChsCAAAAAAAAAA==/',
 '_ts': 1730282643,
 'id': '1',
 'post_id': 'abc123',
 'sent_at': '2024-10-30T10:04:03.458761',
 'subreddit_name': 'programming'}
2024-10-30 05:06:10,537 - INFO - {'_attachments': 'attachments/',
 '_etag': '"0000aa06-0000-0300-0000-672204930000"',
 '_rid': 'oQYbAOPBChsDAAAAAAAAAA==',
 '_self': 'dbs/oQYbAA==/colls/oQYbAOPBChs=/docs/oQYbAOPBChsDAAAAAAAAAA==/',
 '_ts': 1730282643,
 'id': '2',
 'post_id': 'def456',
 'sent_at': '2024-10-30T10:04:03.568848',
 'subreddit_name': 'python'}
2024-10-30 05:06:10,540 - INFO - {'_attachments': 'attachments/',
 '_etag': '"0000b006-0000-0300-0000-672204a20000"',
 '_rid': 'oQYbAOPBChsEAAAAAAAAAA==',
 '_self': 'dbs/oQYbAA==/colls/oQYbAOPBChs=/docs/oQYbAOPBChsEAAAAAAAAAA==/',
 '_ts': 1730282658,
 'id': '4',
 'post_id': '1ganrp0',
 'sent_at': '2024-10-30T10:04:18.251306',
 'subreddit_name': 'wifebutt'}
2024-10-30 05:06:10,541 - INFO - {'_attachments': 'attachments/',
 '_etag': '"0000b306-0000-0300-0000-672204a30000"',
 '_rid': 'oQYbAOPBChsFAAAAAAAAAA==',
 '_self': 'dbs/oQYbAA==/colls/oQYbAOPBChs=/docs/oQYbAOPBChsFAAAAAAAAAA==/',
 '_ts': 1730282659,
 'id': '5',
 'post_id': '1ganrp0',
 'sent_at': '2024-10-30T10:04:19.858775',
 'subreddit_name': 'wifebutt'}
2024-10-30 05:06:10,541 - INFO - {'_attachments': 'attachments/',
 '_etag': '"0000ba06-0000-0300-0000-672204bd0000"',
 '_rid': 'oQYbAOPBChsGAAAAAAAAAA==',
 '_self': 'dbs/oQYbAA==/colls/oQYbAOPBChs=/docs/oQYbAOPBChsGAAAAAAAAAA==/',
 '_ts': 1730282685,
 'id': '6',
 'post_id': '1gejrnl',
 'sent_at': '2024-10-30T10:04:45.716155',
 'subreddit_name': 'girlsfinishingthejob'}
2024-10-30 05:06:10,541 - INFO - {'_attachments': 'attachments/',
 '_etag': '"0000d806-0000-0300-0000-672204f90000"',
 '_rid': 'oQYbAOPBChsHAAAAAAAAAA==',
 '_self': 'dbs/oQYbAA==/colls/oQYbAOPBChs=/docs/oQYbAOPBChsHAAAAAAAAAA==/',
 '_ts': 1730282745,
 'id': '3',
 'post_id': '1gelw33',
 'sent_at': '2024-10-30T10:05:45.683541',
 'subreddit_name': 'girlsfinishingthejob'}
2024-10-30 05:06:16,975 - DEBUG - Looking for jobs to run
2024-10-30 05:06:16,977 - DEBUG - Next wakeup is due at 2024-10-30 05:07:16.969826-05:00 (in 59.992247 seconds)
2024-10-30 05:06:16,977 - INFO - Running job "send_to_telegram (trigger: interval[0:01:00], next run at: 2024-10-30 05:07:16 CDT)" (scheduled at 2024-10-30 05:06:16.969826-05:00)
2024-10-30 05:06:16,978 - INFO - Running job "send_to_telegram (trigger: interval[0:01:00], next run at: 2024-10-30 05:07:16 CDT)" (scheduled at 2024-10-30 05:06:16.970029-05:00)
2024-10-30 05:06:16,978 - INFO - Processing subreddit: girlsfinishingthejob
2024-10-30 05:06:16,979 - INFO - Processing subreddit: wifebutt
2024-10-30 05:06:16,979 - INFO - Fetching top posts of the day
2024-10-30 05:06:16,979 - INFO - Fetching top posts of the month
2024-10-30 05:06:16,980 - DEBUG - Fetching: GET https://oauth.reddit.com/r/girlsfinishingthejob/top at 1730282776.980832
2024-10-30 05:06:16,981 - DEBUG - Fetching: GET https://oauth.reddit.com/r/wifebutt/top at 1730282776.981034
2024-10-30 05:06:16,981 - DEBUG - Data: None
2024-10-30 05:06:16,981 - DEBUG - Data: None
2024-10-30 05:06:16,981 - DEBUG - Params: {'limit': 50, 'raw_json': 1, 't': 'day'}
2024-10-30 05:06:16,981 - DEBUG - Params: {'limit': 50, 'raw_json': 1, 't': 'month'}
2024-10-30 05:06:17,313 - DEBUG - https://oauth.reddit.com:443 "GET /r/girlsfinishingthejob/top?t=day&limit=50&raw_json=1 HTTP/11" 200 24105
2024-10-30 05:06:17,314 - DEBUG - Response: 200 (24105 bytes) (rst-0:rem-148.0:used-2 ratelimit) at 1730282777.314612
2024-10-30 05:06:17,337 - INFO - Checking post: 1gelyz1 - Score: 7074 - URL: https://www.redgifs.com/watch/uttersvelteamphibian
2024-10-30 05:06:17,341 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:06:17,373 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:06:17,373 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:06:16 GMT'
2024-10-30 05:06:17,373 - INFO - Found video post: 1gelyz1
2024-10-30 05:06:17,374 - DEBUG - Starting new HTTPS connection (1): api.redgifs.com:443
2024-10-30 05:06:17,480 - DEBUG - https://api.redgifs.com:443 "GET /v2/gifs/uttersvelteamphibian HTTP/11" 200 None
2024-10-30 05:06:17,483 - DEBUG - Starting new HTTPS connection (1): files.redgifs.com:443
2024-10-30 05:06:17,557 - DEBUG - https://files.redgifs.com:443 "GET /UtterSvelteAmphibian.mp4 HTTP/11" 200 42980012
2024-10-30 05:06:17,674 - DEBUG - https://oauth.reddit.com:443 "GET /r/wifebutt/top?t=month&limit=50&raw_json=1 HTTP/11" 200 49224
2024-10-30 05:06:17,705 - DEBUG - Response: 200 (49224 bytes) (rst-0:rem-149.0:used-1 ratelimit) at 1730282777.7051232
2024-10-30 05:06:17,710 - INFO - Checking post: 1g9w053 - Score: 5350 - URL: https://www.reddit.com/gallery/1g9w053
2024-10-30 05:06:17,712 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:06:17,757 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:06:17,757 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:06:17 GMT'
2024-10-30 05:06:17,758 - INFO - Post 1g9w053 is not an image or video post, skipping
2024-10-30 05:06:17,758 - INFO - Checking post: 1fv4cfc - Score: 4583 - URL: https://www.reddit.com/gallery/1fv4cfc
2024-10-30 05:06:17,759 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:06:17,793 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:06:17,794 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:06:17 GMT'
2024-10-30 05:06:17,794 - INFO - Post 1fv4cfc is not an image or video post, skipping
2024-10-30 05:06:17,794 - INFO - Checking post: 1ganrp0 - Score: 4210 - URL: https://i.redd.it/ezatz8645lwd1.jpeg
2024-10-30 05:06:17,795 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:06:17,833 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:06:17,833 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:06:17 GMT'
2024-10-30 05:06:17,834 - INFO - Post 1ganrp0 is a duplicate, skipping
2024-10-30 05:06:17,834 - INFO - Checking post: 1gdrcjt - Score: 4071 - URL: https://www.redgifs.com/watch/unrealisticdefinitebarebirdbat
2024-10-30 05:06:17,835 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:06:17,890 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:06:17,890 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:06:17 GMT'
2024-10-30 05:06:17,890 - INFO - Found video post: 1gdrcjt
2024-10-30 05:06:17,891 - DEBUG - Starting new HTTPS connection (1): api.redgifs.com:443
2024-10-30 05:06:18,034 - DEBUG - https://api.redgifs.com:443 "GET /v2/gifs/unrealisticdefinitebarebirdbat HTTP/11" 200 None
2024-10-30 05:06:18,037 - DEBUG - Starting new HTTPS connection (1): files.redgifs.com:443
2024-10-30 05:06:18,181 - DEBUG - https://files.redgifs.com:443 "GET /UnrealisticDefiniteBarebirdbat.mp4 HTTP/11" 200 9852354
2024-10-30 05:06:18,687 - INFO - Successfully downloaded media to downloads/videos/1gelyz1_20241030_050617_ba5c8ead.mp4
2024-10-30 05:06:18,689 - DEBUG - Using selector: KqueueSelector
2024-10-30 05:06:18,690 - INFO - Attempting to send video to Telegram - Path: downloads/videos/1gelyz1_20241030_050617_ba5c8ead.mp4
2024-10-30 05:06:18,691 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:06:18,691 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:06:18,699 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:06:18,700 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:06:18,707 - DEBUG - Entering: get_me
2024-10-30 05:06:18,708 - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2024-10-30 05:06:18,747 - INFO - Successfully downloaded media to downloads/videos/1gdrcjt_20241030_050618_5bafb5c5.mp4
2024-10-30 05:06:18,748 - DEBUG - Using selector: KqueueSelector
2024-10-30 05:06:18,748 - INFO - Attempting to send video to Telegram - Path: downloads/videos/1gdrcjt_20241030_050618_5bafb5c5.mp4
2024-10-30 05:06:18,749 - DEBUG - Entering: get_me
2024-10-30 05:06:18,749 - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2024-10-30 05:06:18,834 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108a5d910>
2024-10-30 05:06:18,834 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x108c9bcd0> server_hostname='api.telegram.org' timeout=5.0
2024-10-30 05:06:18,866 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108ed0a10>
2024-10-30 05:06:18,866 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x108c9bcd0> server_hostname='api.telegram.org' timeout=5.0
2024-10-30 05:06:18,967 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108cedac0>
2024-10-30 05:06:18,968 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:06:18,968 - DEBUG - send_request_headers.complete
2024-10-30 05:06:18,968 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:06:18,968 - DEBUG - send_request_body.complete
2024-10-30 05:06:18,968 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:06:19,008 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108c775c0>
2024-10-30 05:06:19,008 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:06:19,009 - DEBUG - send_request_headers.complete
2024-10-30 05:06:19,009 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:06:19,009 - DEBUG - send_request_body.complete
2024-10-30 05:06:19,009 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:06:19,086 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:06:19 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'254'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:06:19,086 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/getMe "HTTP/1.1 200 OK"
2024-10-30 05:06:19,086 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:06:19,087 - DEBUG - receive_response_body.complete
2024-10-30 05:06:19,087 - DEBUG - response_closed.started
2024-10-30 05:06:19,087 - DEBUG - response_closed.complete
2024-10-30 05:06:19,087 - DEBUG - User(api_kwargs={'can_connect_to_business': False, 'has_main_web_app': False}, can_join_groups=True, can_read_all_group_messages=False, first_name='RedditBot', id=7867694458, is_bot=True, supports_inline_queries=False, username='RedditImage_bot')
2024-10-30 05:06:19,087 - DEBUG - Exiting: get_me
2024-10-30 05:06:19,087 - DEBUG - This Bot is already initialized.
2024-10-30 05:06:19,088 - DEBUG - Entering: send_video
2024-10-30 05:06:19,105 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:06:19,106 - DEBUG - send_request_headers.complete
2024-10-30 05:06:19,106 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:06:19,122 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:06:19 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'254'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:06:19,122 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/getMe "HTTP/1.1 200 OK"
2024-10-30 05:06:19,122 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:06:19,122 - DEBUG - receive_response_body.complete
2024-10-30 05:06:19,122 - DEBUG - response_closed.started
2024-10-30 05:06:19,122 - DEBUG - response_closed.complete
2024-10-30 05:06:19,123 - DEBUG - User(api_kwargs={'can_connect_to_business': False, 'has_main_web_app': False}, can_join_groups=True, can_read_all_group_messages=False, first_name='RedditBot', id=7867694458, is_bot=True, supports_inline_queries=False, username='RedditImage_bot')
2024-10-30 05:06:19,123 - DEBUG - Exiting: get_me
2024-10-30 05:06:19,123 - DEBUG - This Updater is already initialized.
2024-10-30 05:06:19,124 - DEBUG - Entering: send_video
2024-10-30 05:06:19,144 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:06:19,145 - DEBUG - send_request_headers.complete
2024-10-30 05:06:19,145 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:06:20,544 - DEBUG - send_request_body.complete
2024-10-30 05:06:20,544 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:06:22,674 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:06:22 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'559'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:06:22,674 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/sendVideo "HTTP/1.1 200 OK"
2024-10-30 05:06:22,674 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:06:22,674 - DEBUG - receive_response_body.complete
2024-10-30 05:06:22,674 - DEBUG - response_closed.started
2024-10-30 05:06:22,675 - DEBUG - response_closed.complete
2024-10-30 05:06:22,675 - DEBUG - Message(caption='From r/wifebutt: Your coworker’s Wifebutt\nUpvotes: 4,071', channel_chat_created=False, chat=Chat(id=-1002490380283, title='Reddit_Pic_Stream', type=<ChatType.CHANNEL>), date=datetime.datetime(2024, 10, 30, 10, 6, 22, tzinfo=<UTC>), delete_chat_photo=False, group_chat_created=False, message_id=199, sender_chat=Chat(id=-1002490380283, title='Reddit_Pic_Stream', type=<ChatType.CHANNEL>), supergroup_chat_created=False, video=Video(duration=10, file_id='BAACAgEAAyEGAASUcC_7AAPHZyIFHoa28HmzemEZM-jxEDdWUbQAAp4EAAIZEBFFDQMm9L9MHM02BA', file_name='1gdrcjt_20241030_050618_5bafb5c5.mp4', file_size=9852354, file_unique_id='AgADngQAAhkQEUU', height=1920, mime_type='video/mp4', width=1080))
2024-10-30 05:06:22,676 - DEBUG - Exiting: send_video
2024-10-30 05:06:22,676 - DEBUG - close.started
2024-10-30 05:06:22,676 - DEBUG - close.complete
2024-10-30 05:06:22,676 - DEBUG - close.started
2024-10-30 05:06:22,676 - DEBUG - close.complete
2024-10-30 05:06:22,676 - DEBUG - This Bot is already shut down. Returning.
2024-10-30 05:06:22,676 - DEBUG - Shut down of Updater complete
2024-10-30 05:06:22,676 - INFO - Successfully sent video to Telegram
2024-10-30 05:06:22,680 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-partitionkey': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Content-Type': 'application/json'
    'Accept': 'application/json'
    'Content-Length': '97'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:06:22,754 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 409 None
2024-10-30 05:06:22,824 - INFO - Response status: 409
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-quorum-acked-lsn': 'REDACTED'
    'x-ms-current-write-quorum': 'REDACTED'
    'x-ms-current-replica-set-size': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-cosmos-quorum-acked-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:06:22 GMT'
2024-10-30 05:06:22,825 - ERROR - Error creating sent post in Cosmos DB: (Conflict) Entity with the specified id already exists in the system., 
RequestStartTime: 2024-10-30T10:06:22.7608624Z, RequestEndTime: 2024-10-30T10:06:22.7632452Z,  Number of regions attempted:1
{"systemHistory":[{"dateUtc":"2024-10-30T10:05:27.0690480Z","cpu":0.098,"memory":429058536.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0438,"availableThreads":32764,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":529},{"dateUtc":"2024-10-30T10:05:37.0791606Z","cpu":0.295,"memory":429034332.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0582,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":527},{"dateUtc":"2024-10-30T10:05:47.0893124Z","cpu":0.110,"memory":429051804.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0627,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":527},{"dateUtc":"2024-10-30T10:05:57.0994419Z","cpu":0.132,"memory":429035824.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.054,"availableThreads":32764,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":528},{"dateUtc":"2024-10-30T10:06:07.1095616Z","cpu":0.176,"memory":429032196.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0542,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":519},{"dateUtc":"2024-10-30T10:06:17.1197279Z","cpu":0.353,"memory":429022056.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0581,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":519}]}
RequestStart: 2024-10-30T10:06:22.7609640Z; ResponseTime: 2024-10-30T10:06:22.7632452Z; StoreResult: StorePhysicalAddress: rntbd://cdb-ms-prod-centralus1-be118.documents.azure.com:14105/apps/3a0fa558-ece1-4a99-8d7c-4fe2b422d4c0/services/82953f6d-a7b0-400f-a2ad-8510fce95224/partitions/ac3e5a5f-8d49-40cd-91d2-8d9122bfd805/replicas/133747410267249798p/, LSN: 8, GlobalCommittedLsn: 8, PartitionKeyRangeId: 0, IsValid: True, StatusCode: 409, SubStatusCode: 0, RequestCharge: 1.67, ItemLSN: -1, SessionToken: -1#8, UsingLocalLSN: False, TransportException: null, BELatencyMs: 1.219, ActivityId: 44045c74-6351-4498-b461-24f523162c88, RetryAfterInMs: , ReplicaHealthStatuses: [(port: 14105 | status: Connected | lkt: 10/30/2024 9:57:40 AM)], TransportRequestTimeline: {"requestTimeline":[{"event": "Created", "startTimeUtc": "2024-10-30T10:06:22.7609650Z", "durationInMs": 0.0101},{"event": "ChannelAcquisitionStarted", "startTimeUtc": "2024-10-30T10:06:22.7609751Z", "durationInMs": 0.0181},{"event": "Pipelined", "startTimeUtc": "2024-10-30T10:06:22.7609932Z", "durationInMs": 0.07},{"event": "Transit Time", "startTimeUtc": "2024-10-30T10:06:22.7610632Z", "durationInMs": 2.0832},{"event": "Received", "startTimeUtc": "2024-10-30T10:06:22.7631464Z", "durationInMs": 0.0868},{"event": "Completed", "startTimeUtc": "2024-10-30T10:06:22.7632332Z", "durationInMs": 0}],"serviceEndpointStats":{"inflightRequests":1,"openConnections":1},"connectionStats":{"waitforConnectionInit":"False","callsPendingReceive":0,"lastSendAttempt":"2024-10-30T10:06:10.5170492Z","lastSend":"2024-10-30T10:06:10.5170780Z","lastReceive":"2024-10-30T10:06:10.5187223Z"},"requestSizeInBytes":626,"requestBodySizeInBytes":101,"responseMetadataSizeInBytes":182,"responseBodySizeInBytes":65};
 ResourceType: Document, OperationType: Create
, Microsoft.Azure.Documents.Common/2.14.0
Code: Conflict
Message: Entity with the specified id already exists in the system., 
RequestStartTime: 2024-10-30T10:06:22.7608624Z, RequestEndTime: 2024-10-30T10:06:22.7632452Z,  Number of regions attempted:1
{"systemHistory":[{"dateUtc":"2024-10-30T10:05:27.0690480Z","cpu":0.098,"memory":429058536.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0438,"availableThreads":32764,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":529},{"dateUtc":"2024-10-30T10:05:37.0791606Z","cpu":0.295,"memory":429034332.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0582,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":527},{"dateUtc":"2024-10-30T10:05:47.0893124Z","cpu":0.110,"memory":429051804.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0627,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":527},{"dateUtc":"2024-10-30T10:05:57.0994419Z","cpu":0.132,"memory":429035824.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.054,"availableThreads":32764,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":528},{"dateUtc":"2024-10-30T10:06:07.1095616Z","cpu":0.176,"memory":429032196.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0542,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":519},{"dateUtc":"2024-10-30T10:06:17.1197279Z","cpu":0.353,"memory":429022056.000,"threadInfo":{"isThreadStarving":"False","threadWaitIntervalInMs":0.0581,"availableThreads":32765,"minThreads":64,"maxThreads":32767},"numberOfOpenTcpConnection":519}]}
RequestStart: 2024-10-30T10:06:22.7609640Z; ResponseTime: 2024-10-30T10:06:22.7632452Z; StoreResult: StorePhysicalAddress: rntbd://cdb-ms-prod-centralus1-be118.documents.azure.com:14105/apps/3a0fa558-ece1-4a99-8d7c-4fe2b422d4c0/services/82953f6d-a7b0-400f-a2ad-8510fce95224/partitions/ac3e5a5f-8d49-40cd-91d2-8d9122bfd805/replicas/133747410267249798p/, LSN: 8, GlobalCommittedLsn: 8, PartitionKeyRangeId: 0, IsValid: True, StatusCode: 409, SubStatusCode: 0, RequestCharge: 1.67, ItemLSN: -1, SessionToken: -1#8, UsingLocalLSN: False, TransportException: null, BELatencyMs: 1.219, ActivityId: 44045c74-6351-4498-b461-24f523162c88, RetryAfterInMs: , ReplicaHealthStatuses: [(port: 14105 | status: Connected | lkt: 10/30/2024 9:57:40 AM)], TransportRequestTimeline: {"requestTimeline":[{"event": "Created", "startTimeUtc": "2024-10-30T10:06:22.7609650Z", "durationInMs": 0.0101},{"event": "ChannelAcquisitionStarted", "startTimeUtc": "2024-10-30T10:06:22.7609751Z", "durationInMs": 0.0181},{"event": "Pipelined", "startTimeUtc": "2024-10-30T10:06:22.7609932Z", "durationInMs": 0.07},{"event": "Transit Time", "startTimeUtc": "2024-10-30T10:06:22.7610632Z", "durationInMs": 2.0832},{"event": "Received", "startTimeUtc": "2024-10-30T10:06:22.7631464Z", "durationInMs": 0.0868},{"event": "Completed", "startTimeUtc": "2024-10-30T10:06:22.7632332Z", "durationInMs": 0}],"serviceEndpointStats":{"inflightRequests":1,"openConnections":1},"connectionStats":{"waitforConnectionInit":"False","callsPendingReceive":0,"lastSendAttempt":"2024-10-30T10:06:10.5170492Z","lastSend":"2024-10-30T10:06:10.5170780Z","lastReceive":"2024-10-30T10:06:10.5187223Z"},"requestSizeInBytes":626,"requestBodySizeInBytes":101,"responseMetadataSizeInBytes":182,"responseBodySizeInBytes":65};
 ResourceType: Document, OperationType: Create
, Microsoft.Azure.Documents.Common/2.14.0
2024-10-30 05:06:22,825 - INFO - Successfully processed and recorded post 1gdrcjt
2024-10-30 05:06:22,825 - INFO - Updated last_check for wifebutt
2024-10-30 05:06:22,826 - INFO - Job "send_to_telegram (trigger: interval[0:01:00], next run at: 2024-10-30 05:07:16 CDT)" executed successfully
2024-10-30 05:06:39,110 - DEBUG - send_request_body.failed exception=WriteError(ClosedResourceError())
2024-10-30 05:06:39,110 - DEBUG - response_closed.started
2024-10-30 05:06:39,110 - DEBUG - response_closed.complete
2024-10-30 05:06:39,110 - DEBUG - This Application is already shut down. Returning.
2024-10-30 05:06:39,111 - ERROR - Failed to send video to Telegram: httpx.WriteError: 
2024-10-30 05:06:39,111 - ERROR - Error sending video post 1gelyz1: httpx.WriteError: 
2024-10-30 05:06:39,111 - INFO - Checking post: 1gejrnl - Score: 2579 - URL: https://v3.redgifs.com/watch/graydefensivepika
2024-10-30 05:06:39,112 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:06:39,144 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:06:39,144 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:06:38 GMT'
2024-10-30 05:06:39,144 - INFO - Post 1gejrnl is a duplicate, skipping
2024-10-30 05:06:39,144 - INFO - Checking post: 1gelw33 - Score: 2299 - URL: https://www.redgifs.com/watch/drydarkgraysable
2024-10-30 05:06:39,145 - INFO - Post 1gelw33 is a duplicate, skipping
2024-10-30 05:06:39,145 - INFO - Checking post: 1gevvp0 - Score: 1176 - URL: https://www.redgifs.com/watch/medicalplumhen
2024-10-30 05:06:39,146 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:06:39,174 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:06:39,175 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:06:38 GMT'
2024-10-30 05:06:39,175 - INFO - Found video post: 1gevvp0
2024-10-30 05:06:39,176 - DEBUG - Starting new HTTPS connection (1): api.redgifs.com:443
2024-10-30 05:06:39,280 - DEBUG - https://api.redgifs.com:443 "GET /v2/gifs/medicalplumhen HTTP/11" 200 None
2024-10-30 05:06:39,283 - DEBUG - Starting new HTTPS connection (1): files.redgifs.com:443
2024-10-30 05:06:39,351 - DEBUG - https://files.redgifs.com:443 "GET /MedicalPlumHen.mp4 HTTP/11" 200 10993811
2024-10-30 05:06:39,726 - INFO - Successfully downloaded media to downloads/videos/1gevvp0_20241030_050639_b1b08286.mp4
2024-10-30 05:06:39,728 - DEBUG - Using selector: KqueueSelector
2024-10-30 05:06:39,728 - INFO - Attempting to send video to Telegram - Path: downloads/videos/1gevvp0_20241030_050639_b1b08286.mp4
2024-10-30 05:06:39,728 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:06:39,728 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:06:39,739 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:06:39,740 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:06:39,746 - DEBUG - Entering: get_me
2024-10-30 05:06:39,747 - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2024-10-30 05:06:39,871 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108f2b7d0>
2024-10-30 05:06:39,871 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x108cd3c50> server_hostname='api.telegram.org' timeout=5.0
2024-10-30 05:06:40,004 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108f290d0>
2024-10-30 05:06:40,004 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:06:40,005 - DEBUG - send_request_headers.complete
2024-10-30 05:06:40,005 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:06:40,005 - DEBUG - send_request_body.complete
2024-10-30 05:06:40,005 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:06:40,123 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:06:40 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'254'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:06:40,123 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/getMe "HTTP/1.1 200 OK"
2024-10-30 05:06:40,123 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:06:40,123 - DEBUG - receive_response_body.complete
2024-10-30 05:06:40,124 - DEBUG - response_closed.started
2024-10-30 05:06:40,124 - DEBUG - response_closed.complete
2024-10-30 05:06:40,124 - DEBUG - User(api_kwargs={'can_connect_to_business': False, 'has_main_web_app': False}, can_join_groups=True, can_read_all_group_messages=False, first_name='RedditBot', id=7867694458, is_bot=True, supports_inline_queries=False, username='RedditImage_bot')
2024-10-30 05:06:40,124 - DEBUG - Exiting: get_me
2024-10-30 05:06:40,124 - DEBUG - This Bot is already initialized.
2024-10-30 05:06:40,124 - DEBUG - Entering: send_video
2024-10-30 05:06:40,127 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:06:40,127 - DEBUG - send_request_headers.complete
2024-10-30 05:06:40,128 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:06:41,574 - DEBUG - send_request_body.complete
2024-10-30 05:06:41,574 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:06:42,970 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:06:42 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'567'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:06:42,970 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/sendVideo "HTTP/1.1 200 OK"
2024-10-30 05:06:42,970 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:06:42,970 - DEBUG - receive_response_body.complete
2024-10-30 05:06:42,970 - DEBUG - response_closed.started
2024-10-30 05:06:42,971 - DEBUG - response_closed.complete
2024-10-30 05:06:42,971 - DEBUG - Message(caption='From r/girlsfinishingthejob: I think he died after this\nUpvotes: 1,176', channel_chat_created=False, chat=Chat(id=-1002490380283, title='Reddit_Pic_Stream', type=<ChatType.CHANNEL>), date=datetime.datetime(2024, 10, 30, 10, 6, 42, tzinfo=<UTC>), delete_chat_photo=False, group_chat_created=False, message_id=200, sender_chat=Chat(id=-1002490380283, title='Reddit_Pic_Stream', type=<ChatType.CHANNEL>), supergroup_chat_created=False, video=Video(duration=0, file_id='BAACAgEAAyEGAASUcC_7AAPIZyIFMjApIwABZL9FzwiAOrdg44RkAAKfBAACGRARRTcOev_252f9NgQ', file_name='1gevvp0_20241030_050639_b1b08286.mp4', file_size=10993811, file_unique_id='AgADnwQAAhkQEUU', height=320, mime_type='video/mp4', width=320))
2024-10-30 05:06:42,971 - DEBUG - Exiting: send_video
2024-10-30 05:06:42,971 - DEBUG - close.started
2024-10-30 05:06:42,972 - DEBUG - close.complete
2024-10-30 05:06:42,972 - DEBUG - This Bot is already shut down. Returning.
2024-10-30 05:06:42,972 - DEBUG - Shut down of Updater complete
2024-10-30 05:06:42,972 - INFO - Successfully sent video to Telegram
2024-10-30 05:06:42,975 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-partitionkey': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Content-Type': 'application/json'
    'Accept': 'application/json'
    'Content-Length': '109'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:06:43,011 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 201 None
2024-10-30 05:06:43,011 - INFO - Response status: 201
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'etag': '"0000ed06-0000-0300-0000-672205330000"'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-quorum-acked-lsn': 'REDACTED'
    'x-ms-current-write-quorum': 'REDACTED'
    'x-ms-current-replica-set-size': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-cosmos-quorum-acked-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:06:42 GMT'
2024-10-30 05:06:43,012 - INFO - Successfully processed and recorded post 1gevvp0
2024-10-30 05:06:43,012 - INFO - Updated last_check for girlsfinishingthejob
2024-10-30 05:06:43,012 - INFO - Job "send_to_telegram (trigger: interval[0:01:00], next run at: 2024-10-30 05:07:16 CDT)" executed successfully
2024-10-30 05:06:54,703 - INFO -  * Detected change in '/Users/joewilson/PythonProjects/Snoogram/backend/verify_migration.py', reloading
2024-10-30 05:06:54,817 - INFO -  * Restarting with stat
2024-10-30 05:06:55,803 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:06:55,804 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:06:55,809 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:06:55,810 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:06:55,815 - DEBUG - /etc/localtime found
2024-10-30 05:06:55,816 - DEBUG - 1 found:
 {'/etc/localtime is a symlink to': 'America/Chicago'}
2024-10-30 05:06:55,816 - INFO - Scheduler started
2024-10-30 05:06:55,816 - DEBUG - Looking for jobs to run
2024-10-30 05:06:55,818 - DEBUG - No jobs; waiting until a job is added
2024-10-30 05:06:55,821 - INFO - Scheduling job for subreddit: programming with frequency: 60 minutes
2024-10-30 05:06:55,821 - INFO - Added job "send_to_telegram" to job store "default"
2024-10-30 05:06:55,821 - INFO - Scheduling job for subreddit: python with frequency: 120 minutes
2024-10-30 05:06:55,821 - DEBUG - Looking for jobs to run
2024-10-30 05:06:55,822 - INFO - Added job "send_to_telegram" to job store "default"
2024-10-30 05:06:55,822 - DEBUG - Next wakeup is due at 2024-10-30 06:06:55.821757-05:00 (in 3599.999555 seconds)
2024-10-30 05:06:55,822 - DEBUG - Looking for jobs to run
2024-10-30 05:06:55,822 - DEBUG - Next wakeup is due at 2024-10-30 06:06:55.821757-05:00 (in 3599.999430 seconds)
2024-10-30 05:06:55,838 - WARNING -  * Debugger is active!
2024-10-30 05:06:55,848 - INFO -  * Debugger PIN: 122-772-954
2024-10-30 05:07:01,203 - INFO - 127.0.0.1 - - [30/Oct/2024 05:07:01] "GET /api/configs HTTP/1.1" 200 -
2024-10-30 05:07:01,322 - INFO - 127.0.0.1 - - [30/Oct/2024 05:07:01] "OPTIONS /api/configs HTTP/1.1" 200 -
2024-10-30 05:07:01,323 - INFO - 127.0.0.1 - - [30/Oct/2024 05:07:01] "GET /api/configs HTTP/1.1" 200 -
2024-10-30 05:07:01,341 - INFO - 127.0.0.1 - - [30/Oct/2024 05:07:01] "GET /api/configs HTTP/1.1" 200 -
2024-10-30 05:07:01,341 - INFO - 127.0.0.1 - - [30/Oct/2024 05:07:01] "GET /api/configs HTTP/1.1" 200 -
2024-10-30 05:07:01,348 - INFO - 127.0.0.1 - - [30/Oct/2024 05:07:01] "GET /api/configs HTTP/1.1" 200 -
2024-10-30 05:07:01,352 - INFO - 127.0.0.1 - - [30/Oct/2024 05:07:01] "GET /api/configs HTTP/1.1" 200 -
2024-10-30 05:07:01,357 - INFO - 127.0.0.1 - - [30/Oct/2024 05:07:01] "GET /api/configs HTTP/1.1" 200 -
2024-10-30 05:07:01,370 - INFO - 127.0.0.1 - - [30/Oct/2024 05:07:01] "GET /api/configs HTTP/1.1" 200 -
2024-10-30 05:07:01,376 - INFO - 127.0.0.1 - - [30/Oct/2024 05:07:01] "GET /api/configs HTTP/1.1" 200 -
2024-10-30 05:07:01,380 - INFO - 127.0.0.1 - - [30/Oct/2024 05:07:01] "GET /api/configs HTTP/1.1" 200 -
2024-10-30 05:07:02,838 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:07:02,839 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/backend/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:07:02,845 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:07:02,845 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/backend/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:07:02,852 - DEBUG - /etc/localtime found
2024-10-30 05:07:02,853 - DEBUG - 1 found:
 {'/etc/localtime is a symlink to': 'America/Chicago'}
2024-10-30 05:07:02,853 - INFO - Scheduler started
2024-10-30 05:07:02,853 - DEBUG - Looking for jobs to run
2024-10-30 05:07:02,855 - INFO - 
=== SQLite Database Contents ===
2024-10-30 05:07:02,855 - DEBUG - No jobs; waiting until a job is added
2024-10-30 05:07:02,858 - INFO - SQLite Subreddit Configs (2):
2024-10-30 05:07:02,858 - INFO - {'filter_type': 'top_day',
 'frequency': 60,
 'id': 1,
 'is_active': True,
 'last_check': '2024-10-30T10:05:33.723553',
 'subreddit_name': 'programming'}
2024-10-30 05:07:02,858 - INFO - {'filter_type': 'top_week',
 'frequency': 120,
 'id': 2,
 'is_active': True,
 'last_check': '2024-10-30T10:05:33.723564',
 'subreddit_name': 'python'}
2024-10-30 05:07:02,859 - INFO - 
SQLite Sent Posts (5):
2024-10-30 05:07:02,859 - INFO - {'id': 1,
 'post_id': 'abc123',
 'sent_at': '2024-10-30T08:05:33.723901',
 'subreddit_name': 'programming'}
2024-10-30 05:07:02,859 - INFO - {'id': 2,
 'post_id': 'def456',
 'sent_at': '2024-10-30T09:05:33.723911',
 'subreddit_name': 'python'}
2024-10-30 05:07:02,859 - INFO - {'id': 3,
 'post_id': '1gelw33',
 'sent_at': '2024-10-30T10:05:45.682336',
 'subreddit_name': 'girlsfinishingthejob'}
2024-10-30 05:07:02,859 - INFO - {'id': 4,
 'post_id': '1gdrcjt',
 'sent_at': '2024-10-30T10:06:22.678115',
 'subreddit_name': 'wifebutt'}
2024-10-30 05:07:02,859 - INFO - {'id': 5,
 'post_id': '1gevvp0',
 'sent_at': '2024-10-30T10:06:42.973379',
 'subreddit_name': 'girlsfinishingthejob'}
2024-10-30 05:07:02,859 - INFO - 
=== Cosmos DB Contents ===
2024-10-30 05:07:02,859 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/subreddit_configs/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '27'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:07:02,892 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/subreddit_configs/docs/ HTTP/11" 200 None
2024-10-30 05:07:02,893 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:07:02 GMT'
2024-10-30 05:07:02,893 - INFO - Cosmos DB Subreddit Configs (2):
2024-10-30 05:07:02,893 - INFO - {'_attachments': 'attachments/',
 '_etag': '"0300d71f-0000-0300-0000-672204930000"',
 '_rid': 'oQYbAK6yBIYBAAAAAAAAAA==',
 '_self': 'dbs/oQYbAA==/colls/oQYbAK6yBIY=/docs/oQYbAK6yBIYBAAAAAAAAAA==/',
 '_ts': 1730282643,
 'created_at': '2024-10-30T10:04:03.265769',
 'filter_type': 'top_day',
 'frequency': 60,
 'id': '1',
 'is_active': True,
 'last_check': '2024-10-30T10:04:03.265771',
 'subreddit_name': 'programming'}
2024-10-30 05:07:02,893 - INFO - {'_attachments': 'attachments/',
 '_etag': '"0300d81f-0000-0300-0000-672204930000"',
 '_rid': 'oQYbAK6yBIYCAAAAAAAAAA==',
 '_self': 'dbs/oQYbAA==/colls/oQYbAK6yBIY=/docs/oQYbAK6yBIYCAAAAAAAAAA==/',
 '_ts': 1730282643,
 'created_at': '2024-10-30T10:04:03.394987',
 'filter_type': 'top_week',
 'frequency': 120,
 'id': '2',
 'is_active': True,
 'last_check': '2024-10-30T10:04:03.394995',
 'subreddit_name': 'python'}
2024-10-30 05:07:02,893 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '27'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:07:02,919 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:07:02,941 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:07:02 GMT'
2024-10-30 05:07:02,941 - INFO - 
Cosmos DB Sent Posts (8):
2024-10-30 05:07:02,941 - INFO - {'_attachments': 'attachments/',
 '_etag': '"0000a806-0000-0300-0000-6722048e0000"',
 '_rid': 'oQYbAOPBChsBAAAAAAAAAA==',
 '_self': 'dbs/oQYbAA==/colls/oQYbAOPBChs=/docs/oQYbAOPBChsBAAAAAAAAAA==/',
 '_ts': 1730282638,
 'id': '3',
 'post_id': '1g7a0gc',
 'sent_at': '2024-10-30T10:03:57.940202',
 'subreddit_name': 'wifebutt'}
2024-10-30 05:07:02,941 - INFO - {'_attachments': 'attachments/',
 '_etag': '"0000a906-0000-0300-0000-672204930000"',
 '_rid': 'oQYbAOPBChsCAAAAAAAAAA==',
 '_self': 'dbs/oQYbAA==/colls/oQYbAOPBChs=/docs/oQYbAOPBChsCAAAAAAAAAA==/',
 '_ts': 1730282643,
 'id': '1',
 'post_id': 'abc123',
 'sent_at': '2024-10-30T10:04:03.458761',
 'subreddit_name': 'programming'}
2024-10-30 05:07:02,942 - INFO - {'_attachments': 'attachments/',
 '_etag': '"0000aa06-0000-0300-0000-672204930000"',
 '_rid': 'oQYbAOPBChsDAAAAAAAAAA==',
 '_self': 'dbs/oQYbAA==/colls/oQYbAOPBChs=/docs/oQYbAOPBChsDAAAAAAAAAA==/',
 '_ts': 1730282643,
 'id': '2',
 'post_id': 'def456',
 'sent_at': '2024-10-30T10:04:03.568848',
 'subreddit_name': 'python'}
2024-10-30 05:07:02,942 - INFO - {'_attachments': 'attachments/',
 '_etag': '"0000b006-0000-0300-0000-672204a20000"',
 '_rid': 'oQYbAOPBChsEAAAAAAAAAA==',
 '_self': 'dbs/oQYbAA==/colls/oQYbAOPBChs=/docs/oQYbAOPBChsEAAAAAAAAAA==/',
 '_ts': 1730282658,
 'id': '4',
 'post_id': '1ganrp0',
 'sent_at': '2024-10-30T10:04:18.251306',
 'subreddit_name': 'wifebutt'}
2024-10-30 05:07:02,942 - INFO - {'_attachments': 'attachments/',
 '_etag': '"0000b306-0000-0300-0000-672204a30000"',
 '_rid': 'oQYbAOPBChsFAAAAAAAAAA==',
 '_self': 'dbs/oQYbAA==/colls/oQYbAOPBChs=/docs/oQYbAOPBChsFAAAAAAAAAA==/',
 '_ts': 1730282659,
 'id': '5',
 'post_id': '1ganrp0',
 'sent_at': '2024-10-30T10:04:19.858775',
 'subreddit_name': 'wifebutt'}
2024-10-30 05:07:02,942 - INFO - {'_attachments': 'attachments/',
 '_etag': '"0000ba06-0000-0300-0000-672204bd0000"',
 '_rid': 'oQYbAOPBChsGAAAAAAAAAA==',
 '_self': 'dbs/oQYbAA==/colls/oQYbAOPBChs=/docs/oQYbAOPBChsGAAAAAAAAAA==/',
 '_ts': 1730282685,
 'id': '6',
 'post_id': '1gejrnl',
 'sent_at': '2024-10-30T10:04:45.716155',
 'subreddit_name': 'girlsfinishingthejob'}
2024-10-30 05:07:02,942 - INFO - {'_attachments': 'attachments/',
 '_etag': '"0000d806-0000-0300-0000-672204f90000"',
 '_rid': 'oQYbAOPBChsHAAAAAAAAAA==',
 '_self': 'dbs/oQYbAA==/colls/oQYbAOPBChs=/docs/oQYbAOPBChsHAAAAAAAAAA==/',
 '_ts': 1730282745,
 'id': '3',
 'post_id': '1gelw33',
 'sent_at': '2024-10-30T10:05:45.683541',
 'subreddit_name': 'girlsfinishingthejob'}
2024-10-30 05:07:02,942 - INFO - {'_attachments': 'attachments/',
 '_etag': '"0000ed06-0000-0300-0000-672205330000"',
 '_rid': 'oQYbAOPBChsIAAAAAAAAAA==',
 '_self': 'dbs/oQYbAA==/colls/oQYbAOPBChs=/docs/oQYbAOPBChsIAAAAAAAAAA==/',
 '_ts': 1730282803,
 'id': '5',
 'post_id': '1gevvp0',
 'sent_at': '2024-10-30T10:06:42.975099',
 'subreddit_name': 'girlsfinishingthejob'}
2024-10-30 05:07:16,976 - DEBUG - Looking for jobs to run
2024-10-30 05:07:16,978 - DEBUG - Next wakeup is due at 2024-10-30 05:08:16.969826-05:00 (in 59.990945 seconds)
2024-10-30 05:07:16,979 - INFO - Running job "send_to_telegram (trigger: interval[0:01:00], next run at: 2024-10-30 05:08:16 CDT)" (scheduled at 2024-10-30 05:07:16.969826-05:00)
2024-10-30 05:07:16,979 - INFO - Running job "send_to_telegram (trigger: interval[0:01:00], next run at: 2024-10-30 05:08:16 CDT)" (scheduled at 2024-10-30 05:07:16.970029-05:00)
2024-10-30 05:07:16,979 - INFO - Processing subreddit: girlsfinishingthejob
2024-10-30 05:07:16,979 - INFO - Processing subreddit: wifebutt
2024-10-30 05:07:16,979 - INFO - Fetching top posts of the day
2024-10-30 05:07:16,979 - INFO - Fetching top posts of the month
2024-10-30 05:07:16,980 - DEBUG - Fetching: GET https://oauth.reddit.com/r/girlsfinishingthejob/top at 1730282836.980466
2024-10-30 05:07:16,980 - DEBUG - Fetching: GET https://oauth.reddit.com/r/wifebutt/top at 1730282836.980588
2024-10-30 05:07:16,980 - DEBUG - Data: None
2024-10-30 05:07:16,980 - DEBUG - Data: None
2024-10-30 05:07:16,980 - DEBUG - Params: {'limit': 50, 'raw_json': 1, 't': 'day'}
2024-10-30 05:07:16,980 - DEBUG - Params: {'limit': 50, 'raw_json': 1, 't': 'month'}
2024-10-30 05:07:17,353 - DEBUG - https://oauth.reddit.com:443 "GET /r/girlsfinishingthejob/top?t=day&limit=50&raw_json=1 HTTP/11" 200 24081
2024-10-30 05:07:17,355 - DEBUG - Response: 200 (24081 bytes) (rst-0:rem-149.0:used-1 ratelimit) at 1730282837.355065
2024-10-30 05:07:17,371 - INFO - Checking post: 1gelyz1 - Score: 7080 - URL: https://www.redgifs.com/watch/uttersvelteamphibian
2024-10-30 05:07:17,375 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:07:17,407 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:07:17,408 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:07:16 GMT'
2024-10-30 05:07:17,408 - INFO - Found video post: 1gelyz1
2024-10-30 05:07:17,409 - DEBUG - Starting new HTTPS connection (1): api.redgifs.com:443
2024-10-30 05:07:17,505 - DEBUG - https://api.redgifs.com:443 "GET /v2/gifs/uttersvelteamphibian HTTP/11" 200 None
2024-10-30 05:07:17,508 - DEBUG - Starting new HTTPS connection (1): files.redgifs.com:443
2024-10-30 05:07:17,578 - DEBUG - https://files.redgifs.com:443 "GET /UtterSvelteAmphibian.mp4 HTTP/11" 200 42980012
2024-10-30 05:07:17,881 - DEBUG - https://oauth.reddit.com:443 "GET /r/wifebutt/top?t=month&limit=50&raw_json=1 HTTP/11" 200 49231
2024-10-30 05:07:17,924 - DEBUG - Response: 200 (49231 bytes) (rst-0:rem-148.0:used-2 ratelimit) at 1730282837.924778
2024-10-30 05:07:17,929 - INFO - Checking post: 1g9w053 - Score: 5353 - URL: https://www.reddit.com/gallery/1g9w053
2024-10-30 05:07:17,930 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:07:17,971 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:07:17,972 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-quorum-acked-lsn': 'REDACTED'
    'x-ms-current-write-quorum': 'REDACTED'
    'x-ms-current-replica-set-size': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-cosmos-quorum-acked-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:07:17 GMT'
2024-10-30 05:07:17,972 - INFO - Post 1g9w053 is not an image or video post, skipping
2024-10-30 05:07:17,972 - INFO - Checking post: 1fv4cfc - Score: 4578 - URL: https://www.reddit.com/gallery/1fv4cfc
2024-10-30 05:07:17,973 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:07:18,031 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:07:18,032 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-quorum-acked-lsn': 'REDACTED'
    'x-ms-current-write-quorum': 'REDACTED'
    'x-ms-current-replica-set-size': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-cosmos-quorum-acked-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:07:17 GMT'
2024-10-30 05:07:18,032 - INFO - Post 1fv4cfc is not an image or video post, skipping
2024-10-30 05:07:18,032 - INFO - Checking post: 1ganrp0 - Score: 4208 - URL: https://i.redd.it/ezatz8645lwd1.jpeg
2024-10-30 05:07:18,033 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:07:18,086 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:07:18,088 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:07:17 GMT'
2024-10-30 05:07:18,090 - INFO - Post 1ganrp0 is a duplicate, skipping
2024-10-30 05:07:18,092 - INFO - Checking post: 1gdrcjt - Score: 4065 - URL: https://www.redgifs.com/watch/unrealisticdefinitebarebirdbat
2024-10-30 05:07:18,096 - INFO - Post 1gdrcjt is a duplicate, skipping
2024-10-30 05:07:18,097 - INFO - Checking post: 1g30sx1 - Score: 3960 - URL: https://www.redgifs.com/watch/hardwarlikesunbittern
2024-10-30 05:07:18,098 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:07:18,142 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:07:18,144 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-quorum-acked-lsn': 'REDACTED'
    'x-ms-current-write-quorum': 'REDACTED'
    'x-ms-current-replica-set-size': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-cosmos-quorum-acked-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:07:17 GMT'
2024-10-30 05:07:18,145 - INFO - Found video post: 1g30sx1
2024-10-30 05:07:18,153 - DEBUG - Starting new HTTPS connection (1): api.redgifs.com:443
2024-10-30 05:07:18,356 - DEBUG - https://api.redgifs.com:443 "GET /v2/gifs/hardwarlikesunbittern HTTP/11" 200 None
2024-10-30 05:07:18,358 - DEBUG - Starting new HTTPS connection (1): files.redgifs.com:443
2024-10-30 05:07:18,527 - DEBUG - https://files.redgifs.com:443 "GET /HardWarlikeSunbittern.mp4 HTTP/11" 200 3826989
2024-10-30 05:07:18,883 - INFO - Successfully downloaded media to downloads/videos/1gelyz1_20241030_050717_ba5c8ead.mp4
2024-10-30 05:07:18,884 - DEBUG - Using selector: KqueueSelector
2024-10-30 05:07:18,885 - INFO - Attempting to send video to Telegram - Path: downloads/videos/1gelyz1_20241030_050717_ba5c8ead.mp4
2024-10-30 05:07:18,885 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:07:18,886 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:07:18,893 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:07:18,893 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:07:18,900 - DEBUG - Entering: get_me
2024-10-30 05:07:18,900 - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2024-10-30 05:07:18,979 - INFO - Successfully downloaded media to downloads/videos/1g30sx1_20241030_050718_152f55d2.mp4
2024-10-30 05:07:18,980 - DEBUG - Using selector: KqueueSelector
2024-10-30 05:07:18,980 - INFO - Attempting to send video to Telegram - Path: downloads/videos/1g30sx1_20241030_050718_152f55d2.mp4
2024-10-30 05:07:18,980 - DEBUG - Entering: get_me
2024-10-30 05:07:18,981 - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2024-10-30 05:07:19,024 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108f2ba10>
2024-10-30 05:07:19,024 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x108ec60d0> server_hostname='api.telegram.org' timeout=5.0
2024-10-30 05:07:19,105 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108d9cd40>
2024-10-30 05:07:19,105 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x108ec60d0> server_hostname='api.telegram.org' timeout=5.0
2024-10-30 05:07:19,158 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108f2bdd0>
2024-10-30 05:07:19,158 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:07:19,158 - DEBUG - send_request_headers.complete
2024-10-30 05:07:19,158 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:07:19,158 - DEBUG - send_request_body.complete
2024-10-30 05:07:19,159 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:07:19,238 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108c75520>
2024-10-30 05:07:19,238 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:07:19,239 - DEBUG - send_request_headers.complete
2024-10-30 05:07:19,239 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:07:19,239 - DEBUG - send_request_body.complete
2024-10-30 05:07:19,239 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:07:19,283 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:07:19 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'254'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:07:19,283 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/getMe "HTTP/1.1 200 OK"
2024-10-30 05:07:19,283 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:07:19,283 - DEBUG - receive_response_body.complete
2024-10-30 05:07:19,283 - DEBUG - response_closed.started
2024-10-30 05:07:19,284 - DEBUG - response_closed.complete
2024-10-30 05:07:19,284 - DEBUG - User(api_kwargs={'can_connect_to_business': False, 'has_main_web_app': False}, can_join_groups=True, can_read_all_group_messages=False, first_name='RedditBot', id=7867694458, is_bot=True, supports_inline_queries=False, username='RedditImage_bot')
2024-10-30 05:07:19,284 - DEBUG - Exiting: get_me
2024-10-30 05:07:19,284 - DEBUG - This Bot is already initialized.
2024-10-30 05:07:19,284 - DEBUG - Entering: send_video
2024-10-30 05:07:19,298 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:07:19,298 - DEBUG - send_request_headers.complete
2024-10-30 05:07:19,298 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:07:19,364 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:07:19 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'254'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:07:19,365 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/getMe "HTTP/1.1 200 OK"
2024-10-30 05:07:19,365 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:07:19,365 - DEBUG - receive_response_body.complete
2024-10-30 05:07:19,365 - DEBUG - response_closed.started
2024-10-30 05:07:19,365 - DEBUG - response_closed.complete
2024-10-30 05:07:19,365 - DEBUG - User(api_kwargs={'can_connect_to_business': False, 'has_main_web_app': False}, can_join_groups=True, can_read_all_group_messages=False, first_name='RedditBot', id=7867694458, is_bot=True, supports_inline_queries=False, username='RedditImage_bot')
2024-10-30 05:07:19,365 - DEBUG - Exiting: get_me
2024-10-30 05:07:19,365 - DEBUG - This Updater is already initialized.
2024-10-30 05:07:19,365 - DEBUG - Entering: send_video
2024-10-30 05:07:19,367 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:07:19,367 - DEBUG - send_request_headers.complete
2024-10-30 05:07:19,367 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:07:20,403 - DEBUG - send_request_body.complete
2024-10-30 05:07:20,404 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:07:21,730 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:07:21 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'625'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:07:21,730 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/sendVideo "HTTP/1.1 200 OK"
2024-10-30 05:07:21,731 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:07:21,731 - DEBUG - receive_response_body.complete
2024-10-30 05:07:21,731 - DEBUG - response_closed.started
2024-10-30 05:07:21,731 - DEBUG - response_closed.complete
2024-10-30 05:07:21,732 - DEBUG - Message(caption='From r/wifebutt: Strolling the pool deck on our cruise ship. People will be seeing lots of my wifebutt this week!\nUpvotes: 3,960', channel_chat_created=False, chat=Chat(id=-1002490380283, title='Reddit_Pic_Stream', type=<ChatType.CHANNEL>), date=datetime.datetime(2024, 10, 30, 10, 7, 21, tzinfo=<UTC>), delete_chat_photo=False, group_chat_created=False, message_id=201, sender_chat=Chat(id=-1002490380283, title='Reddit_Pic_Stream', type=<ChatType.CHANNEL>), supergroup_chat_created=False, video=Video(duration=4, file_id='BAACAgEAAyEGAASUcC_7AAPJZyIFWfeYdTlI4dh0R-XzXpWFQH4AAqAEAAIZEBFF91ce1Uf2cVw2BA', file_name='1g30sx1_20241030_050718_152f55d2.mp4', file_size=3826989, file_unique_id='AgADoAQAAhkQEUU', height=1440, mime_type='video/mp4', width=1080))
2024-10-30 05:07:21,733 - DEBUG - Exiting: send_video
2024-10-30 05:07:21,733 - DEBUG - close.started
2024-10-30 05:07:21,734 - DEBUG - close.complete
2024-10-30 05:07:21,734 - DEBUG - close.started
2024-10-30 05:07:21,734 - DEBUG - close.complete
2024-10-30 05:07:21,734 - DEBUG - This Bot is already shut down. Returning.
2024-10-30 05:07:21,734 - DEBUG - Shut down of Updater complete
2024-10-30 05:07:21,734 - INFO - Successfully sent video to Telegram
2024-10-30 05:07:21,737 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-partitionkey': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Content-Type': 'application/json'
    'Accept': 'application/json'
    'Content-Length': '97'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:07:21,828 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 201 None
2024-10-30 05:07:21,828 - INFO - Response status: 201
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'etag': '"0000f406-0000-0300-0000-672205590000"'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-quorum-acked-lsn': 'REDACTED'
    'x-ms-current-write-quorum': 'REDACTED'
    'x-ms-current-replica-set-size': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-cosmos-quorum-acked-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:07:21 GMT'
2024-10-30 05:07:21,828 - INFO - Successfully processed and recorded post 1g30sx1
2024-10-30 05:07:21,828 - INFO - Updated last_check for wifebutt
2024-10-30 05:07:21,829 - INFO - Job "send_to_telegram (trigger: interval[0:01:00], next run at: 2024-10-30 05:08:16 CDT)" executed successfully
2024-10-30 05:07:39,305 - DEBUG - send_request_body.failed exception=WriteError(ClosedResourceError())
2024-10-30 05:07:39,307 - DEBUG - response_closed.started
2024-10-30 05:07:39,307 - DEBUG - response_closed.complete
2024-10-30 05:07:39,308 - DEBUG - This Application is already shut down. Returning.
2024-10-30 05:07:39,308 - ERROR - Failed to send video to Telegram: httpx.WriteError: 
2024-10-30 05:07:39,309 - ERROR - Error sending video post 1gelyz1: httpx.WriteError: 
2024-10-30 05:07:39,309 - INFO - Checking post: 1gejrnl - Score: 2580 - URL: https://v3.redgifs.com/watch/graydefensivepika
2024-10-30 05:07:39,315 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:07:39,350 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:07:39,350 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:07:38 GMT'
2024-10-30 05:07:39,350 - INFO - Post 1gejrnl is a duplicate, skipping
2024-10-30 05:07:39,350 - INFO - Checking post: 1gelw33 - Score: 2301 - URL: https://www.redgifs.com/watch/drydarkgraysable
2024-10-30 05:07:39,351 - INFO - Post 1gelw33 is a duplicate, skipping
2024-10-30 05:07:39,351 - INFO - Checking post: 1gevvp0 - Score: 1183 - URL: https://www.redgifs.com/watch/medicalplumhen
2024-10-30 05:07:39,351 - INFO - Post 1gevvp0 is a duplicate, skipping
2024-10-30 05:07:39,351 - INFO - Checking post: 1gesoj7 - Score: 744 - URL: https://www.redgifs.com/watch/lightgreytrickydragonfly
2024-10-30 05:07:39,352 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:07:39,385 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:07:39,386 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:07:38 GMT'
2024-10-30 05:07:39,386 - INFO - Found video post: 1gesoj7
2024-10-30 05:07:39,387 - DEBUG - Starting new HTTPS connection (1): api.redgifs.com:443
2024-10-30 05:07:39,486 - DEBUG - https://api.redgifs.com:443 "GET /v2/gifs/lightgreytrickydragonfly HTTP/11" 200 None
2024-10-30 05:07:39,489 - DEBUG - Starting new HTTPS connection (1): files.redgifs.com:443
2024-10-30 05:07:39,577 - DEBUG - https://files.redgifs.com:443 "GET /LightgreyTrickyDragonfly.mp4 HTTP/11" 200 22644456
2024-10-30 05:07:40,348 - INFO - Successfully downloaded media to downloads/videos/1gesoj7_20241030_050739_cad33a13.mp4
2024-10-30 05:07:40,350 - DEBUG - Using selector: KqueueSelector
2024-10-30 05:07:40,350 - INFO - Attempting to send video to Telegram - Path: downloads/videos/1gesoj7_20241030_050739_cad33a13.mp4
2024-10-30 05:07:40,351 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:07:40,351 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:07:40,362 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:07:40,362 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:07:40,373 - DEBUG - Entering: get_me
2024-10-30 05:07:40,374 - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2024-10-30 05:07:40,502 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108d9f2c0>
2024-10-30 05:07:40,502 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x108c83cd0> server_hostname='api.telegram.org' timeout=5.0
2024-10-30 05:07:40,635 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108d9d7c0>
2024-10-30 05:07:40,635 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:07:40,636 - DEBUG - send_request_headers.complete
2024-10-30 05:07:40,636 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:07:40,636 - DEBUG - send_request_body.complete
2024-10-30 05:07:40,636 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:07:40,755 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:07:40 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'254'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:07:40,755 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/getMe "HTTP/1.1 200 OK"
2024-10-30 05:07:40,756 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:07:40,756 - DEBUG - receive_response_body.complete
2024-10-30 05:07:40,756 - DEBUG - response_closed.started
2024-10-30 05:07:40,756 - DEBUG - response_closed.complete
2024-10-30 05:07:40,757 - DEBUG - User(api_kwargs={'can_connect_to_business': False, 'has_main_web_app': False}, can_join_groups=True, can_read_all_group_messages=False, first_name='RedditBot', id=7867694458, is_bot=True, supports_inline_queries=False, username='RedditImage_bot')
2024-10-30 05:07:40,757 - DEBUG - Exiting: get_me
2024-10-30 05:07:40,757 - DEBUG - This Bot is already initialized.
2024-10-30 05:07:40,757 - DEBUG - Entering: send_video
2024-10-30 05:07:40,764 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:07:40,764 - DEBUG - send_request_headers.complete
2024-10-30 05:07:40,764 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:07:43,001 - DEBUG - send_request_body.complete
2024-10-30 05:07:43,001 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:07:44,898 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:07:44 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'559'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:07:44,898 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/sendVideo "HTTP/1.1 200 OK"
2024-10-30 05:07:44,899 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:07:44,899 - DEBUG - receive_response_body.complete
2024-10-30 05:07:44,899 - DEBUG - response_closed.started
2024-10-30 05:07:44,899 - DEBUG - response_closed.complete
2024-10-30 05:07:44,899 - DEBUG - Message(caption='From r/girlsfinishingthejob: What Are Friends For?\nUpvotes: 744', channel_chat_created=False, chat=Chat(id=-1002490380283, title='Reddit_Pic_Stream', type=<ChatType.CHANNEL>), date=datetime.datetime(2024, 10, 30, 10, 7, 44, tzinfo=<UTC>), delete_chat_photo=False, group_chat_created=False, message_id=202, sender_chat=Chat(id=-1002490380283, title='Reddit_Pic_Stream', type=<ChatType.CHANNEL>), supergroup_chat_created=False, video=Video(duration=0, file_id='BAACAgEAAyEGAASUcC_7AAPKZyIFcF8IJDOTt5minpcOjjh0EYAAAqEEAAIZEBFFkFw8r4FJrBc2BA', file_name='1gesoj7_20241030_050739_cad33a13.mp4', file_size=22644456, file_unique_id='AgADoQQAAhkQEUU', height=320, mime_type='video/mp4', width=320))
2024-10-30 05:07:44,899 - DEBUG - Exiting: send_video
2024-10-30 05:07:44,900 - DEBUG - close.started
2024-10-30 05:07:44,900 - DEBUG - close.complete
2024-10-30 05:07:44,900 - DEBUG - This Bot is already shut down. Returning.
2024-10-30 05:07:44,900 - DEBUG - Shut down of Updater complete
2024-10-30 05:07:44,900 - INFO - Successfully sent video to Telegram
2024-10-30 05:07:44,903 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-partitionkey': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Content-Type': 'application/json'
    'Accept': 'application/json'
    'Content-Length': '109'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:07:44,941 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 201 None
2024-10-30 05:07:44,941 - INFO - Response status: 201
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'etag': '"0000f906-0000-0300-0000-672205700000"'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-quorum-acked-lsn': 'REDACTED'
    'x-ms-current-write-quorum': 'REDACTED'
    'x-ms-current-replica-set-size': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-cosmos-quorum-acked-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:07:44 GMT'
2024-10-30 05:07:44,941 - INFO - Successfully processed and recorded post 1gesoj7
2024-10-30 05:07:44,941 - INFO - Updated last_check for girlsfinishingthejob
2024-10-30 05:07:44,941 - INFO - Job "send_to_telegram (trigger: interval[0:01:00], next run at: 2024-10-30 05:08:16 CDT)" executed successfully
2024-10-30 05:08:01,223 - INFO - 127.0.0.1 - - [30/Oct/2024 05:08:01] "GET /api/configs HTTP/1.1" 200 -
2024-10-30 05:08:01,251 - INFO - 127.0.0.1 - - [30/Oct/2024 05:08:01] "GET /api/configs HTTP/1.1" 200 -
2024-10-30 05:08:01,259 - INFO - 127.0.0.1 - - [30/Oct/2024 05:08:01] "GET /api/configs HTTP/1.1" 200 -
2024-10-30 05:08:01,263 - INFO - 127.0.0.1 - - [30/Oct/2024 05:08:01] "OPTIONS /api/configs HTTP/1.1" 200 -
2024-10-30 05:08:01,283 - INFO - 127.0.0.1 - - [30/Oct/2024 05:08:01] "GET /api/configs HTTP/1.1" 200 -
2024-10-30 05:08:01,284 - INFO - 127.0.0.1 - - [30/Oct/2024 05:08:01] "GET /api/configs HTTP/1.1" 200 -
2024-10-30 05:08:01,288 - INFO - 127.0.0.1 - - [30/Oct/2024 05:08:01] "GET /api/configs HTTP/1.1" 200 -
2024-10-30 05:08:01,306 - INFO - 127.0.0.1 - - [30/Oct/2024 05:08:01] "GET /api/configs HTTP/1.1" 200 -
2024-10-30 05:08:01,311 - INFO - 127.0.0.1 - - [30/Oct/2024 05:08:01] "GET /api/configs HTTP/1.1" 200 -
2024-10-30 05:08:01,315 - INFO - 127.0.0.1 - - [30/Oct/2024 05:08:01] "GET /api/configs HTTP/1.1" 200 -
2024-10-30 05:08:01,318 - INFO - 127.0.0.1 - - [30/Oct/2024 05:08:01] "GET /api/configs HTTP/1.1" 200 -
2024-10-30 05:08:13,145 - INFO -  * Detected change in '/Users/joewilson/PythonProjects/Snoogram/backend/cosmos_db.py', reloading
2024-10-30 05:08:13,286 - INFO -  * Restarting with stat
2024-10-30 05:08:17,112 - DEBUG - Looking for jobs to run
2024-10-30 05:08:17,119 - DEBUG - Next wakeup is due at 2024-10-30 05:09:16.969826-05:00 (in 59.853991 seconds)
2024-10-30 05:08:17,126 - INFO - Running job "send_to_telegram (trigger: interval[0:01:00], next run at: 2024-10-30 05:09:16 CDT)" (scheduled at 2024-10-30 05:08:16.969826-05:00)
2024-10-30 05:08:17,126 - INFO - Running job "send_to_telegram (trigger: interval[0:01:00], next run at: 2024-10-30 05:09:16 CDT)" (scheduled at 2024-10-30 05:08:16.970029-05:00)
2024-10-30 05:08:17,127 - INFO - Processing subreddit: wifebutt
2024-10-30 05:08:17,127 - INFO - Processing subreddit: girlsfinishingthejob
2024-10-30 05:08:17,128 - INFO - Fetching top posts of the month
2024-10-30 05:08:17,128 - INFO - Fetching top posts of the day
2024-10-30 05:08:17,129 - DEBUG - Fetching: GET https://oauth.reddit.com/r/wifebutt/top at 1730282897.129271
2024-10-30 05:08:17,129 - DEBUG - Fetching: GET https://oauth.reddit.com/r/girlsfinishingthejob/top at 1730282897.129431
2024-10-30 05:08:17,129 - DEBUG - Data: None
2024-10-30 05:08:17,129 - DEBUG - Params: {'limit': 50, 'raw_json': 1, 't': 'day'}
2024-10-30 05:08:17,129 - DEBUG - Data: None
2024-10-30 05:08:17,130 - DEBUG - Params: {'limit': 50, 'raw_json': 1, 't': 'month'}
2024-10-30 05:08:17,486 - DEBUG - https://oauth.reddit.com:443 "GET /r/girlsfinishingthejob/top?t=day&limit=50&raw_json=1 HTTP/11" 200 24355
2024-10-30 05:08:17,488 - DEBUG - Response: 200 (24355 bytes) (rst-0:rem-149.0:used-1 ratelimit) at 1730282897.488503
2024-10-30 05:08:17,569 - INFO - Checking post: 1gelyz1 - Score: 7079 - URL: https://www.redgifs.com/watch/uttersvelteamphibian
2024-10-30 05:08:17,600 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:08:17,636 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:08:17,637 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:08:17 GMT'
2024-10-30 05:08:17,638 - INFO - Found video post: 1gelyz1
2024-10-30 05:08:17,639 - DEBUG - Starting new HTTPS connection (1): api.redgifs.com:443
2024-10-30 05:08:17,733 - DEBUG - https://api.redgifs.com:443 "GET /v2/gifs/uttersvelteamphibian HTTP/11" 200 None
2024-10-30 05:08:17,760 - DEBUG - Starting new HTTPS connection (1): files.redgifs.com:443
2024-10-30 05:08:17,857 - DEBUG - https://files.redgifs.com:443 "GET /UtterSvelteAmphibian.mp4 HTTP/11" 200 42980012
2024-10-30 05:08:18,110 - DEBUG - https://oauth.reddit.com:443 "GET /r/wifebutt/top?t=month&limit=50&raw_json=1 HTTP/11" 200 49270
2024-10-30 05:08:18,145 - DEBUG - Response: 200 (49270 bytes) (rst-0:rem-148.0:used-2 ratelimit) at 1730282898.145642
2024-10-30 05:08:18,151 - INFO - Checking post: 1g9w053 - Score: 5355 - URL: https://www.reddit.com/gallery/1g9w053
2024-10-30 05:08:18,153 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:08:18,237 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:08:18,237 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-quorum-acked-lsn': 'REDACTED'
    'x-ms-current-write-quorum': 'REDACTED'
    'x-ms-current-replica-set-size': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-cosmos-quorum-acked-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:08:17 GMT'
2024-10-30 05:08:18,237 - INFO - Post 1g9w053 is not an image or video post, skipping
2024-10-30 05:08:18,238 - INFO - Checking post: 1fv4cfc - Score: 4574 - URL: https://www.reddit.com/gallery/1fv4cfc
2024-10-30 05:08:18,239 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:08:18,325 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:08:18,326 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:08:17 GMT'
2024-10-30 05:08:18,326 - INFO - Post 1fv4cfc is not an image or video post, skipping
2024-10-30 05:08:18,326 - INFO - Checking post: 1ganrp0 - Score: 4215 - URL: https://i.redd.it/ezatz8645lwd1.jpeg
2024-10-30 05:08:18,327 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:08:18,404 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:08:18,405 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-quorum-acked-lsn': 'REDACTED'
    'x-ms-current-write-quorum': 'REDACTED'
    'x-ms-current-replica-set-size': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-cosmos-quorum-acked-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:08:17 GMT'
2024-10-30 05:08:18,405 - INFO - Post 1ganrp0 is a duplicate, skipping
2024-10-30 05:08:18,405 - INFO - Checking post: 1gdrcjt - Score: 4056 - URL: https://www.redgifs.com/watch/unrealisticdefinitebarebirdbat
2024-10-30 05:08:18,409 - INFO - Post 1gdrcjt is a duplicate, skipping
2024-10-30 05:08:18,409 - INFO - Checking post: 1g30sx1 - Score: 3967 - URL: https://www.redgifs.com/watch/hardwarlikesunbittern
2024-10-30 05:08:18,410 - INFO - Post 1g30sx1 is a duplicate, skipping
2024-10-30 05:08:18,410 - INFO - Checking post: 1fs7839 - Score: 3861 - URL: https://www.reddit.com/gallery/1fs7839
2024-10-30 05:08:18,412 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:08:18,475 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:08:18,480 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:08:17 GMT'
2024-10-30 05:08:18,480 - INFO - Post 1fs7839 is not an image or video post, skipping
2024-10-30 05:08:18,480 - INFO - Checking post: 1g2rse9 - Score: 3770 - URL: https://i.redd.it/gzxs1aeshjud1.png
2024-10-30 05:08:18,481 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:08:18,542 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:08:18,542 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:08:17 GMT'
2024-10-30 05:08:18,542 - INFO - Found image post: 1g2rse9 with URL: https://i.redd.it/gzxs1aeshjud1.png
2024-10-30 05:08:18,543 - DEBUG - Starting new HTTPS connection (1): i.redd.it:443
2024-10-30 05:08:18,761 - DEBUG - https://i.redd.it:443 "GET /gzxs1aeshjud1.png HTTP/11" 200 4903229
2024-10-30 05:08:19,598 - INFO - Successfully downloaded media to downloads/videos/1gelyz1_20241030_050817_ba5c8ead.mp4
2024-10-30 05:08:19,600 - DEBUG - Using selector: KqueueSelector
2024-10-30 05:08:19,600 - INFO - Attempting to send video to Telegram - Path: downloads/videos/1gelyz1_20241030_050817_ba5c8ead.mp4
2024-10-30 05:08:19,601 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:08:19,602 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:08:19,612 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:08:19,612 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:08:19,621 - DEBUG - Entering: get_me
2024-10-30 05:08:19,622 - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2024-10-30 05:08:19,748 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108d9c740>
2024-10-30 05:08:19,749 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x108ee6ed0> server_hostname='api.telegram.org' timeout=5.0
2024-10-30 05:08:19,885 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108a5f860>
2024-10-30 05:08:19,885 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:08:19,886 - DEBUG - send_request_headers.complete
2024-10-30 05:08:19,886 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:08:19,886 - DEBUG - send_request_body.complete
2024-10-30 05:08:19,886 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:08:19,934 - INFO - Successfully downloaded media to downloads/pics/1g2rse9_20241030_050818_85835cce.png
2024-10-30 05:08:19,936 - DEBUG - Using selector: KqueueSelector
2024-10-30 05:08:19,936 - INFO - Attempting to send photo to Telegram - Path: downloads/pics/1g2rse9_20241030_050818_85835cce.png
2024-10-30 05:08:19,936 - DEBUG - Entering: get_me
2024-10-30 05:08:19,937 - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2024-10-30 05:08:20,004 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:08:19 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'254'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:08:20,004 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/getMe "HTTP/1.1 200 OK"
2024-10-30 05:08:20,004 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:08:20,004 - DEBUG - receive_response_body.complete
2024-10-30 05:08:20,004 - DEBUG - response_closed.started
2024-10-30 05:08:20,004 - DEBUG - response_closed.complete
2024-10-30 05:08:20,005 - DEBUG - User(api_kwargs={'can_connect_to_business': False, 'has_main_web_app': False}, can_join_groups=True, can_read_all_group_messages=False, first_name='RedditBot', id=7867694458, is_bot=True, supports_inline_queries=False, username='RedditImage_bot')
2024-10-30 05:08:20,005 - DEBUG - Exiting: get_me
2024-10-30 05:08:20,005 - DEBUG - This Bot is already initialized.
2024-10-30 05:08:20,005 - DEBUG - Entering: send_video
2024-10-30 05:08:20,023 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:08:20,024 - DEBUG - send_request_headers.complete
2024-10-30 05:08:20,024 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:08:20,057 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108f290d0>
2024-10-30 05:08:20,058 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x108ee6ed0> server_hostname='api.telegram.org' timeout=5.0
2024-10-30 05:08:20,185 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108d9cb90>
2024-10-30 05:08:20,185 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:08:20,185 - DEBUG - send_request_headers.complete
2024-10-30 05:08:20,185 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:08:20,185 - DEBUG - send_request_body.complete
2024-10-30 05:08:20,185 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:08:20,299 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:08:20 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'254'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:08:20,299 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/getMe "HTTP/1.1 200 OK"
2024-10-30 05:08:20,299 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:08:20,299 - DEBUG - receive_response_body.complete
2024-10-30 05:08:20,299 - DEBUG - response_closed.started
2024-10-30 05:08:20,299 - DEBUG - response_closed.complete
2024-10-30 05:08:20,299 - DEBUG - User(api_kwargs={'can_connect_to_business': False, 'has_main_web_app': False}, can_join_groups=True, can_read_all_group_messages=False, first_name='RedditBot', id=7867694458, is_bot=True, supports_inline_queries=False, username='RedditImage_bot')
2024-10-30 05:08:20,299 - DEBUG - Exiting: get_me
2024-10-30 05:08:20,299 - DEBUG - This Updater is already initialized.
2024-10-30 05:08:20,300 - DEBUG - Entering: send_photo
2024-10-30 05:08:20,301 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:08:20,301 - DEBUG - send_request_headers.complete
2024-10-30 05:08:20,301 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:08:21,441 - DEBUG - send_request_body.complete
2024-10-30 05:08:21,442 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:08:22,177 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:08:22 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'1278'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:08:22,178 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/sendPhoto "HTTP/1.1 200 OK"
2024-10-30 05:08:22,179 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:08:22,179 - DEBUG - receive_response_body.complete
2024-10-30 05:08:22,179 - DEBUG - response_closed.started
2024-10-30 05:08:22,179 - DEBUG - response_closed.complete
2024-10-30 05:08:22,180 - DEBUG - Message(caption='From r/wifebutt: Wifebutt pic from our last cruise.... the mirror was positioned perfectly for the shot!\nUpvotes: 3,770', channel_chat_created=False, chat=Chat(id=-1002490380283, title='Reddit_Pic_Stream', type=<ChatType.CHANNEL>), date=datetime.datetime(2024, 10, 30, 10, 8, 22, tzinfo=<UTC>), delete_chat_photo=False, group_chat_created=False, message_id=203, photo=(PhotoSize(file_id='AgACAgEAAyEGAASUcC_7AAMdZyHF954u3uZC8pUHzuJdwIeM4EMAAj2tMRsZEBFFPb10mq-5T4gBAAMCAANzAAM2BA', file_size=1729, file_unique_id='AQADPa0xGxkQEUV4', height=90, width=79), PhotoSize(file_id='AgACAgEAAyEGAASUcC_7AAMdZyHF954u3uZC8pUHzuJdwIeM4EMAAj2tMRsZEBFFPb10mq-5T4gBAAMCAANtAAM2BA', file_size=21893, file_unique_id='AQADPa0xGxkQEUVy', height=320, width=280), PhotoSize(file_id='AgACAgEAAyEGAASUcC_7AAMdZyHF954u3uZC8pUHzuJdwIeM4EMAAj2tMRsZEBFFPb10mq-5T4gBAAMCAAN4AAM2BA', file_size=89407, file_unique_id='AQADPa0xGxkQEUV9', height=800, width=699), PhotoSize(file_id='AgACAgEAAyEGAASUcC_7AAMdZyHF954u3uZC8pUHzuJdwIeM4EMAAj2tMRsZEBFFPb10mq-5T4gBAAMCAAN5AAM2BA', file_size=190258, file_unique_id='AQADPa0xGxkQEUV-', height=1280, width=1118), PhotoSize(file_id='AgACAgEAAyEGAASUcC_7AAMdZyHF954u3uZC8pUHzuJdwIeM4EMAAj2tMRsZEBFFPb10mq-5T4gBAAMCAAN3AAM2BA', file_size=329869, file_unique_id='AQADPa0xGxkQEUV8', height=1796, width=1568)), sender_chat=Chat(id=-1002490380283, title='Reddit_Pic_Stream', type=<ChatType.CHANNEL>), supergroup_chat_created=False)
2024-10-30 05:08:22,180 - DEBUG - Exiting: send_photo
2024-10-30 05:08:22,181 - DEBUG - close.started
2024-10-30 05:08:22,181 - DEBUG - close.complete
2024-10-30 05:08:22,181 - DEBUG - close.started
2024-10-30 05:08:22,181 - DEBUG - close.complete
2024-10-30 05:08:22,181 - DEBUG - This Bot is already shut down. Returning.
2024-10-30 05:08:22,181 - DEBUG - Shut down of Updater complete
2024-10-30 05:08:22,181 - INFO - Successfully sent photo to Telegram
2024-10-30 05:08:22,185 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-partitionkey': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Content-Type': 'application/json'
    'Accept': 'application/json'
    'Content-Length': '97'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:08:22,222 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 201 None
2024-10-30 05:08:22,222 - INFO - Response status: 201
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'etag': '"00000107-0000-0300-0000-672205960000"'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-quorum-acked-lsn': 'REDACTED'
    'x-ms-current-write-quorum': 'REDACTED'
    'x-ms-current-replica-set-size': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-cosmos-quorum-acked-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:08:21 GMT'
2024-10-30 05:08:22,222 - INFO - Successfully processed and recorded post 1g2rse9
2024-10-30 05:08:22,222 - INFO - Updated last_check for wifebutt
2024-10-30 05:08:22,223 - INFO - Job "send_to_telegram (trigger: interval[0:01:00], next run at: 2024-10-30 05:09:16 CDT)" executed successfully
2024-10-30 05:08:40,038 - DEBUG - send_request_body.failed exception=WriteError(ClosedResourceError())
2024-10-30 05:08:40,039 - DEBUG - response_closed.started
2024-10-30 05:08:40,039 - DEBUG - response_closed.complete
2024-10-30 05:08:40,041 - DEBUG - This Application is already shut down. Returning.
2024-10-30 05:08:40,041 - ERROR - Failed to send video to Telegram: httpx.WriteError: 
2024-10-30 05:08:40,042 - ERROR - Error sending video post 1gelyz1: httpx.WriteError: 
2024-10-30 05:08:40,043 - INFO - Checking post: 1gejrnl - Score: 2578 - URL: https://v3.redgifs.com/watch/graydefensivepika
2024-10-30 05:08:40,050 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:08:40,084 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:08:40,085 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:08:39 GMT'
2024-10-30 05:08:40,085 - INFO - Post 1gejrnl is a duplicate, skipping
2024-10-30 05:08:40,085 - INFO - Checking post: 1gelw33 - Score: 2304 - URL: https://www.redgifs.com/watch/drydarkgraysable
2024-10-30 05:08:40,086 - INFO - Post 1gelw33 is a duplicate, skipping
2024-10-30 05:08:40,086 - INFO - Checking post: 1gevvp0 - Score: 1178 - URL: https://www.redgifs.com/watch/medicalplumhen
2024-10-30 05:08:40,087 - INFO - Post 1gevvp0 is a duplicate, skipping
2024-10-30 05:08:40,087 - INFO - Checking post: 1gesoj7 - Score: 740 - URL: https://www.redgifs.com/watch/lightgreytrickydragonfly
2024-10-30 05:08:40,087 - INFO - Post 1gesoj7 is a duplicate, skipping
2024-10-30 05:08:40,087 - INFO - Checking post: 1geuuqp - Score: 440 - URL: https://www.redgifs.com/watch/cheerfulbeigebagworm
2024-10-30 05:08:40,088 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:08:40,143 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:08:40,144 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:08:39 GMT'
2024-10-30 05:08:40,144 - INFO - Found video post: 1geuuqp
2024-10-30 05:08:40,147 - DEBUG - Starting new HTTPS connection (1): api.redgifs.com:443
2024-10-30 05:08:40,250 - DEBUG - https://api.redgifs.com:443 "GET /v2/gifs/cheerfulbeigebagworm HTTP/11" 200 None
2024-10-30 05:08:40,253 - DEBUG - Starting new HTTPS connection (1): files.redgifs.com:443
2024-10-30 05:08:40,328 - DEBUG - https://files.redgifs.com:443 "GET /CheerfulBeigeBagworm.mp4 HTTP/11" 200 17910521
2024-10-30 05:08:40,875 - INFO - Successfully downloaded media to downloads/videos/1geuuqp_20241030_050840_ea38486e.mp4
2024-10-30 05:08:40,876 - DEBUG - Using selector: KqueueSelector
2024-10-30 05:08:40,876 - INFO - Attempting to send video to Telegram - Path: downloads/videos/1geuuqp_20241030_050840_ea38486e.mp4
2024-10-30 05:08:40,876 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:08:40,877 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:08:40,885 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:08:40,885 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:08:40,891 - DEBUG - Entering: get_me
2024-10-30 05:08:40,892 - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2024-10-30 05:08:41,012 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108e632f0>
2024-10-30 05:08:41,012 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x108ef70d0> server_hostname='api.telegram.org' timeout=5.0
2024-10-30 05:08:41,145 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108c775f0>
2024-10-30 05:08:41,146 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:08:41,146 - DEBUG - send_request_headers.complete
2024-10-30 05:08:41,146 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:08:41,146 - DEBUG - send_request_body.complete
2024-10-30 05:08:41,146 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:08:41,274 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:08:41 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'254'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:08:41,275 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/getMe "HTTP/1.1 200 OK"
2024-10-30 05:08:41,275 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:08:41,275 - DEBUG - receive_response_body.complete
2024-10-30 05:08:41,275 - DEBUG - response_closed.started
2024-10-30 05:08:41,275 - DEBUG - response_closed.complete
2024-10-30 05:08:41,276 - DEBUG - User(api_kwargs={'can_connect_to_business': False, 'has_main_web_app': False}, can_join_groups=True, can_read_all_group_messages=False, first_name='RedditBot', id=7867694458, is_bot=True, supports_inline_queries=False, username='RedditImage_bot')
2024-10-30 05:08:41,276 - DEBUG - Exiting: get_me
2024-10-30 05:08:41,276 - DEBUG - This Bot is already initialized.
2024-10-30 05:08:41,277 - DEBUG - Entering: send_video
2024-10-30 05:08:41,282 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:08:41,282 - DEBUG - send_request_headers.complete
2024-10-30 05:08:41,282 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:08:43,010 - DEBUG - send_request_body.complete
2024-10-30 05:08:43,011 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:08:44,472 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:08:44 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'571'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:08:44,472 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/sendVideo "HTTP/1.1 200 OK"
2024-10-30 05:08:44,473 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:08:44,473 - DEBUG - receive_response_body.complete
2024-10-30 05:08:44,473 - DEBUG - response_closed.started
2024-10-30 05:08:44,473 - DEBUG - response_closed.complete
2024-10-30 05:08:44,475 - DEBUG - Message(caption='From r/girlsfinishingthejob: Made him cum by sucking his balls\nUpvotes: 440', channel_chat_created=False, chat=Chat(id=-1002490380283, title='Reddit_Pic_Stream', type=<ChatType.CHANNEL>), date=datetime.datetime(2024, 10, 30, 10, 8, 44, tzinfo=<UTC>), delete_chat_photo=False, group_chat_created=False, message_id=204, sender_chat=Chat(id=-1002490380283, title='Reddit_Pic_Stream', type=<ChatType.CHANNEL>), supergroup_chat_created=False, video=Video(duration=0, file_id='BAACAgEAAyEGAASUcC_7AAPMZyIFrDudAuD0097FUlFDUop9Pz0AAqIEAAIZEBFFwlJaCYjMoWk2BA', file_name='1geuuqp_20241030_050840_ea38486e.mp4', file_size=17910521, file_unique_id='AgADogQAAhkQEUU', height=320, mime_type='video/mp4', width=320))
2024-10-30 05:08:44,475 - DEBUG - Exiting: send_video
2024-10-30 05:08:44,475 - DEBUG - close.started
2024-10-30 05:08:44,476 - DEBUG - close.complete
2024-10-30 05:08:44,476 - DEBUG - This Bot is already shut down. Returning.
2024-10-30 05:08:44,476 - DEBUG - Shut down of Updater complete
2024-10-30 05:08:44,476 - INFO - Successfully sent video to Telegram
2024-10-30 05:08:44,490 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-partitionkey': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Content-Type': 'application/json'
    'Accept': 'application/json'
    'Content-Length': '109'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:08:44,526 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 201 None
2024-10-30 05:08:44,526 - INFO - Response status: 201
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'etag': '"00000a07-0000-0300-0000-672205ac0000"'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-quorum-acked-lsn': 'REDACTED'
    'x-ms-current-write-quorum': 'REDACTED'
    'x-ms-current-replica-set-size': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-cosmos-quorum-acked-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:08:43 GMT'
2024-10-30 05:08:44,526 - INFO - Successfully processed and recorded post 1geuuqp
2024-10-30 05:08:44,527 - INFO - Updated last_check for girlsfinishingthejob
2024-10-30 05:08:44,527 - INFO - Job "send_to_telegram (trigger: interval[0:01:00], next run at: 2024-10-30 05:09:16 CDT)" executed successfully
2024-10-30 05:09:16,987 - DEBUG - Looking for jobs to run
2024-10-30 05:09:16,989 - DEBUG - Next wakeup is due at 2024-10-30 05:10:16.969826-05:00 (in 59.980690 seconds)
2024-10-30 05:09:16,989 - INFO - Running job "send_to_telegram (trigger: interval[0:01:00], next run at: 2024-10-30 05:10:16 CDT)" (scheduled at 2024-10-30 05:09:16.969826-05:00)
2024-10-30 05:09:16,989 - INFO - Running job "send_to_telegram (trigger: interval[0:01:00], next run at: 2024-10-30 05:10:16 CDT)" (scheduled at 2024-10-30 05:09:16.970029-05:00)
2024-10-30 05:09:16,990 - INFO - Processing subreddit: girlsfinishingthejob
2024-10-30 05:09:16,990 - INFO - Processing subreddit: wifebutt
2024-10-30 05:09:16,990 - INFO - Fetching top posts of the day
2024-10-30 05:09:16,990 - INFO - Fetching top posts of the month
2024-10-30 05:09:16,991 - DEBUG - Fetching: GET https://oauth.reddit.com/r/girlsfinishingthejob/top at 1730282956.9914482
2024-10-30 05:09:16,991 - DEBUG - Fetching: GET https://oauth.reddit.com/r/wifebutt/top at 1730282956.9917598
2024-10-30 05:09:16,991 - DEBUG - Data: None
2024-10-30 05:09:16,992 - DEBUG - Data: None
2024-10-30 05:09:16,992 - DEBUG - Params: {'limit': 50, 'raw_json': 1, 't': 'day'}
2024-10-30 05:09:16,992 - DEBUG - Params: {'limit': 50, 'raw_json': 1, 't': 'month'}
2024-10-30 05:09:17,350 - DEBUG - https://oauth.reddit.com:443 "GET /r/girlsfinishingthejob/top?t=day&limit=50&raw_json=1 HTTP/11" 200 24084
2024-10-30 05:09:17,369 - DEBUG - Response: 200 (24084 bytes) (rst-0:rem-149.0:used-1 ratelimit) at 1730282957.36928
2024-10-30 05:09:17,383 - INFO - Checking post: 1gelyz1 - Score: 7083 - URL: https://www.redgifs.com/watch/uttersvelteamphibian
2024-10-30 05:09:17,388 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:09:17,418 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:09:17,419 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:09:17 GMT'
2024-10-30 05:09:17,419 - INFO - Found video post: 1gelyz1
2024-10-30 05:09:17,421 - DEBUG - Starting new HTTPS connection (1): api.redgifs.com:443
2024-10-30 05:09:17,528 - DEBUG - https://api.redgifs.com:443 "GET /v2/gifs/uttersvelteamphibian HTTP/11" 200 None
2024-10-30 05:09:17,530 - DEBUG - Starting new HTTPS connection (1): files.redgifs.com:443
2024-10-30 05:09:17,593 - DEBUG - https://files.redgifs.com:443 "GET /UtterSvelteAmphibian.mp4 HTTP/11" 200 42980012
2024-10-30 05:09:17,844 - DEBUG - https://oauth.reddit.com:443 "GET /r/wifebutt/top?t=month&limit=50&raw_json=1 HTTP/11" 200 49229
2024-10-30 05:09:17,865 - DEBUG - Response: 200 (49229 bytes) (rst-0:rem-148.0:used-2 ratelimit) at 1730282957.865479
2024-10-30 05:09:17,871 - INFO - Checking post: 1g9w053 - Score: 5350 - URL: https://www.reddit.com/gallery/1g9w053
2024-10-30 05:09:17,873 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:09:17,921 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:09:17,922 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:09:17 GMT'
2024-10-30 05:09:17,922 - INFO - Post 1g9w053 is not an image or video post, skipping
2024-10-30 05:09:17,922 - INFO - Checking post: 1fv4cfc - Score: 4573 - URL: https://www.reddit.com/gallery/1fv4cfc
2024-10-30 05:09:17,923 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:09:17,976 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:09:17,977 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-quorum-acked-lsn': 'REDACTED'
    'x-ms-current-write-quorum': 'REDACTED'
    'x-ms-current-replica-set-size': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-cosmos-quorum-acked-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:09:17 GMT'
2024-10-30 05:09:17,978 - INFO - Post 1fv4cfc is not an image or video post, skipping
2024-10-30 05:09:17,978 - INFO - Checking post: 1ganrp0 - Score: 4209 - URL: https://i.redd.it/ezatz8645lwd1.jpeg
2024-10-30 05:09:17,980 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:09:18,044 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:09:18,045 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:09:17 GMT'
2024-10-30 05:09:18,045 - INFO - Post 1ganrp0 is a duplicate, skipping
2024-10-30 05:09:18,045 - INFO - Checking post: 1gdrcjt - Score: 4057 - URL: https://www.redgifs.com/watch/unrealisticdefinitebarebirdbat
2024-10-30 05:09:18,046 - INFO - Post 1gdrcjt is a duplicate, skipping
2024-10-30 05:09:18,046 - INFO - Checking post: 1g30sx1 - Score: 3958 - URL: https://www.redgifs.com/watch/hardwarlikesunbittern
2024-10-30 05:09:18,046 - INFO - Post 1g30sx1 is a duplicate, skipping
2024-10-30 05:09:18,046 - INFO - Checking post: 1fs7839 - Score: 3860 - URL: https://www.reddit.com/gallery/1fs7839
2024-10-30 05:09:18,047 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:09:18,110 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:09:18,110 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-quorum-acked-lsn': 'REDACTED'
    'x-ms-current-write-quorum': 'REDACTED'
    'x-ms-current-replica-set-size': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-cosmos-quorum-acked-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:09:17 GMT'
2024-10-30 05:09:18,110 - INFO - Post 1fs7839 is not an image or video post, skipping
2024-10-30 05:09:18,111 - INFO - Checking post: 1g2rse9 - Score: 3767 - URL: https://i.redd.it/gzxs1aeshjud1.png
2024-10-30 05:09:18,111 - INFO - Post 1g2rse9 is a duplicate, skipping
2024-10-30 05:09:18,111 - INFO - Checking post: 1ge9loz - Score: 3723 - URL: https://www.redgifs.com/watch/deadlygregariouswoodchuck
2024-10-30 05:09:18,112 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:09:18,176 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:09:18,177 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:09:17 GMT'
2024-10-30 05:09:18,177 - INFO - Found video post: 1ge9loz
2024-10-30 05:09:18,179 - DEBUG - Starting new HTTPS connection (1): api.redgifs.com:443
2024-10-30 05:09:18,424 - DEBUG - https://api.redgifs.com:443 "GET /v2/gifs/deadlygregariouswoodchuck HTTP/11" 200 None
2024-10-30 05:09:18,434 - DEBUG - Starting new HTTPS connection (1): files.redgifs.com:443
2024-10-30 05:09:18,580 - DEBUG - https://files.redgifs.com:443 "GET /DeadlyGregariousWoodchuck.mp4 HTTP/11" 200 2744026
2024-10-30 05:09:18,916 - INFO - Successfully downloaded media to downloads/videos/1gelyz1_20241030_050917_ba5c8ead.mp4
2024-10-30 05:09:18,920 - DEBUG - Using selector: KqueueSelector
2024-10-30 05:09:18,921 - INFO - Attempting to send video to Telegram - Path: downloads/videos/1gelyz1_20241030_050917_ba5c8ead.mp4
2024-10-30 05:09:18,922 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:09:18,923 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:09:18,941 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:09:18,942 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:09:18,943 - INFO - Successfully downloaded media to downloads/videos/1ge9loz_20241030_050918_e3b75a05.mp4
2024-10-30 05:09:18,945 - DEBUG - Using selector: KqueueSelector
2024-10-30 05:09:18,945 - INFO - Attempting to send video to Telegram - Path: downloads/videos/1ge9loz_20241030_050918_e3b75a05.mp4
2024-10-30 05:09:18,945 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:09:18,946 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:09:18,959 - DEBUG - Entering: get_me
2024-10-30 05:09:18,960 - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2024-10-30 05:09:18,960 - DEBUG - Entering: get_me
2024-10-30 05:09:19,044 - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2024-10-30 05:09:19,171 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108e62720>
2024-10-30 05:09:19,171 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x108f31a50> server_hostname='api.telegram.org' timeout=5.0
2024-10-30 05:09:19,172 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108e62870>
2024-10-30 05:09:19,172 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x108e03bd0> server_hostname='api.telegram.org' timeout=5.0
2024-10-30 05:09:19,326 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108e61ca0>
2024-10-30 05:09:19,327 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:09:19,328 - DEBUG - send_request_headers.complete
2024-10-30 05:09:19,329 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:09:19,329 - DEBUG - send_request_body.complete
2024-10-30 05:09:19,329 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:09:19,348 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108e633b0>
2024-10-30 05:09:19,348 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:09:19,349 - DEBUG - send_request_headers.complete
2024-10-30 05:09:19,349 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:09:19,349 - DEBUG - send_request_body.complete
2024-10-30 05:09:19,349 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:09:19,447 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:09:19 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'254'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:09:19,448 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/getMe "HTTP/1.1 200 OK"
2024-10-30 05:09:19,448 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:09:19,449 - DEBUG - receive_response_body.complete
2024-10-30 05:09:19,449 - DEBUG - response_closed.started
2024-10-30 05:09:19,449 - DEBUG - response_closed.complete
2024-10-30 05:09:19,450 - DEBUG - User(api_kwargs={'can_connect_to_business': False, 'has_main_web_app': False}, can_join_groups=True, can_read_all_group_messages=False, first_name='RedditBot', id=7867694458, is_bot=True, supports_inline_queries=False, username='RedditImage_bot')
2024-10-30 05:09:19,450 - DEBUG - Exiting: get_me
2024-10-30 05:09:19,450 - DEBUG - This Bot is already initialized.
2024-10-30 05:09:19,450 - DEBUG - Entering: send_video
2024-10-30 05:09:19,453 - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2024-10-30 05:09:19,467 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:09:19 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'254'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:09:19,468 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/getMe "HTTP/1.1 200 OK"
2024-10-30 05:09:19,468 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:09:19,468 - DEBUG - receive_response_body.complete
2024-10-30 05:09:19,468 - DEBUG - response_closed.started
2024-10-30 05:09:19,468 - DEBUG - response_closed.complete
2024-10-30 05:09:19,468 - DEBUG - User(api_kwargs={'can_connect_to_business': False, 'has_main_web_app': False}, can_join_groups=True, can_read_all_group_messages=False, first_name='RedditBot', id=7867694458, is_bot=True, supports_inline_queries=False, username='RedditImage_bot')
2024-10-30 05:09:19,468 - DEBUG - Exiting: get_me
2024-10-30 05:09:19,468 - DEBUG - This Updater is already initialized.
2024-10-30 05:09:19,468 - DEBUG - Entering: send_video
2024-10-30 05:09:19,476 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:09:19,476 - DEBUG - send_request_headers.complete
2024-10-30 05:09:19,476 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:09:19,581 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108d7ab10>
2024-10-30 05:09:19,581 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x108e03bd0> server_hostname='api.telegram.org' timeout=5.0
2024-10-30 05:09:19,720 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108d7aff0>
2024-10-30 05:09:19,721 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:09:19,722 - DEBUG - send_request_headers.complete
2024-10-30 05:09:19,723 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:09:20,595 - DEBUG - send_request_body.complete
2024-10-30 05:09:20,596 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:09:21,965 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:09:21 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'556'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:09:21,966 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/sendVideo "HTTP/1.1 200 OK"
2024-10-30 05:09:21,967 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:09:21,967 - DEBUG - receive_response_body.complete
2024-10-30 05:09:21,967 - DEBUG - response_closed.started
2024-10-30 05:09:21,967 - DEBUG - response_closed.complete
2024-10-30 05:09:21,969 - DEBUG - Message(caption='From r/wifebutt: Wifebutt wants to show off \nUpvotes: 3,723', channel_chat_created=False, chat=Chat(id=-1002490380283, title='Reddit_Pic_Stream', type=<ChatType.CHANNEL>), date=datetime.datetime(2024, 10, 30, 10, 9, 21, tzinfo=<UTC>), delete_chat_photo=False, group_chat_created=False, message_id=205, sender_chat=Chat(id=-1002490380283, title='Reddit_Pic_Stream', type=<ChatType.CHANNEL>), supergroup_chat_created=False, video=Video(duration=4, file_id='BAACAgEAAyEGAASUcC_7AAPNZyIF0ezdq-CgvwV1oJ7kPKVfkjsAAqMEAAIZEBFF5dw89eOe1842BA', file_name='1ge9loz_20241030_050918_e3b75a05.mp4', file_size=2744026, file_unique_id='AgADowQAAhkQEUU', height=1720, mime_type='video/mp4', width=1080))
2024-10-30 05:09:21,969 - DEBUG - Exiting: send_video
2024-10-30 05:09:21,969 - DEBUG - close.started
2024-10-30 05:09:21,969 - DEBUG - close.complete
2024-10-30 05:09:21,970 - DEBUG - close.started
2024-10-30 05:09:21,970 - DEBUG - close.complete
2024-10-30 05:09:21,970 - DEBUG - This Bot is already shut down. Returning.
2024-10-30 05:09:21,970 - DEBUG - Shut down of Updater complete
2024-10-30 05:09:21,970 - INFO - Successfully sent video to Telegram
2024-10-30 05:09:21,972 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-partitionkey': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Content-Type': 'application/json'
    'Accept': 'application/json'
    'Content-Length': '98'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:09:22,085 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 201 None
2024-10-30 05:09:22,085 - INFO - Response status: 201
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'etag': '"00001607-0000-0300-0000-672205d20000"'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-quorum-acked-lsn': 'REDACTED'
    'x-ms-current-write-quorum': 'REDACTED'
    'x-ms-current-replica-set-size': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-cosmos-quorum-acked-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:09:21 GMT'
2024-10-30 05:09:22,085 - INFO - Successfully processed and recorded post 1ge9loz
2024-10-30 05:09:22,085 - INFO - Updated last_check for wifebutt
2024-10-30 05:09:22,086 - INFO - Job "send_to_telegram (trigger: interval[0:01:00], next run at: 2024-10-30 05:10:16 CDT)" executed successfully
2024-10-30 05:09:39,487 - DEBUG - send_request_body.failed exception=WriteError(ClosedResourceError())
2024-10-30 05:09:39,488 - DEBUG - response_closed.started
2024-10-30 05:09:39,489 - DEBUG - response_closed.complete
2024-10-30 05:09:39,490 - DEBUG - This Application is already shut down. Returning.
2024-10-30 05:09:39,490 - ERROR - Failed to send video to Telegram: httpx.WriteError: 
2024-10-30 05:09:39,491 - ERROR - Error sending video post 1gelyz1: httpx.WriteError: 
2024-10-30 05:09:39,491 - INFO - Checking post: 1gejrnl - Score: 2578 - URL: https://v3.redgifs.com/watch/graydefensivepika
2024-10-30 05:09:39,497 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:09:39,535 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:09:39,535 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:09:39 GMT'
2024-10-30 05:09:39,535 - INFO - Post 1gejrnl is a duplicate, skipping
2024-10-30 05:09:39,536 - INFO - Checking post: 1gelw33 - Score: 2305 - URL: https://www.redgifs.com/watch/drydarkgraysable
2024-10-30 05:09:39,536 - INFO - Post 1gelw33 is a duplicate, skipping
2024-10-30 05:09:39,536 - INFO - Checking post: 1gevvp0 - Score: 1176 - URL: https://www.redgifs.com/watch/medicalplumhen
2024-10-30 05:09:39,536 - INFO - Post 1gevvp0 is a duplicate, skipping
2024-10-30 05:09:39,536 - INFO - Checking post: 1gesoj7 - Score: 745 - URL: https://www.redgifs.com/watch/lightgreytrickydragonfly
2024-10-30 05:09:39,537 - INFO - Post 1gesoj7 is a duplicate, skipping
2024-10-30 05:09:39,537 - INFO - Checking post: 1geuuqp - Score: 436 - URL: https://www.redgifs.com/watch/cheerfulbeigebagworm
2024-10-30 05:09:39,537 - INFO - Post 1geuuqp is a duplicate, skipping
2024-10-30 05:09:39,537 - INFO - Checking post: 1geakrb - Score: 395 - URL: https://www.redgifs.com/watch/illinformedthickgalapagoshawk
2024-10-30 05:09:39,537 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:09:39,568 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:09:39,569 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:09:39 GMT'
2024-10-30 05:09:39,570 - INFO - Found video post: 1geakrb
2024-10-30 05:09:39,571 - DEBUG - Starting new HTTPS connection (1): api.redgifs.com:443
2024-10-30 05:09:39,669 - DEBUG - https://api.redgifs.com:443 "GET /v2/gifs/illinformedthickgalapagoshawk HTTP/11" 200 None
2024-10-30 05:09:39,675 - DEBUG - Starting new HTTPS connection (1): files.redgifs.com:443
2024-10-30 05:09:39,757 - DEBUG - https://files.redgifs.com:443 "GET /IllinformedThickGalapagoshawk.mp4 HTTP/11" 200 33440769
2024-10-30 05:09:41,725 - INFO - Successfully downloaded media to downloads/videos/1geakrb_20241030_050939_b42dab29.mp4
2024-10-30 05:09:41,728 - DEBUG - Using selector: KqueueSelector
2024-10-30 05:09:41,729 - INFO - Attempting to send video to Telegram - Path: downloads/videos/1geakrb_20241030_050939_b42dab29.mp4
2024-10-30 05:09:41,729 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:09:41,730 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:09:41,739 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:09:41,740 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:09:41,747 - DEBUG - Entering: get_me
2024-10-30 05:09:41,747 - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2024-10-30 05:09:41,865 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108eacb90>
2024-10-30 05:09:41,866 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x1089ffb50> server_hostname='api.telegram.org' timeout=5.0
2024-10-30 05:09:41,995 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108eaca10>
2024-10-30 05:09:41,995 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:09:41,996 - DEBUG - send_request_headers.complete
2024-10-30 05:09:41,996 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:09:41,996 - DEBUG - send_request_body.complete
2024-10-30 05:09:41,996 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:09:42,117 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:09:42 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'254'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:09:42,118 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/getMe "HTTP/1.1 200 OK"
2024-10-30 05:09:42,118 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:09:42,118 - DEBUG - receive_response_body.complete
2024-10-30 05:09:42,119 - DEBUG - response_closed.started
2024-10-30 05:09:42,119 - DEBUG - response_closed.complete
2024-10-30 05:09:42,120 - DEBUG - User(api_kwargs={'can_connect_to_business': False, 'has_main_web_app': False}, can_join_groups=True, can_read_all_group_messages=False, first_name='RedditBot', id=7867694458, is_bot=True, supports_inline_queries=False, username='RedditImage_bot')
2024-10-30 05:09:42,120 - DEBUG - Exiting: get_me
2024-10-30 05:09:42,120 - DEBUG - This Bot is already initialized.
2024-10-30 05:09:42,121 - DEBUG - Entering: send_video
2024-10-30 05:09:42,149 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:09:42,150 - DEBUG - send_request_headers.complete
2024-10-30 05:09:42,150 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:09:44,678 - DEBUG - send_request_body.complete
2024-10-30 05:09:44,678 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:09:46,999 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:09:46 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'568'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:09:46,999 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/sendVideo "HTTP/1.1 200 OK"
2024-10-30 05:09:46,999 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:09:47,000 - DEBUG - receive_response_body.complete
2024-10-30 05:09:47,000 - DEBUG - response_closed.started
2024-10-30 05:09:47,000 - DEBUG - response_closed.complete
2024-10-30 05:09:47,000 - DEBUG - Message(caption='From r/girlsfinishingthejob: Draining my man’s balls! \nUpvotes: 395', channel_chat_created=False, chat=Chat(id=-1002490380283, title='Reddit_Pic_Stream', type=<ChatType.CHANNEL>), date=datetime.datetime(2024, 10, 30, 10, 9, 46, tzinfo=<UTC>), delete_chat_photo=False, group_chat_created=False, message_id=206, sender_chat=Chat(id=-1002490380283, title='Reddit_Pic_Stream', type=<ChatType.CHANNEL>), supergroup_chat_created=False, video=Video(duration=0, file_id='BAACAgEAAyEGAASUcC_7AAPOZyIF6hEeHOtvItfDddhIKROi6v4AAqQEAAIZEBFFK9CcLbzUsWE2BA', file_name='1geakrb_20241030_050939_b42dab29.mp4', file_size=33440769, file_unique_id='AgADpAQAAhkQEUU', height=320, mime_type='video/mp4', width=320))
2024-10-30 05:09:47,000 - DEBUG - Exiting: send_video
2024-10-30 05:09:47,000 - DEBUG - close.started
2024-10-30 05:09:47,000 - DEBUG - close.complete
2024-10-30 05:09:47,001 - DEBUG - This Bot is already shut down. Returning.
2024-10-30 05:09:47,001 - DEBUG - Shut down of Updater complete
2024-10-30 05:09:47,001 - INFO - Successfully sent video to Telegram
2024-10-30 05:09:47,003 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-partitionkey': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Content-Type': 'application/json'
    'Accept': 'application/json'
    'Content-Length': '110'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:09:47,035 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 201 None
2024-10-30 05:09:47,036 - INFO - Response status: 201
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'etag': '"00001f07-0000-0300-0000-672205eb0000"'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-quorum-acked-lsn': 'REDACTED'
    'x-ms-current-write-quorum': 'REDACTED'
    'x-ms-current-replica-set-size': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-cosmos-quorum-acked-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:09:46 GMT'
2024-10-30 05:09:47,036 - INFO - Successfully processed and recorded post 1geakrb
2024-10-30 05:09:47,036 - INFO - Updated last_check for girlsfinishingthejob
2024-10-30 05:09:47,037 - INFO - Job "send_to_telegram (trigger: interval[0:01:00], next run at: 2024-10-30 05:10:16 CDT)" executed successfully
2024-10-30 05:10:16,976 - DEBUG - Looking for jobs to run
2024-10-30 05:10:16,978 - DEBUG - Next wakeup is due at 2024-10-30 05:11:16.969826-05:00 (in 59.991782 seconds)
2024-10-30 05:10:16,978 - INFO - Running job "send_to_telegram (trigger: interval[0:01:00], next run at: 2024-10-30 05:11:16 CDT)" (scheduled at 2024-10-30 05:10:16.969826-05:00)
2024-10-30 05:10:16,978 - INFO - Running job "send_to_telegram (trigger: interval[0:01:00], next run at: 2024-10-30 05:11:16 CDT)" (scheduled at 2024-10-30 05:10:16.970029-05:00)
2024-10-30 05:10:16,978 - INFO - Processing subreddit: girlsfinishingthejob
2024-10-30 05:10:16,979 - INFO - Processing subreddit: wifebutt
2024-10-30 05:10:16,979 - INFO - Fetching top posts of the day
2024-10-30 05:10:16,979 - INFO - Fetching top posts of the month
2024-10-30 05:10:16,979 - DEBUG - Fetching: GET https://oauth.reddit.com/r/girlsfinishingthejob/top at 1730283016.979977
2024-10-30 05:10:16,980 - DEBUG - Fetching: GET https://oauth.reddit.com/r/wifebutt/top at 1730283016.980163
2024-10-30 05:10:16,980 - DEBUG - Data: None
2024-10-30 05:10:16,980 - DEBUG - Data: None
2024-10-30 05:10:16,980 - DEBUG - Params: {'limit': 50, 'raw_json': 1, 't': 'day'}
2024-10-30 05:10:16,980 - DEBUG - Params: {'limit': 50, 'raw_json': 1, 't': 'month'}
2024-10-30 05:10:17,342 - DEBUG - https://oauth.reddit.com:443 "GET /r/girlsfinishingthejob/top?t=day&limit=50&raw_json=1 HTTP/11" 200 24230
2024-10-30 05:10:17,368 - DEBUG - Response: 200 (24230 bytes) (rst-0:rem-149.0:used-1 ratelimit) at 1730283017.368551
2024-10-30 05:10:17,395 - INFO - Checking post: 1gelyz1 - Score: 7081 - URL: https://www.redgifs.com/watch/uttersvelteamphibian
2024-10-30 05:10:17,399 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:10:17,431 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:10:17,431 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:10:16 GMT'
2024-10-30 05:10:17,431 - INFO - Found video post: 1gelyz1
2024-10-30 05:10:17,432 - DEBUG - Starting new HTTPS connection (1): api.redgifs.com:443
2024-10-30 05:10:17,559 - DEBUG - https://api.redgifs.com:443 "GET /v2/gifs/uttersvelteamphibian HTTP/11" 200 None
2024-10-30 05:10:17,563 - DEBUG - Starting new HTTPS connection (1): files.redgifs.com:443
2024-10-30 05:10:17,634 - DEBUG - https://files.redgifs.com:443 "GET /UtterSvelteAmphibian.mp4 HTTP/11" 200 42980012
2024-10-30 05:10:17,860 - DEBUG - https://oauth.reddit.com:443 "GET /r/wifebutt/top?t=month&limit=50&raw_json=1 HTTP/11" 200 49242
2024-10-30 05:10:17,904 - DEBUG - Response: 200 (49242 bytes) (rst-0:rem-148.0:used-2 ratelimit) at 1730283017.904096
2024-10-30 05:10:17,914 - INFO - Checking post: 1g9w053 - Score: 5352 - URL: https://www.reddit.com/gallery/1g9w053
2024-10-30 05:10:17,916 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:10:17,970 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:10:17,971 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:10:17 GMT'
2024-10-30 05:10:17,971 - INFO - Post 1g9w053 is not an image or video post, skipping
2024-10-30 05:10:17,971 - INFO - Checking post: 1fv4cfc - Score: 4576 - URL: https://www.reddit.com/gallery/1fv4cfc
2024-10-30 05:10:17,972 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:10:18,019 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:10:18,021 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-quorum-acked-lsn': 'REDACTED'
    'x-ms-current-write-quorum': 'REDACTED'
    'x-ms-current-replica-set-size': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-cosmos-quorum-acked-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:10:17 GMT'
2024-10-30 05:10:18,021 - INFO - Post 1fv4cfc is not an image or video post, skipping
2024-10-30 05:10:18,021 - INFO - Checking post: 1ganrp0 - Score: 4205 - URL: https://i.redd.it/ezatz8645lwd1.jpeg
2024-10-30 05:10:18,024 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:10:18,068 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:10:18,069 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:10:17 GMT'
2024-10-30 05:10:18,070 - INFO - Post 1ganrp0 is a duplicate, skipping
2024-10-30 05:10:18,070 - INFO - Checking post: 1gdrcjt - Score: 4063 - URL: https://www.redgifs.com/watch/unrealisticdefinitebarebirdbat
2024-10-30 05:10:18,072 - INFO - Post 1gdrcjt is a duplicate, skipping
2024-10-30 05:10:18,072 - INFO - Checking post: 1g30sx1 - Score: 3958 - URL: https://www.redgifs.com/watch/hardwarlikesunbittern
2024-10-30 05:10:18,073 - INFO - Post 1g30sx1 is a duplicate, skipping
2024-10-30 05:10:18,073 - INFO - Checking post: 1fs7839 - Score: 3860 - URL: https://www.reddit.com/gallery/1fs7839
2024-10-30 05:10:18,074 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:10:18,133 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:10:18,134 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-quorum-acked-lsn': 'REDACTED'
    'x-ms-current-write-quorum': 'REDACTED'
    'x-ms-current-replica-set-size': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-cosmos-quorum-acked-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:10:17 GMT'
2024-10-30 05:10:18,135 - INFO - Post 1fs7839 is not an image or video post, skipping
2024-10-30 05:10:18,135 - INFO - Checking post: 1g2rse9 - Score: 3770 - URL: https://i.redd.it/gzxs1aeshjud1.png
2024-10-30 05:10:18,137 - INFO - Post 1g2rse9 is a duplicate, skipping
2024-10-30 05:10:18,137 - INFO - Checking post: 1ge9loz - Score: 3724 - URL: https://www.redgifs.com/watch/deadlygregariouswoodchuck
2024-10-30 05:10:18,138 - INFO - Post 1ge9loz is a duplicate, skipping
2024-10-30 05:10:18,138 - INFO - Checking post: 1g0e966 - Score: 3638 - URL: https://www.reddit.com/gallery/1g0e966
2024-10-30 05:10:18,139 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:10:18,187 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:10:18,187 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:10:17 GMT'
2024-10-30 05:10:18,187 - INFO - Post 1g0e966 is not an image or video post, skipping
2024-10-30 05:10:18,187 - INFO - Checking post: 1gckgcy - Score: 3398 - URL: https://i.redd.it/njd0mbyjl3xd1.jpeg
2024-10-30 05:10:18,188 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:10:18,237 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:10:18,237 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:10:17 GMT'
2024-10-30 05:10:18,238 - INFO - Found image post: 1gckgcy with URL: https://i.redd.it/njd0mbyjl3xd1.jpeg
2024-10-30 05:10:18,239 - DEBUG - Starting new HTTPS connection (1): i.redd.it:443
2024-10-30 05:10:18,451 - DEBUG - https://i.redd.it:443 "GET /njd0mbyjl3xd1.jpeg HTTP/11" 200 2654136
2024-10-30 05:10:18,912 - INFO - Successfully downloaded media to downloads/videos/1gelyz1_20241030_051017_ba5c8ead.mp4
2024-10-30 05:10:18,916 - DEBUG - Using selector: KqueueSelector
2024-10-30 05:10:18,917 - INFO - Attempting to send video to Telegram - Path: downloads/videos/1gelyz1_20241030_051017_ba5c8ead.mp4
2024-10-30 05:10:18,918 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:10:18,919 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:10:18,929 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:10:18,930 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:10:18,938 - DEBUG - Entering: get_me
2024-10-30 05:10:18,939 - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2024-10-30 05:10:18,986 - INFO - Successfully downloaded media to downloads/pics/1gckgcy_20241030_051018_17c18899.jpeg
2024-10-30 05:10:18,987 - DEBUG - Using selector: KqueueSelector
2024-10-30 05:10:18,987 - INFO - Attempting to send photo to Telegram - Path: downloads/pics/1gckgcy_20241030_051018_17c18899.jpeg
2024-10-30 05:10:18,987 - DEBUG - Entering: get_me
2024-10-30 05:10:18,987 - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2024-10-30 05:10:19,057 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108eae2a0>
2024-10-30 05:10:19,057 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x108e12ed0> server_hostname='api.telegram.org' timeout=5.0
2024-10-30 05:10:19,113 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108d7afc0>
2024-10-30 05:10:19,113 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x108e12ed0> server_hostname='api.telegram.org' timeout=5.0
2024-10-30 05:10:19,186 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108eae270>
2024-10-30 05:10:19,188 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:10:19,188 - DEBUG - send_request_headers.complete
2024-10-30 05:10:19,189 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:10:19,189 - DEBUG - send_request_body.complete
2024-10-30 05:10:19,189 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:10:19,247 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108c76810>
2024-10-30 05:10:19,248 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:10:19,248 - DEBUG - send_request_headers.complete
2024-10-30 05:10:19,249 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:10:19,249 - DEBUG - send_request_body.complete
2024-10-30 05:10:19,249 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:10:19,302 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:10:19 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'254'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:10:19,303 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/getMe "HTTP/1.1 200 OK"
2024-10-30 05:10:19,304 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:10:19,304 - DEBUG - receive_response_body.complete
2024-10-30 05:10:19,304 - DEBUG - response_closed.started
2024-10-30 05:10:19,304 - DEBUG - response_closed.complete
2024-10-30 05:10:19,305 - DEBUG - User(api_kwargs={'can_connect_to_business': False, 'has_main_web_app': False}, can_join_groups=True, can_read_all_group_messages=False, first_name='RedditBot', id=7867694458, is_bot=True, supports_inline_queries=False, username='RedditImage_bot')
2024-10-30 05:10:19,305 - DEBUG - Exiting: get_me
2024-10-30 05:10:19,305 - DEBUG - This Bot is already initialized.
2024-10-30 05:10:19,305 - DEBUG - Entering: send_video
2024-10-30 05:10:19,321 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:10:19,322 - DEBUG - send_request_headers.complete
2024-10-30 05:10:19,322 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:10:19,364 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:10:19 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'254'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:10:19,364 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/getMe "HTTP/1.1 200 OK"
2024-10-30 05:10:19,364 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:10:19,364 - DEBUG - receive_response_body.complete
2024-10-30 05:10:19,365 - DEBUG - response_closed.started
2024-10-30 05:10:19,365 - DEBUG - response_closed.complete
2024-10-30 05:10:19,365 - DEBUG - User(api_kwargs={'can_connect_to_business': False, 'has_main_web_app': False}, can_join_groups=True, can_read_all_group_messages=False, first_name='RedditBot', id=7867694458, is_bot=True, supports_inline_queries=False, username='RedditImage_bot')
2024-10-30 05:10:19,365 - DEBUG - Exiting: get_me
2024-10-30 05:10:19,365 - DEBUG - This Updater is already initialized.
2024-10-30 05:10:19,365 - DEBUG - Entering: send_photo
2024-10-30 05:10:19,366 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:10:19,367 - DEBUG - send_request_headers.complete
2024-10-30 05:10:19,367 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:10:20,230 - DEBUG - send_request_body.complete
2024-10-30 05:10:20,230 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:10:21,928 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:10:21 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'1222'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:10:21,929 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/sendPhoto "HTTP/1.1 200 OK"
2024-10-30 05:10:21,929 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:10:21,929 - DEBUG - receive_response_body.complete
2024-10-30 05:10:21,929 - DEBUG - response_closed.started
2024-10-30 05:10:21,929 - DEBUG - response_closed.complete
2024-10-30 05:10:21,930 - DEBUG - Message(caption='From r/wifebutt: This is now a verified wifebutt.\nUpvotes: 3,398', channel_chat_created=False, chat=Chat(id=-1002490380283, title='Reddit_Pic_Stream', type=<ChatType.CHANNEL>), date=datetime.datetime(2024, 10, 30, 10, 10, 21, tzinfo=<UTC>), delete_chat_photo=False, group_chat_created=False, message_id=207, photo=(PhotoSize(file_id='AgACAgEAAyEGAASUcC_7AAPPZyIGDev46LYs6TTxRAeAwtOaHdIAAlutMRsZEBFF1lMf9m9qP70BAAMCAANzAAM2BA', file_size=1616, file_unique_id='AQADW60xGxkQEUV4', height=90, width=67), PhotoSize(file_id='AgACAgEAAyEGAASUcC_7AAPPZyIGDev46LYs6TTxRAeAwtOaHdIAAlutMRsZEBFF1lMf9m9qP70BAAMCAANtAAM2BA', file_size=16950, file_unique_id='AQADW60xGxkQEUVy', height=320, width=240), PhotoSize(file_id='AgACAgEAAyEGAASUcC_7AAPPZyIGDev46LYs6TTxRAeAwtOaHdIAAlutMRsZEBFF1lMf9m9qP70BAAMCAAN4AAM2BA', file_size=69529, file_unique_id='AQADW60xGxkQEUV9', height=800, width=600), PhotoSize(file_id='AgACAgEAAyEGAASUcC_7AAPPZyIGDev46LYs6TTxRAeAwtOaHdIAAlutMRsZEBFF1lMf9m9qP70BAAMCAAN5AAM2BA', file_size=154336, file_unique_id='AQADW60xGxkQEUV-', height=1280, width=960), PhotoSize(file_id='AgACAgEAAyEGAASUcC_7AAPPZyIGDev46LYs6TTxRAeAwtOaHdIAAlutMRsZEBFF1lMf9m9qP70BAAMCAAN3AAM2BA', file_size=521106, file_unique_id='AQADW60xGxkQEUV8', height=2560, width=1920)), sender_chat=Chat(id=-1002490380283, title='Reddit_Pic_Stream', type=<ChatType.CHANNEL>), supergroup_chat_created=False)
2024-10-30 05:10:21,930 - DEBUG - Exiting: send_photo
2024-10-30 05:10:21,930 - DEBUG - close.started
2024-10-30 05:10:21,930 - DEBUG - close.complete
2024-10-30 05:10:21,930 - DEBUG - close.started
2024-10-30 05:10:21,930 - DEBUG - close.complete
2024-10-30 05:10:21,930 - DEBUG - This Bot is already shut down. Returning.
2024-10-30 05:10:21,930 - DEBUG - Shut down of Updater complete
2024-10-30 05:10:21,930 - INFO - Successfully sent photo to Telegram
2024-10-30 05:10:21,934 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-partitionkey': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Content-Type': 'application/json'
    'Accept': 'application/json'
    'Content-Length': '98'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:10:22,166 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 201 None
2024-10-30 05:10:22,167 - INFO - Response status: 201
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'etag': '"00002b07-0000-0300-0000-6722060e0000"'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-quorum-acked-lsn': 'REDACTED'
    'x-ms-current-write-quorum': 'REDACTED'
    'x-ms-current-replica-set-size': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-cosmos-quorum-acked-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:10:21 GMT'
2024-10-30 05:10:22,167 - INFO - Successfully processed and recorded post 1gckgcy
2024-10-30 05:10:22,167 - INFO - Updated last_check for wifebutt
2024-10-30 05:10:22,168 - INFO - Job "send_to_telegram (trigger: interval[0:01:00], next run at: 2024-10-30 05:11:16 CDT)" executed successfully
2024-10-30 05:10:39,340 - DEBUG - send_request_body.failed exception=WriteError(ClosedResourceError())
2024-10-30 05:10:39,342 - DEBUG - response_closed.started
2024-10-30 05:10:39,342 - DEBUG - response_closed.complete
2024-10-30 05:10:39,343 - DEBUG - This Application is already shut down. Returning.
2024-10-30 05:10:39,344 - ERROR - Failed to send video to Telegram: httpx.WriteError: 
2024-10-30 05:10:39,346 - ERROR - Error sending video post 1gelyz1: httpx.WriteError: 
2024-10-30 05:10:39,346 - INFO - Checking post: 1gejrnl - Score: 2578 - URL: https://v3.redgifs.com/watch/graydefensivepika
2024-10-30 05:10:39,356 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:10:39,391 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:10:39,392 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:10:38 GMT'
2024-10-30 05:10:39,392 - INFO - Post 1gejrnl is a duplicate, skipping
2024-10-30 05:10:39,392 - INFO - Checking post: 1gelw33 - Score: 2304 - URL: https://www.redgifs.com/watch/drydarkgraysable
2024-10-30 05:10:39,393 - INFO - Post 1gelw33 is a duplicate, skipping
2024-10-30 05:10:39,393 - INFO - Checking post: 1gevvp0 - Score: 1174 - URL: https://www.redgifs.com/watch/medicalplumhen
2024-10-30 05:10:39,393 - INFO - Post 1gevvp0 is a duplicate, skipping
2024-10-30 05:10:39,393 - INFO - Checking post: 1gesoj7 - Score: 745 - URL: https://www.redgifs.com/watch/lightgreytrickydragonfly
2024-10-30 05:10:39,393 - INFO - Post 1gesoj7 is a duplicate, skipping
2024-10-30 05:10:39,393 - INFO - Checking post: 1geuuqp - Score: 439 - URL: https://www.redgifs.com/watch/cheerfulbeigebagworm
2024-10-30 05:10:39,393 - INFO - Post 1geuuqp is a duplicate, skipping
2024-10-30 05:10:39,394 - INFO - Checking post: 1geakrb - Score: 394 - URL: https://www.redgifs.com/watch/illinformedthickgalapagoshawk
2024-10-30 05:10:39,394 - INFO - Post 1geakrb is a duplicate, skipping
2024-10-30 05:10:39,394 - INFO - Checking post: 1gerubz - Score: 368 - URL: https://v3.redgifs.com/watch/trickysquarepseudodynerusquadrisectus
2024-10-30 05:10:39,394 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:10:39,427 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:10:39,427 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:10:38 GMT'
2024-10-30 05:10:39,427 - INFO - Found video post: 1gerubz
2024-10-30 05:10:39,428 - DEBUG - Starting new HTTPS connection (1): api.redgifs.com:443
2024-10-30 05:10:39,533 - DEBUG - https://api.redgifs.com:443 "GET /v2/gifs/trickysquarepseudodynerusquadrisectus HTTP/11" 200 None
2024-10-30 05:10:39,538 - DEBUG - Starting new HTTPS connection (1): files.redgifs.com:443
2024-10-30 05:10:39,611 - DEBUG - https://files.redgifs.com:443 "GET /TrickySquarePseudodynerusquadrisectus.mp4 HTTP/11" 200 8572845
2024-10-30 05:10:39,899 - INFO - Successfully downloaded media to downloads/videos/1gerubz_20241030_051039_32ca6f29.mp4
2024-10-30 05:10:39,901 - DEBUG - Using selector: KqueueSelector
2024-10-30 05:10:39,901 - INFO - Attempting to send video to Telegram - Path: downloads/videos/1gerubz_20241030_051039_32ca6f29.mp4
2024-10-30 05:10:39,902 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:10:39,903 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:10:39,912 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:10:39,913 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:10:39,920 - DEBUG - Entering: get_me
2024-10-30 05:10:39,921 - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2024-10-30 05:10:40,044 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108c76900>
2024-10-30 05:10:40,044 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x108e92f50> server_hostname='api.telegram.org' timeout=5.0
2024-10-30 05:10:40,184 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108c750a0>
2024-10-30 05:10:40,185 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:10:40,186 - DEBUG - send_request_headers.complete
2024-10-30 05:10:40,186 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:10:40,186 - DEBUG - send_request_body.complete
2024-10-30 05:10:40,186 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:10:40,301 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:10:40 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'254'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:10:40,302 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/getMe "HTTP/1.1 200 OK"
2024-10-30 05:10:40,302 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:10:40,302 - DEBUG - receive_response_body.complete
2024-10-30 05:10:40,302 - DEBUG - response_closed.started
2024-10-30 05:10:40,302 - DEBUG - response_closed.complete
2024-10-30 05:10:40,302 - DEBUG - User(api_kwargs={'can_connect_to_business': False, 'has_main_web_app': False}, can_join_groups=True, can_read_all_group_messages=False, first_name='RedditBot', id=7867694458, is_bot=True, supports_inline_queries=False, username='RedditImage_bot')
2024-10-30 05:10:40,302 - DEBUG - Exiting: get_me
2024-10-30 05:10:40,303 - DEBUG - This Bot is already initialized.
2024-10-30 05:10:40,303 - DEBUG - Entering: send_video
2024-10-30 05:10:40,305 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:10:40,306 - DEBUG - send_request_headers.complete
2024-10-30 05:10:40,306 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:10:41,584 - DEBUG - send_request_body.complete
2024-10-30 05:10:41,584 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:10:43,382 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:10:43 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'608'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:10:43,383 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/sendVideo "HTTP/1.1 200 OK"
2024-10-30 05:10:43,384 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:10:43,384 - DEBUG - receive_response_body.complete
2024-10-30 05:10:43,384 - DEBUG - response_closed.started
2024-10-30 05:10:43,384 - DEBUG - response_closed.complete
2024-10-30 05:10:43,386 - DEBUG - Message(caption='From r/girlsfinishingthejob: The view, the technique, the load…surely this video is perfection.\nUpvotes: 368', channel_chat_created=False, chat=Chat(id=-1002490380283, title='Reddit_Pic_Stream', type=<ChatType.CHANNEL>), date=datetime.datetime(2024, 10, 30, 10, 10, 43, tzinfo=<UTC>), delete_chat_photo=False, group_chat_created=False, message_id=208, sender_chat=Chat(id=-1002490380283, title='Reddit_Pic_Stream', type=<ChatType.CHANNEL>), supergroup_chat_created=False, video=Video(duration=0, file_id='BAACAgEAAyEGAASUcC_7AAPQZyIGIhT2HDow5pU__zdeRGNwNvsAAqUEAAIZEBFF7n1nEE2UZ2I2BA', file_name='1gerubz_20241030_051039_32ca6f29.mp4', file_size=8572845, file_unique_id='AgADpQQAAhkQEUU', height=320, mime_type='video/mp4', width=320))
2024-10-30 05:10:43,387 - DEBUG - Exiting: send_video
2024-10-30 05:10:43,387 - DEBUG - close.started
2024-10-30 05:10:43,388 - DEBUG - close.complete
2024-10-30 05:10:43,388 - DEBUG - This Bot is already shut down. Returning.
2024-10-30 05:10:43,388 - DEBUG - Shut down of Updater complete
2024-10-30 05:10:43,388 - INFO - Successfully sent video to Telegram
2024-10-30 05:10:43,392 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-partitionkey': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Content-Type': 'application/json'
    'Accept': 'application/json'
    'Content-Length': '110'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:10:43,431 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 201 None
2024-10-30 05:10:43,433 - INFO - Response status: 201
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'etag': '"00002d07-0000-0300-0000-672206230000"'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-quorum-acked-lsn': 'REDACTED'
    'x-ms-current-write-quorum': 'REDACTED'
    'x-ms-current-replica-set-size': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-cosmos-quorum-acked-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:10:42 GMT'
2024-10-30 05:10:43,434 - INFO - Successfully processed and recorded post 1gerubz
2024-10-30 05:10:43,434 - INFO - Updated last_check for girlsfinishingthejob
2024-10-30 05:10:43,434 - INFO - Job "send_to_telegram (trigger: interval[0:01:00], next run at: 2024-10-30 05:11:16 CDT)" executed successfully
2024-10-30 05:11:16,974 - DEBUG - Looking for jobs to run
2024-10-30 05:11:16,981 - DEBUG - Next wakeup is due at 2024-10-30 05:12:16.969826-05:00 (in 59.987882 seconds)
2024-10-30 05:11:16,982 - INFO - Running job "send_to_telegram (trigger: interval[0:01:00], next run at: 2024-10-30 05:12:16 CDT)" (scheduled at 2024-10-30 05:11:16.970029-05:00)
2024-10-30 05:11:16,982 - INFO - Processing subreddit: wifebutt
2024-10-30 05:11:16,983 - INFO - Fetching top posts of the month
2024-10-30 05:11:16,982 - INFO - Running job "send_to_telegram (trigger: interval[0:01:00], next run at: 2024-10-30 05:12:16 CDT)" (scheduled at 2024-10-30 05:11:16.969826-05:00)
2024-10-30 05:11:16,984 - INFO - Processing subreddit: girlsfinishingthejob
2024-10-30 05:11:16,983 - DEBUG - Fetching: GET https://oauth.reddit.com/r/wifebutt/top at 1730283076.9838521
2024-10-30 05:11:16,984 - INFO - Fetching top posts of the day
2024-10-30 05:11:16,984 - DEBUG - Data: None
2024-10-30 05:11:16,984 - DEBUG - Fetching: GET https://oauth.reddit.com/r/girlsfinishingthejob/top at 1730283076.984938
2024-10-30 05:11:16,985 - DEBUG - Params: {'limit': 50, 'raw_json': 1, 't': 'month'}
2024-10-30 05:11:16,986 - DEBUG - Data: None
2024-10-30 05:11:16,986 - DEBUG - Params: {'limit': 50, 'raw_json': 1, 't': 'day'}
2024-10-30 05:11:17,309 - DEBUG - https://oauth.reddit.com:443 "GET /r/girlsfinishingthejob/top?t=day&limit=50&raw_json=1 HTTP/11" 200 24151
2024-10-30 05:11:17,315 - DEBUG - Response: 200 (24151 bytes) (rst-0:rem-148.0:used-2 ratelimit) at 1730283077.315101
2024-10-30 05:11:17,324 - INFO - Checking post: 1gelyz1 - Score: 7077 - URL: https://www.redgifs.com/watch/uttersvelteamphibian
2024-10-30 05:11:17,328 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:11:17,359 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:11:17,359 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-quorum-acked-lsn': 'REDACTED'
    'x-ms-current-write-quorum': 'REDACTED'
    'x-ms-current-replica-set-size': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-cosmos-quorum-acked-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:11:16 GMT'
2024-10-30 05:11:17,359 - INFO - Found video post: 1gelyz1
2024-10-30 05:11:17,360 - DEBUG - Starting new HTTPS connection (1): api.redgifs.com:443
2024-10-30 05:11:17,483 - DEBUG - https://api.redgifs.com:443 "GET /v2/gifs/uttersvelteamphibian HTTP/11" 200 None
2024-10-30 05:11:17,485 - DEBUG - Starting new HTTPS connection (1): files.redgifs.com:443
2024-10-30 05:11:17,583 - DEBUG - https://files.redgifs.com:443 "GET /UtterSvelteAmphibian.mp4 HTTP/11" 200 42980012
2024-10-30 05:11:17,779 - DEBUG - https://oauth.reddit.com:443 "GET /r/wifebutt/top?t=month&limit=50&raw_json=1 HTTP/11" 200 49224
2024-10-30 05:11:17,805 - DEBUG - Response: 200 (49224 bytes) (rst-0:rem-149.0:used-1 ratelimit) at 1730283077.805154
2024-10-30 05:11:17,820 - INFO - Checking post: 1g9w053 - Score: 5358 - URL: https://www.reddit.com/gallery/1g9w053
2024-10-30 05:11:17,821 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:11:17,868 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:11:17,868 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:11:17 GMT'
2024-10-30 05:11:17,868 - INFO - Post 1g9w053 is not an image or video post, skipping
2024-10-30 05:11:17,869 - INFO - Checking post: 1fv4cfc - Score: 4573 - URL: https://www.reddit.com/gallery/1fv4cfc
2024-10-30 05:11:17,871 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:11:17,927 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:11:17,928 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:11:17 GMT'
2024-10-30 05:11:17,928 - INFO - Post 1fv4cfc is not an image or video post, skipping
2024-10-30 05:11:17,928 - INFO - Checking post: 1ganrp0 - Score: 4209 - URL: https://i.redd.it/ezatz8645lwd1.jpeg
2024-10-30 05:11:17,929 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:11:17,986 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:11:17,986 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-quorum-acked-lsn': 'REDACTED'
    'x-ms-current-write-quorum': 'REDACTED'
    'x-ms-current-replica-set-size': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-cosmos-quorum-acked-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:11:17 GMT'
2024-10-30 05:11:17,986 - INFO - Post 1ganrp0 is a duplicate, skipping
2024-10-30 05:11:17,986 - INFO - Checking post: 1gdrcjt - Score: 4063 - URL: https://www.redgifs.com/watch/unrealisticdefinitebarebirdbat
2024-10-30 05:11:17,987 - INFO - Post 1gdrcjt is a duplicate, skipping
2024-10-30 05:11:17,987 - INFO - Checking post: 1g30sx1 - Score: 3965 - URL: https://www.redgifs.com/watch/hardwarlikesunbittern
2024-10-30 05:11:17,987 - INFO - Post 1g30sx1 is a duplicate, skipping
2024-10-30 05:11:17,987 - INFO - Checking post: 1fs7839 - Score: 3857 - URL: https://www.reddit.com/gallery/1fs7839
2024-10-30 05:11:17,988 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:11:18,041 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:11:18,042 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:11:17 GMT'
2024-10-30 05:11:18,043 - INFO - Post 1fs7839 is not an image or video post, skipping
2024-10-30 05:11:18,043 - INFO - Checking post: 1g2rse9 - Score: 3761 - URL: https://i.redd.it/gzxs1aeshjud1.png
2024-10-30 05:11:18,044 - INFO - Post 1g2rse9 is a duplicate, skipping
2024-10-30 05:11:18,044 - INFO - Checking post: 1ge9loz - Score: 3725 - URL: https://www.redgifs.com/watch/deadlygregariouswoodchuck
2024-10-30 05:11:18,045 - INFO - Post 1ge9loz is a duplicate, skipping
2024-10-30 05:11:18,045 - INFO - Checking post: 1g0e966 - Score: 3636 - URL: https://www.reddit.com/gallery/1g0e966
2024-10-30 05:11:18,046 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:11:18,103 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:11:18,104 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:11:17 GMT'
2024-10-30 05:11:18,104 - INFO - Post 1g0e966 is not an image or video post, skipping
2024-10-30 05:11:18,104 - INFO - Checking post: 1gckgcy - Score: 3394 - URL: https://i.redd.it/njd0mbyjl3xd1.jpeg
2024-10-30 05:11:18,104 - INFO - Post 1gckgcy is a duplicate, skipping
2024-10-30 05:11:18,104 - INFO - Checking post: 1fznoil - Score: 3337 - URL: https://i.redd.it/eruk3694dptd1.jpeg
2024-10-30 05:11:18,105 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:11:18,156 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:11:18,157 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-quorum-acked-lsn': 'REDACTED'
    'x-ms-current-write-quorum': 'REDACTED'
    'x-ms-current-replica-set-size': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-cosmos-quorum-acked-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:11:17 GMT'
2024-10-30 05:11:18,157 - INFO - Found image post: 1fznoil with URL: https://i.redd.it/eruk3694dptd1.jpeg
2024-10-30 05:11:18,158 - DEBUG - Starting new HTTPS connection (1): i.redd.it:443
2024-10-30 05:11:18,301 - DEBUG - https://i.redd.it:443 "GET /eruk3694dptd1.jpeg HTTP/11" 200 744441
2024-10-30 05:11:18,411 - INFO - Successfully downloaded media to downloads/pics/1fznoil_20241030_051118_9be35e78.jpeg
2024-10-30 05:11:18,415 - DEBUG - Using selector: KqueueSelector
2024-10-30 05:11:18,416 - INFO - Attempting to send photo to Telegram - Path: downloads/pics/1fznoil_20241030_051118_9be35e78.jpeg
2024-10-30 05:11:18,417 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:11:18,418 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:11:18,427 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:11:18,427 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:11:18,434 - DEBUG - Entering: get_me
2024-10-30 05:11:18,435 - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2024-10-30 05:11:18,514 - INFO - Successfully downloaded media to downloads/videos/1gelyz1_20241030_051117_ba5c8ead.mp4
2024-10-30 05:11:18,515 - DEBUG - Using selector: KqueueSelector
2024-10-30 05:11:18,515 - INFO - Attempting to send video to Telegram - Path: downloads/videos/1gelyz1_20241030_051117_ba5c8ead.mp4
2024-10-30 05:11:18,516 - DEBUG - Entering: get_me
2024-10-30 05:11:18,516 - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2024-10-30 05:11:18,569 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108e63260>
2024-10-30 05:11:18,569 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x108db5f50> server_hostname='api.telegram.org' timeout=5.0
2024-10-30 05:11:18,634 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108c74d40>
2024-10-30 05:11:18,634 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x108db5f50> server_hostname='api.telegram.org' timeout=5.0
2024-10-30 05:11:18,704 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108ead5e0>
2024-10-30 05:11:18,705 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:11:18,705 - DEBUG - send_request_headers.complete
2024-10-30 05:11:18,705 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:11:18,705 - DEBUG - send_request_body.complete
2024-10-30 05:11:18,705 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:11:18,768 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108f34440>
2024-10-30 05:11:18,768 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:11:18,768 - DEBUG - send_request_headers.complete
2024-10-30 05:11:18,768 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:11:18,768 - DEBUG - send_request_body.complete
2024-10-30 05:11:18,768 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:11:18,838 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:11:18 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'254'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:11:18,839 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/getMe "HTTP/1.1 200 OK"
2024-10-30 05:11:18,839 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:11:18,839 - DEBUG - receive_response_body.complete
2024-10-30 05:11:18,839 - DEBUG - response_closed.started
2024-10-30 05:11:18,840 - DEBUG - response_closed.complete
2024-10-30 05:11:18,845 - DEBUG - User(api_kwargs={'can_connect_to_business': False, 'has_main_web_app': False}, can_join_groups=True, can_read_all_group_messages=False, first_name='RedditBot', id=7867694458, is_bot=True, supports_inline_queries=False, username='RedditImage_bot')
2024-10-30 05:11:18,849 - DEBUG - Exiting: get_me
2024-10-30 05:11:18,850 - DEBUG - This Bot is already initialized.
2024-10-30 05:11:18,851 - DEBUG - Entering: send_photo
2024-10-30 05:11:18,855 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:11:18,855 - DEBUG - send_request_headers.complete
2024-10-30 05:11:18,855 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:11:18,882 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:11:18 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'254'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:11:18,882 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/getMe "HTTP/1.1 200 OK"
2024-10-30 05:11:18,883 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:11:18,883 - DEBUG - receive_response_body.complete
2024-10-30 05:11:18,883 - DEBUG - response_closed.started
2024-10-30 05:11:18,883 - DEBUG - response_closed.complete
2024-10-30 05:11:18,883 - DEBUG - User(api_kwargs={'can_connect_to_business': False, 'has_main_web_app': False}, can_join_groups=True, can_read_all_group_messages=False, first_name='RedditBot', id=7867694458, is_bot=True, supports_inline_queries=False, username='RedditImage_bot')
2024-10-30 05:11:18,883 - DEBUG - Exiting: get_me
2024-10-30 05:11:18,883 - DEBUG - This Updater is already initialized.
2024-10-30 05:11:18,883 - DEBUG - Entering: send_video
2024-10-30 05:11:18,893 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:11:18,894 - DEBUG - send_request_headers.complete
2024-10-30 05:11:18,894 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:11:19,581 - DEBUG - send_request_body.complete
2024-10-30 05:11:19,581 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:11:20,321 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:11:20 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'1198'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:11:20,338 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/sendPhoto "HTTP/1.1 200 OK"
2024-10-30 05:11:20,338 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:11:20,338 - DEBUG - receive_response_body.complete
2024-10-30 05:11:20,338 - DEBUG - response_closed.started
2024-10-30 05:11:20,338 - DEBUG - response_closed.complete
2024-10-30 05:11:20,342 - DEBUG - Message(caption='From r/wifebutt: Wifebutt\nUpvotes: 3,337', channel_chat_created=False, chat=Chat(id=-1002490380283, title='Reddit_Pic_Stream', type=<ChatType.CHANNEL>), date=datetime.datetime(2024, 10, 30, 10, 11, 19, tzinfo=<UTC>), delete_chat_photo=False, group_chat_created=False, message_id=209, photo=(PhotoSize(file_id='AgACAgEAAyEGAASUcC_7AAONZyH6Az7LNrzJuL-hIYvZd35jaOEAAkStMRsZEBFFEi0FRYIT4oQBAAMCAANzAAM2BA', file_size=1416, file_unique_id='AQADRK0xGxkQEUV4', height=90, width=67), PhotoSize(file_id='AgACAgEAAyEGAASUcC_7AAONZyH6Az7LNrzJuL-hIYvZd35jaOEAAkStMRsZEBFFEi0FRYIT4oQBAAMCAANtAAM2BA', file_size=18042, file_unique_id='AQADRK0xGxkQEUVy', height=320, width=240), PhotoSize(file_id='AgACAgEAAyEGAASUcC_7AAONZyH6Az7LNrzJuL-hIYvZd35jaOEAAkStMRsZEBFFEi0FRYIT4oQBAAMCAAN4AAM2BA', file_size=89583, file_unique_id='AQADRK0xGxkQEUV9', height=800, width=599), PhotoSize(file_id='AgACAgEAAyEGAASUcC_7AAONZyH6Az7LNrzJuL-hIYvZd35jaOEAAkStMRsZEBFFEi0FRYIT4oQBAAMCAAN5AAM2BA', file_size=215370, file_unique_id='AQADRK0xGxkQEUV-', height=1280, width=959), PhotoSize(file_id='AgACAgEAAyEGAASUcC_7AAONZyH6Az7LNrzJuL-hIYvZd35jaOEAAkStMRsZEBFFEi0FRYIT4oQBAAMCAAN3AAM2BA', file_size=396311, file_unique_id='AQADRK0xGxkQEUV8', height=2100, width=1574)), sender_chat=Chat(id=-1002490380283, title='Reddit_Pic_Stream', type=<ChatType.CHANNEL>), supergroup_chat_created=False)
2024-10-30 05:11:20,344 - DEBUG - Exiting: send_photo
2024-10-30 05:11:20,345 - DEBUG - close.started
2024-10-30 05:11:20,345 - DEBUG - close.complete
2024-10-30 05:11:20,346 - DEBUG - close.started
2024-10-30 05:11:20,346 - DEBUG - close.complete
2024-10-30 05:11:20,347 - DEBUG - This Bot is already shut down. Returning.
2024-10-30 05:11:20,347 - DEBUG - Shut down of Updater complete
2024-10-30 05:11:20,347 - INFO - Successfully sent photo to Telegram
2024-10-30 05:11:20,357 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-partitionkey': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Content-Type': 'application/json'
    'Accept': 'application/json'
    'Content-Length': '98'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:11:20,435 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 201 None
2024-10-30 05:11:20,435 - INFO - Response status: 201
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'etag': '"00003207-0000-0300-0000-672206480000"'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-quorum-acked-lsn': 'REDACTED'
    'x-ms-current-write-quorum': 'REDACTED'
    'x-ms-current-replica-set-size': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-cosmos-quorum-acked-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:11:19 GMT'
2024-10-30 05:11:20,436 - INFO - Successfully processed and recorded post 1fznoil
2024-10-30 05:11:20,436 - INFO - Updated last_check for wifebutt
2024-10-30 05:11:20,438 - INFO - Job "send_to_telegram (trigger: interval[0:01:00], next run at: 2024-10-30 05:12:16 CDT)" executed successfully
2024-10-30 05:11:20,607 - INFO -  * Restarting with stat
2024-10-30 05:11:38,902 - DEBUG - send_request_body.failed exception=WriteError(ClosedResourceError())
2024-10-30 05:11:38,903 - DEBUG - response_closed.started
2024-10-30 05:11:38,903 - DEBUG - response_closed.complete
2024-10-30 05:11:38,904 - DEBUG - This Application is already shut down. Returning.
2024-10-30 05:11:38,904 - ERROR - Failed to send video to Telegram: httpx.WriteError: 
2024-10-30 05:11:38,906 - ERROR - Error sending video post 1gelyz1: httpx.WriteError: 
2024-10-30 05:11:38,906 - INFO - Checking post: 1gejrnl - Score: 2576 - URL: https://v3.redgifs.com/watch/graydefensivepika
2024-10-30 05:11:38,911 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:11:38,944 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:11:38,945 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:11:38 GMT'
2024-10-30 05:11:38,945 - INFO - Post 1gejrnl is a duplicate, skipping
2024-10-30 05:11:38,946 - INFO - Checking post: 1gelw33 - Score: 2305 - URL: https://www.redgifs.com/watch/drydarkgraysable
2024-10-30 05:11:38,946 - INFO - Post 1gelw33 is a duplicate, skipping
2024-10-30 05:11:38,946 - INFO - Checking post: 1gevvp0 - Score: 1178 - URL: https://www.redgifs.com/watch/medicalplumhen
2024-10-30 05:11:38,946 - INFO - Post 1gevvp0 is a duplicate, skipping
2024-10-30 05:11:38,946 - INFO - Checking post: 1gesoj7 - Score: 746 - URL: https://www.redgifs.com/watch/lightgreytrickydragonfly
2024-10-30 05:11:38,947 - INFO - Post 1gesoj7 is a duplicate, skipping
2024-10-30 05:11:38,947 - INFO - Checking post: 1geuuqp - Score: 436 - URL: https://www.redgifs.com/watch/cheerfulbeigebagworm
2024-10-30 05:11:38,947 - INFO - Post 1geuuqp is a duplicate, skipping
2024-10-30 05:11:38,947 - INFO - Checking post: 1geakrb - Score: 399 - URL: https://www.redgifs.com/watch/illinformedthickgalapagoshawk
2024-10-30 05:11:38,947 - INFO - Post 1geakrb is a duplicate, skipping
2024-10-30 05:11:38,947 - INFO - Checking post: 1gerubz - Score: 357 - URL: https://v3.redgifs.com/watch/trickysquarepseudodynerusquadrisectus
2024-10-30 05:11:38,947 - INFO - Post 1gerubz is a duplicate, skipping
2024-10-30 05:11:38,947 - INFO - Checking post: 1getxhl - Score: 338 - URL: https://www.redgifs.com/watch/purpledemandingboaconstrictor
2024-10-30 05:11:38,948 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:11:38,979 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:11:38,979 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-quorum-acked-lsn': 'REDACTED'
    'x-ms-current-write-quorum': 'REDACTED'
    'x-ms-current-replica-set-size': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-cosmos-quorum-acked-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:11:38 GMT'
2024-10-30 05:11:38,979 - INFO - Found video post: 1getxhl
2024-10-30 05:11:38,980 - DEBUG - Starting new HTTPS connection (1): api.redgifs.com:443
2024-10-30 05:11:39,088 - DEBUG - https://api.redgifs.com:443 "GET /v2/gifs/purpledemandingboaconstrictor HTTP/11" 200 None
2024-10-30 05:11:39,090 - DEBUG - Starting new HTTPS connection (1): files.redgifs.com:443
2024-10-30 05:11:39,157 - DEBUG - https://files.redgifs.com:443 "GET /PurpleDemandingBoaconstrictor.mp4 HTTP/11" 200 8593658
2024-10-30 05:11:39,490 - INFO - Successfully downloaded media to downloads/videos/1getxhl_20241030_051139_573a642d.mp4
2024-10-30 05:11:39,514 - DEBUG - Using selector: KqueueSelector
2024-10-30 05:11:39,515 - INFO - Attempting to send video to Telegram - Path: downloads/videos/1getxhl_20241030_051139_573a642d.mp4
2024-10-30 05:11:39,524 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:11:39,526 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:11:39,532 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:11:39,532 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:11:39,546 - DEBUG - Entering: get_me
2024-10-30 05:11:39,547 - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2024-10-30 05:11:39,669 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108f37a10>
2024-10-30 05:11:39,669 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x108e540d0> server_hostname='api.telegram.org' timeout=5.0
2024-10-30 05:11:39,801 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108f37890>
2024-10-30 05:11:39,801 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:11:39,802 - DEBUG - send_request_headers.complete
2024-10-30 05:11:39,802 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:11:39,802 - DEBUG - send_request_body.complete
2024-10-30 05:11:39,802 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:11:39,922 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:11:39 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'254'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:11:39,922 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/getMe "HTTP/1.1 200 OK"
2024-10-30 05:11:39,922 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:11:39,922 - DEBUG - receive_response_body.complete
2024-10-30 05:11:39,923 - DEBUG - response_closed.started
2024-10-30 05:11:39,923 - DEBUG - response_closed.complete
2024-10-30 05:11:39,923 - DEBUG - User(api_kwargs={'can_connect_to_business': False, 'has_main_web_app': False}, can_join_groups=True, can_read_all_group_messages=False, first_name='RedditBot', id=7867694458, is_bot=True, supports_inline_queries=False, username='RedditImage_bot')
2024-10-30 05:11:39,923 - DEBUG - Exiting: get_me
2024-10-30 05:11:39,923 - DEBUG - This Bot is already initialized.
2024-10-30 05:11:39,923 - DEBUG - Entering: send_video
2024-10-30 05:11:39,926 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:11:39,926 - DEBUG - send_request_headers.complete
2024-10-30 05:11:39,926 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:11:41,164 - DEBUG - send_request_body.complete
2024-10-30 05:11:41,164 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:11:43,142 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:11:43 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'572'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:11:43,143 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/sendVideo "HTTP/1.1 200 OK"
2024-10-30 05:11:43,143 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:11:43,143 - DEBUG - receive_response_body.complete
2024-10-30 05:11:43,143 - DEBUG - response_closed.started
2024-10-30 05:11:43,143 - DEBUG - response_closed.complete
2024-10-30 05:11:43,144 - DEBUG - Message(caption='From r/girlsfinishingthejob: Besties do amazing jobs together\nUpvotes: 338', channel_chat_created=False, chat=Chat(id=-1002490380283, title='Reddit_Pic_Stream', type=<ChatType.CHANNEL>), date=datetime.datetime(2024, 10, 30, 10, 11, 42, tzinfo=<UTC>), delete_chat_photo=False, group_chat_created=False, message_id=210, sender_chat=Chat(id=-1002490380283, title='Reddit_Pic_Stream', type=<ChatType.CHANNEL>), supergroup_chat_created=False, video=Video(duration=15, file_id='BAACAgEAAyEGAASUcC_7AAPSZyIGXjPjTHs7KKH8wHJb7dgyJ60AAqYEAAIZEBFFDzUeqr8U8bc2BA', file_name='1getxhl_20241030_051139_573a642d.mp4', file_size=8593658, file_unique_id='AgADpgQAAhkQEUU', height=1080, mime_type='video/mp4', width=1920))
2024-10-30 05:11:43,144 - DEBUG - Exiting: send_video
2024-10-30 05:11:43,144 - DEBUG - close.started
2024-10-30 05:11:43,144 - DEBUG - close.complete
2024-10-30 05:11:43,144 - DEBUG - This Bot is already shut down. Returning.
2024-10-30 05:11:43,144 - DEBUG - Shut down of Updater complete
2024-10-30 05:11:43,144 - INFO - Successfully sent video to Telegram
2024-10-30 05:11:43,149 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-partitionkey': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Content-Type': 'application/json'
    'Accept': 'application/json'
    'Content-Length': '110'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:11:43,181 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 201 None
2024-10-30 05:11:43,181 - INFO - Response status: 201
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'etag': '"00003607-0000-0300-0000-6722065f0000"'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-quorum-acked-lsn': 'REDACTED'
    'x-ms-current-write-quorum': 'REDACTED'
    'x-ms-current-replica-set-size': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-cosmos-quorum-acked-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:11:42 GMT'
2024-10-30 05:11:43,182 - INFO - Successfully processed and recorded post 1getxhl
2024-10-30 05:11:43,182 - INFO - Updated last_check for girlsfinishingthejob
2024-10-30 05:11:43,182 - INFO - Job "send_to_telegram (trigger: interval[0:01:00], next run at: 2024-10-30 05:12:16 CDT)" executed successfully
2024-10-30 05:12:16,977 - DEBUG - Looking for jobs to run
2024-10-30 05:12:16,979 - DEBUG - Next wakeup is due at 2024-10-30 05:13:16.969826-05:00 (in 59.990701 seconds)
2024-10-30 05:12:16,979 - INFO - Running job "send_to_telegram (trigger: interval[0:01:00], next run at: 2024-10-30 05:13:16 CDT)" (scheduled at 2024-10-30 05:12:16.969826-05:00)
2024-10-30 05:12:16,979 - INFO - Running job "send_to_telegram (trigger: interval[0:01:00], next run at: 2024-10-30 05:13:16 CDT)" (scheduled at 2024-10-30 05:12:16.970029-05:00)
2024-10-30 05:12:16,980 - INFO - Processing subreddit: girlsfinishingthejob
2024-10-30 05:12:16,980 - INFO - Processing subreddit: wifebutt
2024-10-30 05:12:16,980 - INFO - Fetching top posts of the day
2024-10-30 05:12:16,980 - INFO - Fetching top posts of the month
2024-10-30 05:12:16,981 - DEBUG - Fetching: GET https://oauth.reddit.com/r/girlsfinishingthejob/top at 1730283136.981906
2024-10-30 05:12:16,982 - DEBUG - Fetching: GET https://oauth.reddit.com/r/wifebutt/top at 1730283136.9821372
2024-10-30 05:12:16,982 - DEBUG - Data: None
2024-10-30 05:12:16,982 - DEBUG - Data: None
2024-10-30 05:12:16,982 - DEBUG - Params: {'limit': 50, 'raw_json': 1, 't': 'day'}
2024-10-30 05:12:16,982 - DEBUG - Params: {'limit': 50, 'raw_json': 1, 't': 'month'}
2024-10-30 05:12:17,359 - DEBUG - https://oauth.reddit.com:443 "GET /r/girlsfinishingthejob/top?t=day&limit=50&raw_json=1 HTTP/11" 200 24149
2024-10-30 05:12:17,362 - DEBUG - Response: 200 (24149 bytes) (rst-0:rem-148.0:used-2 ratelimit) at 1730283137.362315
2024-10-30 05:12:17,391 - INFO - Checking post: 1gelyz1 - Score: 7079 - URL: https://www.redgifs.com/watch/uttersvelteamphibian
2024-10-30 05:12:17,394 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:12:17,425 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:12:17,426 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:12:16 GMT'
2024-10-30 05:12:17,426 - INFO - Found video post: 1gelyz1
2024-10-30 05:12:17,426 - DEBUG - Starting new HTTPS connection (1): api.redgifs.com:443
2024-10-30 05:12:17,519 - DEBUG - https://api.redgifs.com:443 "GET /v2/gifs/uttersvelteamphibian HTTP/11" 200 None
2024-10-30 05:12:17,521 - DEBUG - Starting new HTTPS connection (1): files.redgifs.com:443
2024-10-30 05:12:17,592 - DEBUG - https://files.redgifs.com:443 "GET /UtterSvelteAmphibian.mp4 HTTP/11" 200 42980012
2024-10-30 05:12:18,160 - DEBUG - https://oauth.reddit.com:443 "GET /r/wifebutt/top?t=month&limit=50&raw_json=1 HTTP/11" 200 49236
2024-10-30 05:12:18,215 - DEBUG - Response: 200 (49236 bytes) (rst-0:rem-149.0:used-1 ratelimit) at 1730283138.215842
2024-10-30 05:12:18,220 - INFO - Checking post: 1g9w053 - Score: 5353 - URL: https://www.reddit.com/gallery/1g9w053
2024-10-30 05:12:18,221 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:12:18,271 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:12:18,272 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:12:17 GMT'
2024-10-30 05:12:18,272 - INFO - Post 1g9w053 is not an image or video post, skipping
2024-10-30 05:12:18,272 - INFO - Checking post: 1fv4cfc - Score: 4580 - URL: https://www.reddit.com/gallery/1fv4cfc
2024-10-30 05:12:18,273 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:12:18,317 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:12:18,317 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:12:17 GMT'
2024-10-30 05:12:18,317 - INFO - Post 1fv4cfc is not an image or video post, skipping
2024-10-30 05:12:18,317 - INFO - Checking post: 1ganrp0 - Score: 4206 - URL: https://i.redd.it/ezatz8645lwd1.jpeg
2024-10-30 05:12:18,318 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:12:18,365 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:12:18,365 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:12:17 GMT'
2024-10-30 05:12:18,366 - INFO - Post 1ganrp0 is a duplicate, skipping
2024-10-30 05:12:18,366 - INFO - Checking post: 1gdrcjt - Score: 4070 - URL: https://www.redgifs.com/watch/unrealisticdefinitebarebirdbat
2024-10-30 05:12:18,366 - INFO - Post 1gdrcjt is a duplicate, skipping
2024-10-30 05:12:18,366 - INFO - Checking post: 1g30sx1 - Score: 3960 - URL: https://www.redgifs.com/watch/hardwarlikesunbittern
2024-10-30 05:12:18,366 - INFO - Post 1g30sx1 is a duplicate, skipping
2024-10-30 05:12:18,366 - INFO - Checking post: 1fs7839 - Score: 3850 - URL: https://www.reddit.com/gallery/1fs7839
2024-10-30 05:12:18,367 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:12:18,406 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:12:18,409 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:12:17 GMT'
2024-10-30 05:12:18,409 - INFO - Post 1fs7839 is not an image or video post, skipping
2024-10-30 05:12:18,410 - INFO - Checking post: 1g2rse9 - Score: 3767 - URL: https://i.redd.it/gzxs1aeshjud1.png
2024-10-30 05:12:18,410 - INFO - Post 1g2rse9 is a duplicate, skipping
2024-10-30 05:12:18,410 - INFO - Checking post: 1ge9loz - Score: 3728 - URL: https://www.redgifs.com/watch/deadlygregariouswoodchuck
2024-10-30 05:12:18,410 - INFO - Post 1ge9loz is a duplicate, skipping
2024-10-30 05:12:18,410 - INFO - Checking post: 1g0e966 - Score: 3630 - URL: https://www.reddit.com/gallery/1g0e966
2024-10-30 05:12:18,411 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:12:18,459 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:12:18,460 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:12:17 GMT'
2024-10-30 05:12:18,460 - INFO - Post 1g0e966 is not an image or video post, skipping
2024-10-30 05:12:18,460 - INFO - Checking post: 1gckgcy - Score: 3398 - URL: https://i.redd.it/njd0mbyjl3xd1.jpeg
2024-10-30 05:12:18,460 - INFO - Post 1gckgcy is a duplicate, skipping
2024-10-30 05:12:18,460 - INFO - Checking post: 1fznoil - Score: 3338 - URL: https://i.redd.it/eruk3694dptd1.jpeg
2024-10-30 05:12:18,461 - INFO - Post 1fznoil is a duplicate, skipping
2024-10-30 05:12:18,461 - INFO - Checking post: 1g3dsj7 - Score: 3183 - URL: https://i.redd.it/cg9oigznmpud1.jpeg
2024-10-30 05:12:18,463 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:12:18,517 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:12:18,517 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:12:18 GMT'
2024-10-30 05:12:18,517 - INFO - Found image post: 1g3dsj7 with URL: https://i.redd.it/cg9oigznmpud1.jpeg
2024-10-30 05:12:18,518 - DEBUG - Starting new HTTPS connection (1): i.redd.it:443
2024-10-30 05:12:18,555 - INFO - Successfully downloaded media to downloads/videos/1gelyz1_20241030_051217_ba5c8ead.mp4
2024-10-30 05:12:18,556 - DEBUG - Using selector: KqueueSelector
2024-10-30 05:12:18,557 - INFO - Attempting to send video to Telegram - Path: downloads/videos/1gelyz1_20241030_051217_ba5c8ead.mp4
2024-10-30 05:12:18,558 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:12:18,558 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:12:18,567 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:12:18,567 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:12:18,579 - DEBUG - Entering: get_me
2024-10-30 05:12:18,580 - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2024-10-30 05:12:18,618 - DEBUG - https://i.redd.it:443 "GET /cg9oigznmpud1.jpeg HTTP/11" 200 1419084
2024-10-30 05:12:18,687 - INFO - Successfully downloaded media to downloads/pics/1g3dsj7_20241030_051218_61d6ff36.jpeg
2024-10-30 05:12:18,689 - DEBUG - Using selector: KqueueSelector
2024-10-30 05:12:18,689 - INFO - Attempting to send photo to Telegram - Path: downloads/pics/1g3dsj7_20241030_051218_61d6ff36.jpeg
2024-10-30 05:12:18,689 - DEBUG - Entering: get_me
2024-10-30 05:12:18,689 - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2024-10-30 05:12:18,726 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108ed11c0>
2024-10-30 05:12:18,726 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x108ed5650> server_hostname='api.telegram.org' timeout=5.0
2024-10-30 05:12:18,811 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108d7a8d0>
2024-10-30 05:12:18,811 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x108ed5650> server_hostname='api.telegram.org' timeout=5.0
2024-10-30 05:12:18,860 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108ed3110>
2024-10-30 05:12:18,860 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:12:18,860 - DEBUG - send_request_headers.complete
2024-10-30 05:12:18,860 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:12:18,861 - DEBUG - send_request_body.complete
2024-10-30 05:12:18,861 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:12:18,948 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108d7ab10>
2024-10-30 05:12:18,948 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:12:18,949 - DEBUG - send_request_headers.complete
2024-10-30 05:12:18,949 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:12:18,949 - DEBUG - send_request_body.complete
2024-10-30 05:12:18,949 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:12:18,978 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:12:18 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'254'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:12:18,978 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/getMe "HTTP/1.1 200 OK"
2024-10-30 05:12:18,978 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:12:18,978 - DEBUG - receive_response_body.complete
2024-10-30 05:12:18,979 - DEBUG - response_closed.started
2024-10-30 05:12:18,979 - DEBUG - response_closed.complete
2024-10-30 05:12:18,979 - DEBUG - User(api_kwargs={'can_connect_to_business': False, 'has_main_web_app': False}, can_join_groups=True, can_read_all_group_messages=False, first_name='RedditBot', id=7867694458, is_bot=True, supports_inline_queries=False, username='RedditImage_bot')
2024-10-30 05:12:18,979 - DEBUG - Exiting: get_me
2024-10-30 05:12:18,979 - DEBUG - This Bot is already initialized.
2024-10-30 05:12:18,979 - DEBUG - Entering: send_video
2024-10-30 05:12:18,988 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:12:18,988 - DEBUG - send_request_headers.complete
2024-10-30 05:12:18,988 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:12:19,067 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:12:19 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'254'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:12:19,067 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/getMe "HTTP/1.1 200 OK"
2024-10-30 05:12:19,067 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:12:19,067 - DEBUG - receive_response_body.complete
2024-10-30 05:12:19,067 - DEBUG - response_closed.started
2024-10-30 05:12:19,067 - DEBUG - response_closed.complete
2024-10-30 05:12:19,067 - DEBUG - User(api_kwargs={'can_connect_to_business': False, 'has_main_web_app': False}, can_join_groups=True, can_read_all_group_messages=False, first_name='RedditBot', id=7867694458, is_bot=True, supports_inline_queries=False, username='RedditImage_bot')
2024-10-30 05:12:19,067 - DEBUG - Exiting: get_me
2024-10-30 05:12:19,067 - DEBUG - This Updater is already initialized.
2024-10-30 05:12:19,068 - DEBUG - Entering: send_photo
2024-10-30 05:12:19,068 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:12:19,068 - DEBUG - send_request_headers.complete
2024-10-30 05:12:19,069 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:12:19,822 - DEBUG - send_request_body.complete
2024-10-30 05:12:19,822 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:12:21,599 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:12:21 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'1216'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:12:21,600 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/sendPhoto "HTTP/1.1 200 OK"
2024-10-30 05:12:21,600 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:12:21,600 - DEBUG - receive_response_body.complete
2024-10-30 05:12:21,600 - DEBUG - response_closed.started
2024-10-30 05:12:21,600 - DEBUG - response_closed.complete
2024-10-30 05:12:21,602 - DEBUG - Message(caption='From r/wifebutt: Wifebutt needs co driver\nUpvotes: 3,183', channel_chat_created=False, chat=Chat(id=-1002490380283, title='Reddit_Pic_Stream', type=<ChatType.CHANNEL>), date=datetime.datetime(2024, 10, 30, 10, 12, 21, tzinfo=<UTC>), delete_chat_photo=False, group_chat_created=False, message_id=211, photo=(PhotoSize(file_id='AgACAgEAAyEGAASUcC_7AAPTZyIGhDQUIuD5UnQFGgsU46nonOgAAlytMRsZEBFFjVAJ3htCMYUBAAMCAANzAAM2BA', file_size=1666, file_unique_id='AQADXK0xGxkQEUV4', height=90, width=71), PhotoSize(file_id='AgACAgEAAyEGAASUcC_7AAPTZyIGhDQUIuD5UnQFGgsU46nonOgAAlytMRsZEBFFjVAJ3htCMYUBAAMCAANtAAM2BA', file_size=22359, file_unique_id='AQADXK0xGxkQEUVy', height=320, width=253), PhotoSize(file_id='AgACAgEAAyEGAASUcC_7AAPTZyIGhDQUIuD5UnQFGgsU46nonOgAAlytMRsZEBFFjVAJ3htCMYUBAAMCAAN4AAM2BA', file_size=103140, file_unique_id='AQADXK0xGxkQEUV9', height=800, width=633), PhotoSize(file_id='AgACAgEAAyEGAASUcC_7AAPTZyIGhDQUIuD5UnQFGgsU46nonOgAAlytMRsZEBFFjVAJ3htCMYUBAAMCAAN5AAM2BA', file_size=231525, file_unique_id='AQADXK0xGxkQEUV-', height=1280, width=1013), PhotoSize(file_id='AgACAgEAAyEGAASUcC_7AAPTZyIGhDQUIuD5UnQFGgsU46nonOgAAlytMRsZEBFFjVAJ3htCMYUBAAMCAAN3AAM2BA', file_size=719206, file_unique_id='AQADXK0xGxkQEUV8', height=2560, width=2027)), sender_chat=Chat(id=-1002490380283, title='Reddit_Pic_Stream', type=<ChatType.CHANNEL>), supergroup_chat_created=False)
2024-10-30 05:12:21,602 - DEBUG - Exiting: send_photo
2024-10-30 05:12:21,602 - DEBUG - close.started
2024-10-30 05:12:21,603 - DEBUG - close.complete
2024-10-30 05:12:21,603 - DEBUG - close.started
2024-10-30 05:12:21,603 - DEBUG - close.complete
2024-10-30 05:12:21,604 - DEBUG - This Bot is already shut down. Returning.
2024-10-30 05:12:21,604 - DEBUG - Shut down of Updater complete
2024-10-30 05:12:21,604 - INFO - Successfully sent photo to Telegram
2024-10-30 05:12:21,609 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-partitionkey': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Content-Type': 'application/json'
    'Accept': 'application/json'
    'Content-Length': '98'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:12:21,699 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 201 None
2024-10-30 05:12:21,700 - INFO - Response status: 201
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'etag': '"00003e07-0000-0300-0000-672206850000"'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-quorum-acked-lsn': 'REDACTED'
    'x-ms-current-write-quorum': 'REDACTED'
    'x-ms-current-replica-set-size': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-cosmos-quorum-acked-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:12:21 GMT'
2024-10-30 05:12:21,701 - INFO - Successfully processed and recorded post 1g3dsj7
2024-10-30 05:12:21,701 - INFO - Updated last_check for wifebutt
2024-10-30 05:12:21,702 - INFO - Job "send_to_telegram (trigger: interval[0:01:00], next run at: 2024-10-30 05:13:16 CDT)" executed successfully
2024-10-30 05:12:38,995 - DEBUG - send_request_body.failed exception=WriteError(ClosedResourceError())
2024-10-30 05:12:38,996 - DEBUG - response_closed.started
2024-10-30 05:12:38,996 - DEBUG - response_closed.complete
2024-10-30 05:12:38,997 - DEBUG - This Application is already shut down. Returning.
2024-10-30 05:12:38,997 - ERROR - Failed to send video to Telegram: httpx.WriteError: 
2024-10-30 05:12:38,998 - ERROR - Error sending video post 1gelyz1: httpx.WriteError: 
2024-10-30 05:12:38,998 - INFO - Checking post: 1gejrnl - Score: 2579 - URL: https://v3.redgifs.com/watch/graydefensivepika
2024-10-30 05:12:39,003 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:12:39,035 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:12:39,036 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:12:38 GMT'
2024-10-30 05:12:39,036 - INFO - Post 1gejrnl is a duplicate, skipping
2024-10-30 05:12:39,036 - INFO - Checking post: 1gelw33 - Score: 2301 - URL: https://www.redgifs.com/watch/drydarkgraysable
2024-10-30 05:12:39,036 - INFO - Post 1gelw33 is a duplicate, skipping
2024-10-30 05:12:39,036 - INFO - Checking post: 1gevvp0 - Score: 1181 - URL: https://www.redgifs.com/watch/medicalplumhen
2024-10-30 05:12:39,037 - INFO - Post 1gevvp0 is a duplicate, skipping
2024-10-30 05:12:39,037 - INFO - Checking post: 1gesoj7 - Score: 744 - URL: https://www.redgifs.com/watch/lightgreytrickydragonfly
2024-10-30 05:12:39,037 - INFO - Post 1gesoj7 is a duplicate, skipping
2024-10-30 05:12:39,037 - INFO - Checking post: 1geuuqp - Score: 437 - URL: https://www.redgifs.com/watch/cheerfulbeigebagworm
2024-10-30 05:12:39,037 - INFO - Post 1geuuqp is a duplicate, skipping
2024-10-30 05:12:39,037 - INFO - Checking post: 1geakrb - Score: 399 - URL: https://www.redgifs.com/watch/illinformedthickgalapagoshawk
2024-10-30 05:12:39,037 - INFO - Post 1geakrb is a duplicate, skipping
2024-10-30 05:12:39,037 - INFO - Checking post: 1gerubz - Score: 363 - URL: https://v3.redgifs.com/watch/trickysquarepseudodynerusquadrisectus
2024-10-30 05:12:39,038 - INFO - Post 1gerubz is a duplicate, skipping
2024-10-30 05:12:39,038 - INFO - Checking post: 1getxhl - Score: 333 - URL: https://www.redgifs.com/watch/purpledemandingboaconstrictor
2024-10-30 05:12:39,038 - INFO - Post 1getxhl is a duplicate, skipping
2024-10-30 05:12:39,038 - INFO - Checking post: 1ge9gol - Score: 278 - URL: https://v3.redgifs.com/watch/circulardeeppinkamericanbulldog
2024-10-30 05:12:39,038 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:12:39,067 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:12:39,068 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:12:38 GMT'
2024-10-30 05:12:39,068 - INFO - Found video post: 1ge9gol
2024-10-30 05:12:39,069 - DEBUG - Starting new HTTPS connection (1): api.redgifs.com:443
2024-10-30 05:12:39,184 - DEBUG - https://api.redgifs.com:443 "GET /v2/gifs/circulardeeppinkamericanbulldog HTTP/11" 200 None
2024-10-30 05:12:39,187 - DEBUG - Starting new HTTPS connection (1): files.redgifs.com:443
2024-10-30 05:12:39,270 - DEBUG - https://files.redgifs.com:443 "GET /CircularDeeppinkAmericanbulldog.mp4 HTTP/11" 200 61415883
2024-10-30 05:12:40,590 - INFO - Successfully downloaded media to downloads/videos/1ge9gol_20241030_051239_fff8ab71.mp4
2024-10-30 05:12:40,591 - DEBUG - Using selector: KqueueSelector
2024-10-30 05:12:40,591 - INFO - Attempting to send video to Telegram - Path: downloads/videos/1ge9gol_20241030_051239_fff8ab71.mp4
2024-10-30 05:12:40,592 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:12:40,592 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:12:40,600 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:12:40,600 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:12:40,608 - DEBUG - Entering: get_me
2024-10-30 05:12:40,608 - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2024-10-30 05:12:40,676 - INFO -  * Restarting with stat
2024-10-30 05:12:40,734 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108d7a030>
2024-10-30 05:12:40,734 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x108ed7950> server_hostname='api.telegram.org' timeout=5.0
2024-10-30 05:12:40,866 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108d79fa0>
2024-10-30 05:12:40,866 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:12:40,866 - DEBUG - send_request_headers.complete
2024-10-30 05:12:40,866 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:12:40,866 - DEBUG - send_request_body.complete
2024-10-30 05:12:40,866 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:12:40,985 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:12:40 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'254'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:12:40,985 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/getMe "HTTP/1.1 200 OK"
2024-10-30 05:12:40,985 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:12:40,985 - DEBUG - receive_response_body.complete
2024-10-30 05:12:40,985 - DEBUG - response_closed.started
2024-10-30 05:12:40,985 - DEBUG - response_closed.complete
2024-10-30 05:12:40,985 - DEBUG - User(api_kwargs={'can_connect_to_business': False, 'has_main_web_app': False}, can_join_groups=True, can_read_all_group_messages=False, first_name='RedditBot', id=7867694458, is_bot=True, supports_inline_queries=False, username='RedditImage_bot')
2024-10-30 05:12:40,985 - DEBUG - Exiting: get_me
2024-10-30 05:12:40,985 - DEBUG - This Bot is already initialized.
2024-10-30 05:12:40,985 - DEBUG - Entering: send_video
2024-10-30 05:12:40,998 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:12:40,999 - DEBUG - send_request_headers.complete
2024-10-30 05:12:40,999 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:12:42,798 - INFO -  * Restarting with stat
2024-10-30 05:12:45,445 - DEBUG - send_request_body.complete
2024-10-30 05:12:45,445 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:12:45,446 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 413, b'Request Entity Too Large', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:12:41 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'70'), (b'Connection', b'close'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:12:45,447 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/sendVideo "HTTP/1.1 413 Request Entity Too Large"
2024-10-30 05:12:45,447 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:12:45,447 - DEBUG - receive_response_body.complete
2024-10-30 05:12:45,447 - DEBUG - response_closed.started
2024-10-30 05:12:45,447 - DEBUG - response_closed.complete
2024-10-30 05:12:45,448 - DEBUG - This Bot is already shut down. Returning.
2024-10-30 05:12:45,448 - DEBUG - Shut down of Updater complete
2024-10-30 05:12:45,448 - ERROR - Failed to send video to Telegram: Request Entity Too Large (413)
2024-10-30 05:12:45,448 - ERROR - Error sending video post 1ge9gol: Request Entity Too Large (413)
2024-10-30 05:12:45,448 - INFO - Checking post: 1ge98kx - Score: 254 - URL: https://www.redgifs.com/watch/frontspecificspittlebug
2024-10-30 05:12:45,452 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:12:45,587 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:12:45,587 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:12:45 GMT'
2024-10-30 05:12:45,587 - INFO - Found video post: 1ge98kx
2024-10-30 05:12:45,588 - DEBUG - Starting new HTTPS connection (1): api.redgifs.com:443
2024-10-30 05:12:45,753 - DEBUG - https://api.redgifs.com:443 "GET /v2/gifs/frontspecificspittlebug HTTP/11" 200 None
2024-10-30 05:12:45,756 - DEBUG - Starting new HTTPS connection (1): files.redgifs.com:443
2024-10-30 05:12:45,827 - DEBUG - https://files.redgifs.com:443 "GET /FrontSpecificSpittlebug.mp4 HTTP/11" 200 17448364
2024-10-30 05:12:46,411 - INFO - Successfully downloaded media to downloads/videos/1ge98kx_20241030_051245_67619b79.mp4
2024-10-30 05:12:46,413 - DEBUG - Using selector: KqueueSelector
2024-10-30 05:12:46,413 - INFO - Attempting to send video to Telegram - Path: downloads/videos/1ge98kx_20241030_051245_67619b79.mp4
2024-10-30 05:12:46,413 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:12:46,414 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:12:46,444 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:12:46,445 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:12:46,452 - DEBUG - Entering: get_me
2024-10-30 05:12:46,453 - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2024-10-30 05:12:46,578 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108f37fe0>
2024-10-30 05:12:46,579 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x108e80fd0> server_hostname='api.telegram.org' timeout=5.0
2024-10-30 05:12:46,721 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108f35340>
2024-10-30 05:12:46,721 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:12:46,721 - DEBUG - send_request_headers.complete
2024-10-30 05:12:46,721 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:12:46,722 - DEBUG - send_request_body.complete
2024-10-30 05:12:46,722 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:12:46,934 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:12:46 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'254'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:12:46,935 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/getMe "HTTP/1.1 200 OK"
2024-10-30 05:12:46,935 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:12:46,935 - DEBUG - receive_response_body.complete
2024-10-30 05:12:46,935 - DEBUG - response_closed.started
2024-10-30 05:12:46,935 - DEBUG - response_closed.complete
2024-10-30 05:12:46,936 - DEBUG - User(api_kwargs={'can_connect_to_business': False, 'has_main_web_app': False}, can_join_groups=True, can_read_all_group_messages=False, first_name='RedditBot', id=7867694458, is_bot=True, supports_inline_queries=False, username='RedditImage_bot')
2024-10-30 05:12:46,936 - DEBUG - Exiting: get_me
2024-10-30 05:12:46,936 - DEBUG - This Bot is already initialized.
2024-10-30 05:12:46,936 - DEBUG - Entering: send_video
2024-10-30 05:12:46,939 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:12:46,940 - DEBUG - send_request_headers.complete
2024-10-30 05:12:46,940 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:12:49,899 - DEBUG - send_request_body.complete
2024-10-30 05:12:49,899 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:12:51,947 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:12:51 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'646'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:12:51,948 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/sendVideo "HTTP/1.1 200 OK"
2024-10-30 05:12:51,948 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:12:51,948 - DEBUG - receive_response_body.complete
2024-10-30 05:12:51,948 - DEBUG - response_closed.started
2024-10-30 05:12:51,948 - DEBUG - response_closed.complete
2024-10-30 05:12:51,949 - DEBUG - Message(caption='From r/girlsfinishingthejob: Mark Rockwell loses his breath and fires a big load as Tinslee Regan gently tickles his frenulum to orgasm.\nUpvotes: 254', channel_chat_created=False, chat=Chat(id=-1002490380283, title='Reddit_Pic_Stream', type=<ChatType.CHANNEL>), date=datetime.datetime(2024, 10, 30, 10, 12, 51, tzinfo=<UTC>), delete_chat_photo=False, group_chat_created=False, message_id=212, sender_chat=Chat(id=-1002490380283, title='Reddit_Pic_Stream', type=<ChatType.CHANNEL>), supergroup_chat_created=False, video=Video(duration=0, file_id='BAACAgEAAyEGAASUcC_7AAPUZyIGo-cAAQo0WAZ0tCX499d1ztxFAAKnBAACGRARRVjjTYPfw0gQNgQ', file_name='1ge98kx_20241030_051245_67619b79.mp4', file_size=17448364, file_unique_id='AgADpwQAAhkQEUU', height=320, mime_type='video/mp4', width=320))
2024-10-30 05:12:51,949 - DEBUG - Exiting: send_video
2024-10-30 05:12:51,950 - DEBUG - close.started
2024-10-30 05:12:51,950 - DEBUG - close.complete
2024-10-30 05:12:51,950 - DEBUG - This Bot is already shut down. Returning.
2024-10-30 05:12:51,950 - DEBUG - Shut down of Updater complete
2024-10-30 05:12:51,950 - INFO - Successfully sent video to Telegram
2024-10-30 05:12:51,953 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-partitionkey': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Content-Type': 'application/json'
    'Accept': 'application/json'
    'Content-Length': '110'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:12:51,987 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 201 None
2024-10-30 05:12:51,988 - INFO - Response status: 201
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'etag': '"00004307-0000-0300-0000-672206a30000"'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-quorum-acked-lsn': 'REDACTED'
    'x-ms-current-write-quorum': 'REDACTED'
    'x-ms-current-replica-set-size': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-cosmos-quorum-acked-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:12:51 GMT'
2024-10-30 05:12:51,988 - INFO - Successfully processed and recorded post 1ge98kx
2024-10-30 05:12:51,988 - INFO - Updated last_check for girlsfinishingthejob
2024-10-30 05:12:51,988 - INFO - Job "send_to_telegram (trigger: interval[0:01:00], next run at: 2024-10-30 05:13:16 CDT)" executed successfully
2024-10-30 05:13:16,972 - DEBUG - Looking for jobs to run
2024-10-30 05:13:16,974 - DEBUG - Next wakeup is due at 2024-10-30 05:14:16.969826-05:00 (in 59.995438 seconds)
2024-10-30 05:13:16,974 - INFO - Running job "send_to_telegram (trigger: interval[0:01:00], next run at: 2024-10-30 05:14:16 CDT)" (scheduled at 2024-10-30 05:13:16.969826-05:00)
2024-10-30 05:13:16,974 - INFO - Running job "send_to_telegram (trigger: interval[0:01:00], next run at: 2024-10-30 05:14:16 CDT)" (scheduled at 2024-10-30 05:13:16.970029-05:00)
2024-10-30 05:13:16,975 - INFO - Processing subreddit: girlsfinishingthejob
2024-10-30 05:13:16,975 - INFO - Processing subreddit: wifebutt
2024-10-30 05:13:16,975 - INFO - Fetching top posts of the day
2024-10-30 05:13:16,975 - INFO - Fetching top posts of the month
2024-10-30 05:13:16,976 - DEBUG - Fetching: GET https://oauth.reddit.com/r/girlsfinishingthejob/top at 1730283196.976403
2024-10-30 05:13:16,976 - DEBUG - Fetching: GET https://oauth.reddit.com/r/wifebutt/top at 1730283196.9765902
2024-10-30 05:13:16,976 - DEBUG - Data: None
2024-10-30 05:13:16,976 - DEBUG - Data: None
2024-10-30 05:13:16,976 - DEBUG - Params: {'limit': 50, 'raw_json': 1, 't': 'day'}
2024-10-30 05:13:16,977 - DEBUG - Params: {'limit': 50, 'raw_json': 1, 't': 'month'}
2024-10-30 05:13:17,305 - DEBUG - https://oauth.reddit.com:443 "GET /r/girlsfinishingthejob/top?t=day&limit=50&raw_json=1 HTTP/11" 200 24103
2024-10-30 05:13:17,309 - DEBUG - Response: 200 (24103 bytes) (rst-0:rem-148.0:used-2 ratelimit) at 1730283197.309458
2024-10-30 05:13:17,351 - INFO - Checking post: 1gelyz1 - Score: 7081 - URL: https://www.redgifs.com/watch/uttersvelteamphibian
2024-10-30 05:13:17,355 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:13:17,392 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:13:17,392 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:13:16 GMT'
2024-10-30 05:13:17,392 - INFO - Found video post: 1gelyz1
2024-10-30 05:13:17,393 - DEBUG - Starting new HTTPS connection (1): api.redgifs.com:443
2024-10-30 05:13:17,513 - DEBUG - https://api.redgifs.com:443 "GET /v2/gifs/uttersvelteamphibian HTTP/11" 200 None
2024-10-30 05:13:17,516 - DEBUG - Starting new HTTPS connection (1): files.redgifs.com:443
2024-10-30 05:13:17,588 - DEBUG - https://files.redgifs.com:443 "GET /UtterSvelteAmphibian.mp4 HTTP/11" 200 42980012
2024-10-30 05:13:17,844 - DEBUG - https://oauth.reddit.com:443 "GET /r/wifebutt/top?t=month&limit=50&raw_json=1 HTTP/11" 200 49252
2024-10-30 05:13:17,922 - DEBUG - Response: 200 (49252 bytes) (rst-0:rem-149.0:used-1 ratelimit) at 1730283197.922296
2024-10-30 05:13:17,927 - INFO - Checking post: 1g9w053 - Score: 5356 - URL: https://www.reddit.com/gallery/1g9w053
2024-10-30 05:13:17,928 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:13:17,960 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:13:17,961 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:13:17 GMT'
2024-10-30 05:13:17,961 - INFO - Post 1g9w053 is not an image or video post, skipping
2024-10-30 05:13:17,961 - INFO - Checking post: 1fv4cfc - Score: 4578 - URL: https://www.reddit.com/gallery/1fv4cfc
2024-10-30 05:13:17,961 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:13:18,001 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:13:18,001 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:13:17 GMT'
2024-10-30 05:13:18,001 - INFO - Post 1fv4cfc is not an image or video post, skipping
2024-10-30 05:13:18,001 - INFO - Checking post: 1ganrp0 - Score: 4204 - URL: https://i.redd.it/ezatz8645lwd1.jpeg
2024-10-30 05:13:18,002 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:13:18,050 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:13:18,050 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:13:17 GMT'
2024-10-30 05:13:18,050 - INFO - Post 1ganrp0 is a duplicate, skipping
2024-10-30 05:13:18,051 - INFO - Checking post: 1gdrcjt - Score: 4067 - URL: https://www.redgifs.com/watch/unrealisticdefinitebarebirdbat
2024-10-30 05:13:18,051 - INFO - Post 1gdrcjt is a duplicate, skipping
2024-10-30 05:13:18,051 - INFO - Checking post: 1g30sx1 - Score: 3965 - URL: https://www.redgifs.com/watch/hardwarlikesunbittern
2024-10-30 05:13:18,052 - INFO - Post 1g30sx1 is a duplicate, skipping
2024-10-30 05:13:18,052 - INFO - Checking post: 1fs7839 - Score: 3854 - URL: https://www.reddit.com/gallery/1fs7839
2024-10-30 05:13:18,052 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:13:18,099 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:13:18,099 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-quorum-acked-lsn': 'REDACTED'
    'x-ms-current-write-quorum': 'REDACTED'
    'x-ms-current-replica-set-size': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-cosmos-quorum-acked-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:13:17 GMT'
2024-10-30 05:13:18,099 - INFO - Post 1fs7839 is not an image or video post, skipping
2024-10-30 05:13:18,099 - INFO - Checking post: 1g2rse9 - Score: 3768 - URL: https://i.redd.it/gzxs1aeshjud1.png
2024-10-30 05:13:18,100 - INFO - Post 1g2rse9 is a duplicate, skipping
2024-10-30 05:13:18,100 - INFO - Checking post: 1ge9loz - Score: 3730 - URL: https://www.redgifs.com/watch/deadlygregariouswoodchuck
2024-10-30 05:13:18,100 - INFO - Post 1ge9loz is a duplicate, skipping
2024-10-30 05:13:18,100 - INFO - Checking post: 1g0e966 - Score: 3635 - URL: https://www.reddit.com/gallery/1g0e966
2024-10-30 05:13:18,101 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:13:18,149 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:13:18,149 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-quorum-acked-lsn': 'REDACTED'
    'x-ms-current-write-quorum': 'REDACTED'
    'x-ms-current-replica-set-size': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-cosmos-quorum-acked-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:13:17 GMT'
2024-10-30 05:13:18,149 - INFO - Post 1g0e966 is not an image or video post, skipping
2024-10-30 05:13:18,149 - INFO - Checking post: 1gckgcy - Score: 3396 - URL: https://i.redd.it/njd0mbyjl3xd1.jpeg
2024-10-30 05:13:18,150 - INFO - Post 1gckgcy is a duplicate, skipping
2024-10-30 05:13:18,150 - INFO - Checking post: 1fznoil - Score: 3332 - URL: https://i.redd.it/eruk3694dptd1.jpeg
2024-10-30 05:13:18,150 - INFO - Post 1fznoil is a duplicate, skipping
2024-10-30 05:13:18,150 - INFO - Checking post: 1g3dsj7 - Score: 3181 - URL: https://i.redd.it/cg9oigznmpud1.jpeg
2024-10-30 05:13:18,151 - INFO - Post 1g3dsj7 is a duplicate, skipping
2024-10-30 05:13:18,151 - INFO - Checking post: 1g4dx9i - Score: 3143 - URL: https://i.redd.it/5kv3c8f3lyud1.jpeg
2024-10-30 05:13:18,151 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:13:18,202 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:13:18,203 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-quorum-acked-lsn': 'REDACTED'
    'x-ms-current-write-quorum': 'REDACTED'
    'x-ms-current-replica-set-size': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-cosmos-quorum-acked-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:13:17 GMT'
2024-10-30 05:13:18,203 - INFO - Found image post: 1g4dx9i with URL: https://i.redd.it/5kv3c8f3lyud1.jpeg
2024-10-30 05:13:18,206 - DEBUG - Starting new HTTPS connection (1): i.redd.it:443
2024-10-30 05:13:18,384 - DEBUG - https://i.redd.it:443 "GET /5kv3c8f3lyud1.jpeg HTTP/11" 200 2365518
2024-10-30 05:13:18,560 - INFO - Successfully downloaded media to downloads/videos/1gelyz1_20241030_051317_ba5c8ead.mp4
2024-10-30 05:13:18,561 - DEBUG - Using selector: KqueueSelector
2024-10-30 05:13:18,562 - INFO - Attempting to send video to Telegram - Path: downloads/videos/1gelyz1_20241030_051317_ba5c8ead.mp4
2024-10-30 05:13:18,563 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:13:18,563 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:13:18,571 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:13:18,572 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:13:18,580 - DEBUG - Entering: get_me
2024-10-30 05:13:18,581 - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2024-10-30 05:13:18,755 - INFO - Successfully downloaded media to downloads/pics/1g4dx9i_20241030_051318_d2c0c929.jpeg
2024-10-30 05:13:18,756 - DEBUG - Using selector: KqueueSelector
2024-10-30 05:13:18,756 - INFO - Attempting to send photo to Telegram - Path: downloads/pics/1g4dx9i_20241030_051318_d2c0c929.jpeg
2024-10-30 05:13:18,756 - DEBUG - Entering: get_me
2024-10-30 05:13:18,756 - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2024-10-30 05:13:18,797 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108a5d9d0>
2024-10-30 05:13:18,797 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x108e533d0> server_hostname='api.telegram.org' timeout=5.0
2024-10-30 05:13:18,880 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108a5e990>
2024-10-30 05:13:18,880 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x108e533d0> server_hostname='api.telegram.org' timeout=5.0
2024-10-30 05:13:18,923 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108a5fb30>
2024-10-30 05:13:18,923 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:13:18,923 - DEBUG - send_request_headers.complete
2024-10-30 05:13:18,923 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:13:18,924 - DEBUG - send_request_body.complete
2024-10-30 05:13:18,924 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:13:19,011 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108a5e7e0>
2024-10-30 05:13:19,011 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:13:19,012 - DEBUG - send_request_headers.complete
2024-10-30 05:13:19,012 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:13:19,012 - DEBUG - send_request_body.complete
2024-10-30 05:13:19,012 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:13:19,041 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:13:19 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'254'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:13:19,042 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/getMe "HTTP/1.1 200 OK"
2024-10-30 05:13:19,042 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:13:19,042 - DEBUG - receive_response_body.complete
2024-10-30 05:13:19,042 - DEBUG - response_closed.started
2024-10-30 05:13:19,042 - DEBUG - response_closed.complete
2024-10-30 05:13:19,042 - DEBUG - User(api_kwargs={'can_connect_to_business': False, 'has_main_web_app': False}, can_join_groups=True, can_read_all_group_messages=False, first_name='RedditBot', id=7867694458, is_bot=True, supports_inline_queries=False, username='RedditImage_bot')
2024-10-30 05:13:19,043 - DEBUG - Exiting: get_me
2024-10-30 05:13:19,043 - DEBUG - This Bot is already initialized.
2024-10-30 05:13:19,043 - DEBUG - Entering: send_video
2024-10-30 05:13:19,056 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:13:19,056 - DEBUG - send_request_headers.complete
2024-10-30 05:13:19,056 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:13:19,128 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:13:19 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'254'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:13:19,128 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/getMe "HTTP/1.1 200 OK"
2024-10-30 05:13:19,128 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:13:19,128 - DEBUG - receive_response_body.complete
2024-10-30 05:13:19,128 - DEBUG - response_closed.started
2024-10-30 05:13:19,128 - DEBUG - response_closed.complete
2024-10-30 05:13:19,128 - DEBUG - User(api_kwargs={'can_connect_to_business': False, 'has_main_web_app': False}, can_join_groups=True, can_read_all_group_messages=False, first_name='RedditBot', id=7867694458, is_bot=True, supports_inline_queries=False, username='RedditImage_bot')
2024-10-30 05:13:19,128 - DEBUG - Exiting: get_me
2024-10-30 05:13:19,128 - DEBUG - This Updater is already initialized.
2024-10-30 05:13:19,129 - DEBUG - Entering: send_photo
2024-10-30 05:13:19,130 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:13:19,131 - DEBUG - send_request_headers.complete
2024-10-30 05:13:19,131 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:13:20,020 - DEBUG - send_request_body.complete
2024-10-30 05:13:20,020 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:13:21,057 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:13:20 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'1272'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:13:21,062 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/sendPhoto "HTTP/1.1 200 OK"
2024-10-30 05:13:21,063 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:13:21,064 - DEBUG - receive_response_body.complete
2024-10-30 05:13:21,065 - DEBUG - response_closed.started
2024-10-30 05:13:21,065 - DEBUG - response_closed.complete
2024-10-30 05:13:21,066 - DEBUG - Message(caption='From r/wifebutt: People on the pool deck didn’t get to see my entire wifebutt but you guys do!\nUpvotes: 3,143', channel_chat_created=False, chat=Chat(id=-1002490380283, title='Reddit_Pic_Stream', type=<ChatType.CHANNEL>), date=datetime.datetime(2024, 10, 30, 10, 13, 20, tzinfo=<UTC>), delete_chat_photo=False, group_chat_created=False, message_id=213, photo=(PhotoSize(file_id='AgACAgEAAyEGAASUcC_7AAORZyH6QP6KPlSQyXILymMhELCibnoAAkWtMRsZEBFF56UebkDt26cBAAMCAANzAAM2BA', file_size=1719, file_unique_id='AQADRa0xGxkQEUV4', height=90, width=67), PhotoSize(file_id='AgACAgEAAyEGAASUcC_7AAORZyH6QP6KPlSQyXILymMhELCibnoAAkWtMRsZEBFF56UebkDt26cBAAMCAANtAAM2BA', file_size=22638, file_unique_id='AQADRa0xGxkQEUVy', height=320, width=240), PhotoSize(file_id='AgACAgEAAyEGAASUcC_7AAORZyH6QP6KPlSQyXILymMhELCibnoAAkWtMRsZEBFF56UebkDt26cBAAMCAAN4AAM2BA', file_size=96806, file_unique_id='AQADRa0xGxkQEUV9', height=800, width=600), PhotoSize(file_id='AgACAgEAAyEGAASUcC_7AAORZyH6QP6KPlSQyXILymMhELCibnoAAkWtMRsZEBFF56UebkDt26cBAAMCAAN5AAM2BA', file_size=213750, file_unique_id='AQADRa0xGxkQEUV-', height=1280, width=960), PhotoSize(file_id='AgACAgEAAyEGAASUcC_7AAORZyH6QP6KPlSQyXILymMhELCibnoAAkWtMRsZEBFF56UebkDt26cBAAMCAAN3AAM2BA', file_size=704677, file_unique_id='AQADRa0xGxkQEUV8', height=2560, width=1920)), sender_chat=Chat(id=-1002490380283, title='Reddit_Pic_Stream', type=<ChatType.CHANNEL>), supergroup_chat_created=False)
2024-10-30 05:13:21,066 - DEBUG - Exiting: send_photo
2024-10-30 05:13:21,066 - DEBUG - close.started
2024-10-30 05:13:21,067 - DEBUG - close.complete
2024-10-30 05:13:21,067 - DEBUG - close.started
2024-10-30 05:13:21,067 - DEBUG - close.complete
2024-10-30 05:13:21,067 - DEBUG - This Bot is already shut down. Returning.
2024-10-30 05:13:21,067 - DEBUG - Shut down of Updater complete
2024-10-30 05:13:21,067 - INFO - Successfully sent photo to Telegram
2024-10-30 05:13:21,070 - ERROR - Error processing subreddit wifebutt: (sqlite3.OperationalError) attempt to write a readonly database
[SQL: INSERT INTO sent_post (post_id, subreddit_name, sent_at) VALUES (?, ?, ?)]
[parameters: ('1g4dx9i', 'wifebutt', '2024-10-30 10:13:21.068756')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2024-10-30 05:13:21,079 - ERROR - Job "send_to_telegram (trigger: interval[0:01:00], next run at: 2024-10-30 05:14:16 CDT)" raised an exception
Traceback (most recent call last):
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: attempt to write a readonly database

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/backend/app.py", line 265, in send_to_telegram
    subreddit_config['last_check'] = datetime.now().isoformat()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/backend/db_operations.py", line 100, in add_sent_post
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/scoping.py", line 597, in commit
    return self._proxied.commit()
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2028, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4352, in flush
    self._flush(objects)
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4487, in _flush
    with util.safe_reraise():
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4448, in _flush
    flush_context.execute()
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
    return meth(
           ^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) attempt to write a readonly database
[SQL: INSERT INTO sent_post (post_id, subreddit_name, sent_at) VALUES (?, ?, ?)]
[parameters: ('1g4dx9i', 'wifebutt', '2024-10-30 10:13:21.068756')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2024-10-30 05:13:39,070 - DEBUG - send_request_body.failed exception=WriteError(ClosedResourceError())
2024-10-30 05:13:39,071 - DEBUG - response_closed.started
2024-10-30 05:13:39,072 - DEBUG - response_closed.complete
2024-10-30 05:13:39,073 - DEBUG - This Application is already shut down. Returning.
2024-10-30 05:13:39,073 - ERROR - Failed to send video to Telegram: httpx.WriteError: 
2024-10-30 05:13:39,075 - ERROR - Error sending video post 1gelyz1: httpx.WriteError: 
2024-10-30 05:13:39,075 - INFO - Checking post: 1gejrnl - Score: 2575 - URL: https://v3.redgifs.com/watch/graydefensivepika
2024-10-30 05:13:39,083 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:13:39,113 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:13:39,114 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-quorum-acked-lsn': 'REDACTED'
    'x-ms-current-write-quorum': 'REDACTED'
    'x-ms-current-replica-set-size': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-cosmos-quorum-acked-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:13:38 GMT'
2024-10-30 05:13:39,114 - INFO - Post 1gejrnl is a duplicate, skipping
2024-10-30 05:13:39,114 - INFO - Checking post: 1gelw33 - Score: 2296 - URL: https://www.redgifs.com/watch/drydarkgraysable
2024-10-30 05:13:39,115 - INFO - Post 1gelw33 is a duplicate, skipping
2024-10-30 05:13:39,115 - INFO - Checking post: 1gevvp0 - Score: 1187 - URL: https://www.redgifs.com/watch/medicalplumhen
2024-10-30 05:13:39,115 - INFO - Post 1gevvp0 is a duplicate, skipping
2024-10-30 05:13:39,115 - INFO - Checking post: 1gesoj7 - Score: 749 - URL: https://www.redgifs.com/watch/lightgreytrickydragonfly
2024-10-30 05:13:39,115 - INFO - Post 1gesoj7 is a duplicate, skipping
2024-10-30 05:13:39,115 - INFO - Checking post: 1geuuqp - Score: 439 - URL: https://www.redgifs.com/watch/cheerfulbeigebagworm
2024-10-30 05:13:39,115 - INFO - Post 1geuuqp is a duplicate, skipping
2024-10-30 05:13:39,115 - INFO - Checking post: 1geakrb - Score: 391 - URL: https://www.redgifs.com/watch/illinformedthickgalapagoshawk
2024-10-30 05:13:39,116 - INFO - Post 1geakrb is a duplicate, skipping
2024-10-30 05:13:39,116 - INFO - Checking post: 1gerubz - Score: 365 - URL: https://v3.redgifs.com/watch/trickysquarepseudodynerusquadrisectus
2024-10-30 05:13:39,116 - INFO - Post 1gerubz is a duplicate, skipping
2024-10-30 05:13:39,116 - INFO - Checking post: 1getxhl - Score: 338 - URL: https://www.redgifs.com/watch/purpledemandingboaconstrictor
2024-10-30 05:13:39,116 - INFO - Post 1getxhl is a duplicate, skipping
2024-10-30 05:13:39,116 - INFO - Checking post: 1ge9gol - Score: 277 - URL: https://v3.redgifs.com/watch/circulardeeppinkamericanbulldog
2024-10-30 05:13:39,117 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:13:39,149 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:13:39,149 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:13:38 GMT'
2024-10-30 05:13:39,149 - INFO - Found video post: 1ge9gol
2024-10-30 05:13:39,150 - DEBUG - Starting new HTTPS connection (1): api.redgifs.com:443
2024-10-30 05:13:39,255 - DEBUG - https://api.redgifs.com:443 "GET /v2/gifs/circulardeeppinkamericanbulldog HTTP/11" 200 None
2024-10-30 05:13:39,258 - DEBUG - Starting new HTTPS connection (1): files.redgifs.com:443
2024-10-30 05:13:39,338 - DEBUG - https://files.redgifs.com:443 "GET /CircularDeeppinkAmericanbulldog.mp4 HTTP/11" 200 61415883
2024-10-30 05:13:40,757 - INFO - Successfully downloaded media to downloads/videos/1ge9gol_20241030_051339_fff8ab71.mp4
2024-10-30 05:13:40,759 - DEBUG - Using selector: KqueueSelector
2024-10-30 05:13:40,759 - INFO - Attempting to send video to Telegram - Path: downloads/videos/1ge9gol_20241030_051339_fff8ab71.mp4
2024-10-30 05:13:40,760 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:13:40,760 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:13:40,770 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:13:40,798 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:13:40,858 - DEBUG - Entering: get_me
2024-10-30 05:13:40,859 - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2024-10-30 05:13:40,982 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108ced7f0>
2024-10-30 05:13:40,982 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x108ee61d0> server_hostname='api.telegram.org' timeout=5.0
2024-10-30 05:13:41,111 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108a5eb10>
2024-10-30 05:13:41,111 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:13:41,111 - DEBUG - send_request_headers.complete
2024-10-30 05:13:41,112 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:13:41,112 - DEBUG - send_request_body.complete
2024-10-30 05:13:41,112 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:13:41,226 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:13:41 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'254'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:13:41,226 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/getMe "HTTP/1.1 200 OK"
2024-10-30 05:13:41,226 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:13:41,226 - DEBUG - receive_response_body.complete
2024-10-30 05:13:41,226 - DEBUG - response_closed.started
2024-10-30 05:13:41,227 - DEBUG - response_closed.complete
2024-10-30 05:13:41,227 - DEBUG - User(api_kwargs={'can_connect_to_business': False, 'has_main_web_app': False}, can_join_groups=True, can_read_all_group_messages=False, first_name='RedditBot', id=7867694458, is_bot=True, supports_inline_queries=False, username='RedditImage_bot')
2024-10-30 05:13:41,227 - DEBUG - Exiting: get_me
2024-10-30 05:13:41,227 - DEBUG - This Bot is already initialized.
2024-10-30 05:13:41,227 - DEBUG - Entering: send_video
2024-10-30 05:13:41,248 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:13:41,248 - DEBUG - send_request_headers.complete
2024-10-30 05:13:41,248 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:13:45,522 - DEBUG - send_request_body.complete
2024-10-30 05:13:45,523 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:13:45,523 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 413, b'Request Entity Too Large', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:13:41 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'70'), (b'Connection', b'close'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:13:45,523 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/sendVideo "HTTP/1.1 413 Request Entity Too Large"
2024-10-30 05:13:45,523 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:13:45,523 - DEBUG - receive_response_body.complete
2024-10-30 05:13:45,523 - DEBUG - response_closed.started
2024-10-30 05:13:45,523 - DEBUG - response_closed.complete
2024-10-30 05:13:45,523 - DEBUG - This Bot is already shut down. Returning.
2024-10-30 05:13:45,524 - DEBUG - Shut down of Updater complete
2024-10-30 05:13:45,524 - ERROR - Failed to send video to Telegram: Request Entity Too Large (413)
2024-10-30 05:13:45,524 - ERROR - Error sending video post 1ge9gol: Request Entity Too Large (413)
2024-10-30 05:13:45,524 - INFO - Checking post: 1ge98kx - Score: 258 - URL: https://www.redgifs.com/watch/frontspecificspittlebug
2024-10-30 05:13:45,525 - INFO - Post 1ge98kx is a duplicate, skipping
2024-10-30 05:13:45,525 - INFO - Checking post: 1geqscs - Score: 238 - URL: https://www.redgifs.com/watch/previousweequeensnake
2024-10-30 05:13:45,525 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:13:45,658 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:13:45,658 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:13:45 GMT'
2024-10-30 05:13:45,658 - INFO - Found video post: 1geqscs
2024-10-30 05:13:45,659 - DEBUG - Starting new HTTPS connection (1): api.redgifs.com:443
2024-10-30 05:13:45,762 - DEBUG - https://api.redgifs.com:443 "GET /v2/gifs/previousweequeensnake HTTP/11" 200 None
2024-10-30 05:13:45,764 - DEBUG - Starting new HTTPS connection (1): files.redgifs.com:443
2024-10-30 05:13:45,832 - DEBUG - https://files.redgifs.com:443 "GET /PreviousWeeQueensnake.mp4 HTTP/11" 200 50070206
2024-10-30 05:13:47,286 - INFO - Successfully downloaded media to downloads/videos/1geqscs_20241030_051345_2fd81a4e.mp4
2024-10-30 05:13:47,313 - DEBUG - Using selector: KqueueSelector
2024-10-30 05:13:47,313 - INFO - Attempting to send video to Telegram - Path: downloads/videos/1geqscs_20241030_051345_2fd81a4e.mp4
2024-10-30 05:13:47,315 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:13:47,316 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:13:47,335 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:13:47,335 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:13:47,341 - DEBUG - Entering: get_me
2024-10-30 05:13:47,342 - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2024-10-30 05:13:47,465 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108e63bc0>
2024-10-30 05:13:47,465 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x108f31c50> server_hostname='api.telegram.org' timeout=5.0
2024-10-30 05:13:47,599 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108e604a0>
2024-10-30 05:13:47,606 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:13:47,606 - DEBUG - send_request_headers.complete
2024-10-30 05:13:47,606 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:13:47,607 - DEBUG - send_request_body.complete
2024-10-30 05:13:47,607 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:13:47,741 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:13:47 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'254'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:13:47,742 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/getMe "HTTP/1.1 200 OK"
2024-10-30 05:13:47,742 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:13:47,743 - DEBUG - receive_response_body.complete
2024-10-30 05:13:47,743 - DEBUG - response_closed.started
2024-10-30 05:13:47,744 - DEBUG - response_closed.complete
2024-10-30 05:13:47,748 - DEBUG - User(api_kwargs={'can_connect_to_business': False, 'has_main_web_app': False}, can_join_groups=True, can_read_all_group_messages=False, first_name='RedditBot', id=7867694458, is_bot=True, supports_inline_queries=False, username='RedditImage_bot')
2024-10-30 05:13:47,748 - DEBUG - Exiting: get_me
2024-10-30 05:13:47,794 - DEBUG - This Bot is already initialized.
2024-10-30 05:13:47,798 - DEBUG - Entering: send_video
2024-10-30 05:13:47,841 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:13:47,845 - DEBUG - send_request_headers.complete
2024-10-30 05:13:47,849 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:13:52,426 - DEBUG - send_request_body.complete
2024-10-30 05:13:52,426 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:13:54,972 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:13:54 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'600'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:13:54,973 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/sendVideo "HTTP/1.1 200 OK"
2024-10-30 05:13:54,973 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:13:54,973 - DEBUG - receive_response_body.complete
2024-10-30 05:13:54,973 - DEBUG - response_closed.started
2024-10-30 05:13:54,973 - DEBUG - response_closed.complete
2024-10-30 05:13:54,974 - DEBUG - Message(caption='From r/girlsfinishingthejob: I love when he covers my titties with his hot cum 🥰\nUpvotes: 238', channel_chat_created=False, chat=Chat(id=-1002490380283, title='Reddit_Pic_Stream', type=<ChatType.CHANNEL>), date=datetime.datetime(2024, 10, 30, 10, 13, 54, tzinfo=<UTC>), delete_chat_photo=False, group_chat_created=False, message_id=214, sender_chat=Chat(id=-1002490380283, title='Reddit_Pic_Stream', type=<ChatType.CHANNEL>), supergroup_chat_created=False, video=Video(duration=0, file_id='BAACAgEAAyEGAASUcC_7AAPWZyIG4uDRW5YCfyk8gnpy_-MK_mMAAqgEAAIZEBFFolgSwRd_xz02BA', file_name='1geqscs_20241030_051345_2fd81a4e.mp4', file_size=50070206, file_unique_id='AgADqAQAAhkQEUU', height=320, mime_type='video/mp4', width=320))
2024-10-30 05:13:54,975 - DEBUG - Exiting: send_video
2024-10-30 05:13:54,975 - DEBUG - close.started
2024-10-30 05:13:54,975 - DEBUG - close.complete
2024-10-30 05:13:54,975 - DEBUG - This Bot is already shut down. Returning.
2024-10-30 05:13:54,975 - DEBUG - Shut down of Updater complete
2024-10-30 05:13:54,975 - INFO - Successfully sent video to Telegram
2024-10-30 05:13:54,979 - ERROR - Error processing subreddit girlsfinishingthejob: (sqlite3.OperationalError) attempt to write a readonly database
[SQL: INSERT INTO sent_post (post_id, subreddit_name, sent_at) VALUES (?, ?, ?)]
[parameters: ('1geqscs', 'girlsfinishingthejob', '2024-10-30 10:13:54.978285')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2024-10-30 05:13:54,980 - ERROR - Job "send_to_telegram (trigger: interval[0:01:00], next run at: 2024-10-30 05:14:16 CDT)" raised an exception
Traceback (most recent call last):
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: attempt to write a readonly database

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/backend/app.py", line 265, in send_to_telegram
    subreddit_config['last_check'] = datetime.now().isoformat()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/backend/db_operations.py", line 100, in add_sent_post
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/scoping.py", line 597, in commit
    return self._proxied.commit()
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2028, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4352, in flush
    self._flush(objects)
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4487, in _flush
    with util.safe_reraise():
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4448, in _flush
    flush_context.execute()
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
    return meth(
           ^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) attempt to write a readonly database
[SQL: INSERT INTO sent_post (post_id, subreddit_name, sent_at) VALUES (?, ?, ?)]
[parameters: ('1geqscs', 'girlsfinishingthejob', '2024-10-30 10:13:54.978285')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2024-10-30 05:14:16,972 - DEBUG - Looking for jobs to run
2024-10-30 05:14:16,974 - DEBUG - Next wakeup is due at 2024-10-30 05:15:16.969826-05:00 (in 59.995348 seconds)
2024-10-30 05:14:16,974 - INFO - Running job "send_to_telegram (trigger: interval[0:01:00], next run at: 2024-10-30 05:15:16 CDT)" (scheduled at 2024-10-30 05:14:16.969826-05:00)
2024-10-30 05:14:16,974 - INFO - Running job "send_to_telegram (trigger: interval[0:01:00], next run at: 2024-10-30 05:15:16 CDT)" (scheduled at 2024-10-30 05:14:16.970029-05:00)
2024-10-30 05:14:16,975 - INFO - Processing subreddit: girlsfinishingthejob
2024-10-30 05:14:16,975 - INFO - Processing subreddit: wifebutt
2024-10-30 05:14:16,975 - INFO - Fetching top posts of the day
2024-10-30 05:14:16,975 - INFO - Fetching top posts of the month
2024-10-30 05:14:16,976 - DEBUG - Fetching: GET https://oauth.reddit.com/r/girlsfinishingthejob/top at 1730283256.976522
2024-10-30 05:14:16,976 - DEBUG - Fetching: GET https://oauth.reddit.com/r/wifebutt/top at 1730283256.976743
2024-10-30 05:14:16,976 - DEBUG - Data: None
2024-10-30 05:14:16,976 - DEBUG - Data: None
2024-10-30 05:14:16,977 - DEBUG - Params: {'limit': 50, 'raw_json': 1, 't': 'day'}
2024-10-30 05:14:16,977 - DEBUG - Params: {'limit': 50, 'raw_json': 1, 't': 'month'}
2024-10-30 05:14:17,324 - DEBUG - https://oauth.reddit.com:443 "GET /r/girlsfinishingthejob/top?t=day&limit=50&raw_json=1 HTTP/11" 200 24090
2024-10-30 05:14:17,336 - DEBUG - Response: 200 (24090 bytes) (rst-0:rem-149.0:used-1 ratelimit) at 1730283257.335993
2024-10-30 05:14:17,381 - INFO - Checking post: 1gelyz1 - Score: 7091 - URL: https://www.redgifs.com/watch/uttersvelteamphibian
2024-10-30 05:14:17,384 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:14:17,414 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:14:17,415 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:14:16 GMT'
2024-10-30 05:14:17,415 - INFO - Found video post: 1gelyz1
2024-10-30 05:14:17,416 - DEBUG - Starting new HTTPS connection (1): api.redgifs.com:443
2024-10-30 05:14:17,513 - DEBUG - https://api.redgifs.com:443 "GET /v2/gifs/uttersvelteamphibian HTTP/11" 200 None
2024-10-30 05:14:17,516 - DEBUG - Starting new HTTPS connection (1): files.redgifs.com:443
2024-10-30 05:14:17,581 - DEBUG - https://files.redgifs.com:443 "GET /UtterSvelteAmphibian.mp4 HTTP/11" 200 42980012
2024-10-30 05:14:18,188 - DEBUG - https://oauth.reddit.com:443 "GET /r/wifebutt/top?t=month&limit=50&raw_json=1 HTTP/11" 200 49228
2024-10-30 05:14:18,258 - DEBUG - Response: 200 (49228 bytes) (rst-0:rem-148.0:used-2 ratelimit) at 1730283258.2587361
2024-10-30 05:14:18,264 - INFO - Checking post: 1g9w053 - Score: 5356 - URL: https://www.reddit.com/gallery/1g9w053
2024-10-30 05:14:18,265 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:14:18,332 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:14:18,332 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:14:17 GMT'
2024-10-30 05:14:18,332 - INFO - Post 1g9w053 is not an image or video post, skipping
2024-10-30 05:14:18,333 - INFO - Checking post: 1fv4cfc - Score: 4579 - URL: https://www.reddit.com/gallery/1fv4cfc
2024-10-30 05:14:18,333 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:14:18,411 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:14:18,412 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:14:17 GMT'
2024-10-30 05:14:18,412 - INFO - Post 1fv4cfc is not an image or video post, skipping
2024-10-30 05:14:18,413 - INFO - Checking post: 1ganrp0 - Score: 4209 - URL: https://i.redd.it/ezatz8645lwd1.jpeg
2024-10-30 05:14:18,414 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:14:18,485 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:14:18,485 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:14:17 GMT'
2024-10-30 05:14:18,486 - INFO - Post 1ganrp0 is a duplicate, skipping
2024-10-30 05:14:18,486 - INFO - Checking post: 1gdrcjt - Score: 4061 - URL: https://www.redgifs.com/watch/unrealisticdefinitebarebirdbat
2024-10-30 05:14:18,486 - INFO - Post 1gdrcjt is a duplicate, skipping
2024-10-30 05:14:18,486 - INFO - Checking post: 1g30sx1 - Score: 3959 - URL: https://www.redgifs.com/watch/hardwarlikesunbittern
2024-10-30 05:14:18,487 - INFO - Post 1g30sx1 is a duplicate, skipping
2024-10-30 05:14:18,487 - INFO - Checking post: 1fs7839 - Score: 3860 - URL: https://www.reddit.com/gallery/1fs7839
2024-10-30 05:14:18,487 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:14:18,559 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:14:18,559 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:14:17 GMT'
2024-10-30 05:14:18,560 - INFO - Post 1fs7839 is not an image or video post, skipping
2024-10-30 05:14:18,560 - INFO - Checking post: 1g2rse9 - Score: 3770 - URL: https://i.redd.it/gzxs1aeshjud1.png
2024-10-30 05:14:18,560 - INFO - Post 1g2rse9 is a duplicate, skipping
2024-10-30 05:14:18,560 - INFO - Checking post: 1ge9loz - Score: 3720 - URL: https://www.redgifs.com/watch/deadlygregariouswoodchuck
2024-10-30 05:14:18,560 - INFO - Post 1ge9loz is a duplicate, skipping
2024-10-30 05:14:18,561 - INFO - Checking post: 1g0e966 - Score: 3643 - URL: https://www.reddit.com/gallery/1g0e966
2024-10-30 05:14:18,561 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:14:18,624 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:14:18,625 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:14:17 GMT'
2024-10-30 05:14:18,625 - INFO - Post 1g0e966 is not an image or video post, skipping
2024-10-30 05:14:18,626 - INFO - Checking post: 1gckgcy - Score: 3390 - URL: https://i.redd.it/njd0mbyjl3xd1.jpeg
2024-10-30 05:14:18,629 - INFO - Post 1gckgcy is a duplicate, skipping
2024-10-30 05:14:18,629 - INFO - Checking post: 1fznoil - Score: 3338 - URL: https://i.redd.it/eruk3694dptd1.jpeg
2024-10-30 05:14:18,632 - INFO - Post 1fznoil is a duplicate, skipping
2024-10-30 05:14:18,632 - INFO - Checking post: 1g3dsj7 - Score: 3185 - URL: https://i.redd.it/cg9oigznmpud1.jpeg
2024-10-30 05:14:18,633 - INFO - Post 1g3dsj7 is a duplicate, skipping
2024-10-30 05:14:18,633 - INFO - Checking post: 1g4dx9i - Score: 3140 - URL: https://i.redd.it/5kv3c8f3lyud1.jpeg
2024-10-30 05:14:18,634 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:14:18,696 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:14:18,696 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-quorum-acked-lsn': 'REDACTED'
    'x-ms-current-write-quorum': 'REDACTED'
    'x-ms-current-replica-set-size': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-cosmos-quorum-acked-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:14:17 GMT'
2024-10-30 05:14:18,697 - INFO - Found image post: 1g4dx9i with URL: https://i.redd.it/5kv3c8f3lyud1.jpeg
2024-10-30 05:14:18,700 - DEBUG - Starting new HTTPS connection (1): i.redd.it:443
2024-10-30 05:14:18,938 - DEBUG - https://i.redd.it:443 "GET /5kv3c8f3lyud1.jpeg HTTP/11" 200 2365518
2024-10-30 05:14:19,056 - INFO - Successfully downloaded media to downloads/videos/1gelyz1_20241030_051417_ba5c8ead.mp4
2024-10-30 05:14:19,057 - DEBUG - Using selector: KqueueSelector
2024-10-30 05:14:19,057 - INFO - Attempting to send video to Telegram - Path: downloads/videos/1gelyz1_20241030_051417_ba5c8ead.mp4
2024-10-30 05:14:19,058 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:14:19,058 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:14:19,065 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:14:19,066 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:14:19,073 - DEBUG - Entering: get_me
2024-10-30 05:14:19,073 - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2024-10-30 05:14:19,150 - INFO - Successfully downloaded media to downloads/pics/1g4dx9i_20241030_051418_d2c0c929.jpeg
2024-10-30 05:14:19,151 - DEBUG - Using selector: KqueueSelector
2024-10-30 05:14:19,151 - INFO - Attempting to send photo to Telegram - Path: downloads/pics/1g4dx9i_20241030_051418_d2c0c929.jpeg
2024-10-30 05:14:19,151 - DEBUG - Entering: get_me
2024-10-30 05:14:19,151 - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2024-10-30 05:14:19,195 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108f2aab0>
2024-10-30 05:14:19,195 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x108d81650> server_hostname='api.telegram.org' timeout=5.0
2024-10-30 05:14:19,269 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108cee6f0>
2024-10-30 05:14:19,269 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x108d81650> server_hostname='api.telegram.org' timeout=5.0
2024-10-30 05:14:19,326 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108a5e870>
2024-10-30 05:14:19,327 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:14:19,328 - DEBUG - send_request_headers.complete
2024-10-30 05:14:19,328 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:14:19,328 - DEBUG - send_request_body.complete
2024-10-30 05:14:19,328 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:14:19,414 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108d1b8c0>
2024-10-30 05:14:19,414 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:14:19,415 - DEBUG - send_request_headers.complete
2024-10-30 05:14:19,415 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:14:19,415 - DEBUG - send_request_body.complete
2024-10-30 05:14:19,415 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:14:19,490 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:14:19 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'254'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:14:19,491 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/getMe "HTTP/1.1 200 OK"
2024-10-30 05:14:19,491 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:14:19,491 - DEBUG - receive_response_body.complete
2024-10-30 05:14:19,491 - DEBUG - response_closed.started
2024-10-30 05:14:19,491 - DEBUG - response_closed.complete
2024-10-30 05:14:19,491 - DEBUG - User(api_kwargs={'can_connect_to_business': False, 'has_main_web_app': False}, can_join_groups=True, can_read_all_group_messages=False, first_name='RedditBot', id=7867694458, is_bot=True, supports_inline_queries=False, username='RedditImage_bot')
2024-10-30 05:14:19,491 - DEBUG - Exiting: get_me
2024-10-30 05:14:19,491 - DEBUG - This Bot is already initialized.
2024-10-30 05:14:19,491 - DEBUG - Entering: send_video
2024-10-30 05:14:19,507 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:14:19,509 - DEBUG - send_request_headers.complete
2024-10-30 05:14:19,509 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:14:19,552 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:14:19 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'254'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:14:19,552 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/getMe "HTTP/1.1 200 OK"
2024-10-30 05:14:19,552 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:14:19,552 - DEBUG - receive_response_body.complete
2024-10-30 05:14:19,552 - DEBUG - response_closed.started
2024-10-30 05:14:19,552 - DEBUG - response_closed.complete
2024-10-30 05:14:19,553 - DEBUG - User(api_kwargs={'can_connect_to_business': False, 'has_main_web_app': False}, can_join_groups=True, can_read_all_group_messages=False, first_name='RedditBot', id=7867694458, is_bot=True, supports_inline_queries=False, username='RedditImage_bot')
2024-10-30 05:14:19,553 - DEBUG - Exiting: get_me
2024-10-30 05:14:19,553 - DEBUG - This Updater is already initialized.
2024-10-30 05:14:19,553 - DEBUG - Entering: send_photo
2024-10-30 05:14:19,554 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:14:19,554 - DEBUG - send_request_headers.complete
2024-10-30 05:14:19,554 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:14:20,503 - DEBUG - send_request_body.complete
2024-10-30 05:14:20,503 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:14:20,909 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:14:20 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'1272'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:14:20,910 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/sendPhoto "HTTP/1.1 200 OK"
2024-10-30 05:14:20,910 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:14:20,910 - DEBUG - receive_response_body.complete
2024-10-30 05:14:20,910 - DEBUG - response_closed.started
2024-10-30 05:14:20,910 - DEBUG - response_closed.complete
2024-10-30 05:14:20,911 - DEBUG - Message(caption='From r/wifebutt: People on the pool deck didn’t get to see my entire wifebutt but you guys do!\nUpvotes: 3,140', channel_chat_created=False, chat=Chat(id=-1002490380283, title='Reddit_Pic_Stream', type=<ChatType.CHANNEL>), date=datetime.datetime(2024, 10, 30, 10, 14, 20, tzinfo=<UTC>), delete_chat_photo=False, group_chat_created=False, message_id=215, photo=(PhotoSize(file_id='AgACAgEAAyEGAASUcC_7AAORZyH6QP6KPlSQyXILymMhELCibnoAAkWtMRsZEBFF56UebkDt26cBAAMCAANzAAM2BA', file_size=1719, file_unique_id='AQADRa0xGxkQEUV4', height=90, width=67), PhotoSize(file_id='AgACAgEAAyEGAASUcC_7AAORZyH6QP6KPlSQyXILymMhELCibnoAAkWtMRsZEBFF56UebkDt26cBAAMCAANtAAM2BA', file_size=22638, file_unique_id='AQADRa0xGxkQEUVy', height=320, width=240), PhotoSize(file_id='AgACAgEAAyEGAASUcC_7AAORZyH6QP6KPlSQyXILymMhELCibnoAAkWtMRsZEBFF56UebkDt26cBAAMCAAN4AAM2BA', file_size=96806, file_unique_id='AQADRa0xGxkQEUV9', height=800, width=600), PhotoSize(file_id='AgACAgEAAyEGAASUcC_7AAORZyH6QP6KPlSQyXILymMhELCibnoAAkWtMRsZEBFF56UebkDt26cBAAMCAAN5AAM2BA', file_size=213750, file_unique_id='AQADRa0xGxkQEUV-', height=1280, width=960), PhotoSize(file_id='AgACAgEAAyEGAASUcC_7AAORZyH6QP6KPlSQyXILymMhELCibnoAAkWtMRsZEBFF56UebkDt26cBAAMCAAN3AAM2BA', file_size=704677, file_unique_id='AQADRa0xGxkQEUV8', height=2560, width=1920)), sender_chat=Chat(id=-1002490380283, title='Reddit_Pic_Stream', type=<ChatType.CHANNEL>), supergroup_chat_created=False)
2024-10-30 05:14:20,912 - DEBUG - Exiting: send_photo
2024-10-30 05:14:20,912 - DEBUG - close.started
2024-10-30 05:14:20,912 - DEBUG - close.complete
2024-10-30 05:14:20,912 - DEBUG - close.started
2024-10-30 05:14:20,912 - DEBUG - close.complete
2024-10-30 05:14:20,913 - DEBUG - This Bot is already shut down. Returning.
2024-10-30 05:14:20,913 - DEBUG - Shut down of Updater complete
2024-10-30 05:14:20,913 - INFO - Successfully sent photo to Telegram
2024-10-30 05:14:20,916 - ERROR - Error processing subreddit wifebutt: (sqlite3.OperationalError) attempt to write a readonly database
[SQL: INSERT INTO sent_post (post_id, subreddit_name, sent_at) VALUES (?, ?, ?)]
[parameters: ('1g4dx9i', 'wifebutt', '2024-10-30 10:14:20.915489')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2024-10-30 05:14:20,917 - ERROR - Job "send_to_telegram (trigger: interval[0:01:00], next run at: 2024-10-30 05:15:16 CDT)" raised an exception
Traceback (most recent call last):
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: attempt to write a readonly database

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/backend/app.py", line 265, in send_to_telegram
    subreddit_config['last_check'] = datetime.now().isoformat()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/backend/db_operations.py", line 100, in add_sent_post
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/scoping.py", line 597, in commit
    return self._proxied.commit()
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2028, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4352, in flush
    self._flush(objects)
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4487, in _flush
    with util.safe_reraise():
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4448, in _flush
    flush_context.execute()
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
    return meth(
           ^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) attempt to write a readonly database
[SQL: INSERT INTO sent_post (post_id, subreddit_name, sent_at) VALUES (?, ?, ?)]
[parameters: ('1g4dx9i', 'wifebutt', '2024-10-30 10:14:20.915489')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2024-10-30 05:14:39,519 - DEBUG - send_request_body.failed exception=WriteError(ClosedResourceError())
2024-10-30 05:14:39,520 - DEBUG - response_closed.started
2024-10-30 05:14:39,520 - DEBUG - response_closed.complete
2024-10-30 05:14:39,521 - DEBUG - This Application is already shut down. Returning.
2024-10-30 05:14:39,522 - ERROR - Failed to send video to Telegram: httpx.WriteError: 
2024-10-30 05:14:39,523 - ERROR - Error sending video post 1gelyz1: httpx.WriteError: 
2024-10-30 05:14:39,523 - INFO - Checking post: 1gejrnl - Score: 2574 - URL: https://v3.redgifs.com/watch/graydefensivepika
2024-10-30 05:14:39,528 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:14:39,560 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:14:39,561 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:14:39 GMT'
2024-10-30 05:14:39,561 - INFO - Post 1gejrnl is a duplicate, skipping
2024-10-30 05:14:39,561 - INFO - Checking post: 1gelw33 - Score: 2303 - URL: https://www.redgifs.com/watch/drydarkgraysable
2024-10-30 05:14:39,561 - INFO - Post 1gelw33 is a duplicate, skipping
2024-10-30 05:14:39,561 - INFO - Checking post: 1gevvp0 - Score: 1186 - URL: https://www.redgifs.com/watch/medicalplumhen
2024-10-30 05:14:39,562 - INFO - Post 1gevvp0 is a duplicate, skipping
2024-10-30 05:14:39,562 - INFO - Checking post: 1gesoj7 - Score: 753 - URL: https://www.redgifs.com/watch/lightgreytrickydragonfly
2024-10-30 05:14:39,562 - INFO - Post 1gesoj7 is a duplicate, skipping
2024-10-30 05:14:39,562 - INFO - Checking post: 1geuuqp - Score: 440 - URL: https://www.redgifs.com/watch/cheerfulbeigebagworm
2024-10-30 05:14:39,562 - INFO - Post 1geuuqp is a duplicate, skipping
2024-10-30 05:14:39,562 - INFO - Checking post: 1geakrb - Score: 393 - URL: https://www.redgifs.com/watch/illinformedthickgalapagoshawk
2024-10-30 05:14:39,562 - INFO - Post 1geakrb is a duplicate, skipping
2024-10-30 05:14:39,562 - INFO - Checking post: 1gerubz - Score: 367 - URL: https://v3.redgifs.com/watch/trickysquarepseudodynerusquadrisectus
2024-10-30 05:14:39,562 - INFO - Post 1gerubz is a duplicate, skipping
2024-10-30 05:14:39,563 - INFO - Checking post: 1getxhl - Score: 344 - URL: https://www.redgifs.com/watch/purpledemandingboaconstrictor
2024-10-30 05:14:39,563 - INFO - Post 1getxhl is a duplicate, skipping
2024-10-30 05:14:39,563 - INFO - Checking post: 1ge9gol - Score: 277 - URL: https://v3.redgifs.com/watch/circulardeeppinkamericanbulldog
2024-10-30 05:14:39,563 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:14:39,596 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:14:39,597 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:14:39 GMT'
2024-10-30 05:14:39,598 - INFO - Found video post: 1ge9gol
2024-10-30 05:14:39,599 - DEBUG - Starting new HTTPS connection (1): api.redgifs.com:443
2024-10-30 05:14:39,709 - DEBUG - https://api.redgifs.com:443 "GET /v2/gifs/circulardeeppinkamericanbulldog HTTP/11" 200 None
2024-10-30 05:14:39,711 - DEBUG - Starting new HTTPS connection (1): files.redgifs.com:443
2024-10-30 05:14:39,778 - DEBUG - https://files.redgifs.com:443 "GET /CircularDeeppinkAmericanbulldog.mp4 HTTP/11" 200 61415883
2024-10-30 05:14:41,624 - INFO - Successfully downloaded media to downloads/videos/1ge9gol_20241030_051439_fff8ab71.mp4
2024-10-30 05:14:41,625 - DEBUG - Using selector: KqueueSelector
2024-10-30 05:14:41,626 - INFO - Attempting to send video to Telegram - Path: downloads/videos/1ge9gol_20241030_051439_fff8ab71.mp4
2024-10-30 05:14:41,626 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:14:41,627 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:14:41,635 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:14:41,635 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:14:41,649 - DEBUG - Entering: get_me
2024-10-30 05:14:41,652 - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2024-10-30 05:14:41,780 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108d7b7d0>
2024-10-30 05:14:41,780 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x108a4cbd0> server_hostname='api.telegram.org' timeout=5.0
2024-10-30 05:14:41,920 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108d7b410>
2024-10-30 05:14:41,920 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:14:41,921 - DEBUG - send_request_headers.complete
2024-10-30 05:14:41,921 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:14:41,921 - DEBUG - send_request_body.complete
2024-10-30 05:14:41,921 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:14:42,042 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:14:42 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'254'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:14:42,042 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/getMe "HTTP/1.1 200 OK"
2024-10-30 05:14:42,043 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:14:42,043 - DEBUG - receive_response_body.complete
2024-10-30 05:14:42,043 - DEBUG - response_closed.started
2024-10-30 05:14:42,043 - DEBUG - response_closed.complete
2024-10-30 05:14:42,043 - DEBUG - User(api_kwargs={'can_connect_to_business': False, 'has_main_web_app': False}, can_join_groups=True, can_read_all_group_messages=False, first_name='RedditBot', id=7867694458, is_bot=True, supports_inline_queries=False, username='RedditImage_bot')
2024-10-30 05:14:42,043 - DEBUG - Exiting: get_me
2024-10-30 05:14:42,043 - DEBUG - This Bot is already initialized.
2024-10-30 05:14:42,043 - DEBUG - Entering: send_video
2024-10-30 05:14:42,066 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:14:42,067 - DEBUG - send_request_headers.complete
2024-10-30 05:14:42,067 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:14:47,026 - DEBUG - send_request_body.complete
2024-10-30 05:14:47,027 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:14:47,027 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 413, b'Request Entity Too Large', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:14:42 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'70'), (b'Connection', b'close'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:14:47,028 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/sendVideo "HTTP/1.1 413 Request Entity Too Large"
2024-10-30 05:14:47,028 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:14:47,028 - DEBUG - receive_response_body.complete
2024-10-30 05:14:47,028 - DEBUG - response_closed.started
2024-10-30 05:14:47,028 - DEBUG - response_closed.complete
2024-10-30 05:14:47,029 - DEBUG - This Bot is already shut down. Returning.
2024-10-30 05:14:47,029 - DEBUG - Shut down of Updater complete
2024-10-30 05:14:47,029 - ERROR - Failed to send video to Telegram: Request Entity Too Large (413)
2024-10-30 05:14:47,032 - ERROR - Error sending video post 1ge9gol: Request Entity Too Large (413)
2024-10-30 05:14:47,032 - INFO - Checking post: 1ge98kx - Score: 260 - URL: https://www.redgifs.com/watch/frontspecificspittlebug
2024-10-30 05:14:47,035 - INFO - Post 1ge98kx is a duplicate, skipping
2024-10-30 05:14:47,035 - INFO - Checking post: 1geqscs - Score: 240 - URL: https://www.redgifs.com/watch/previousweequeensnake
2024-10-30 05:14:47,037 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:14:47,162 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:14:47,162 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:14:46 GMT'
2024-10-30 05:14:47,163 - INFO - Found video post: 1geqscs
2024-10-30 05:14:47,164 - DEBUG - Starting new HTTPS connection (1): api.redgifs.com:443
2024-10-30 05:14:47,265 - DEBUG - https://api.redgifs.com:443 "GET /v2/gifs/previousweequeensnake HTTP/11" 200 None
2024-10-30 05:14:47,268 - DEBUG - Starting new HTTPS connection (1): files.redgifs.com:443
2024-10-30 05:14:47,339 - DEBUG - https://files.redgifs.com:443 "GET /PreviousWeeQueensnake.mp4 HTTP/11" 200 50070206
2024-10-30 05:14:48,775 - INFO - Successfully downloaded media to downloads/videos/1geqscs_20241030_051447_2fd81a4e.mp4
2024-10-30 05:14:48,777 - DEBUG - Using selector: KqueueSelector
2024-10-30 05:14:48,777 - INFO - Attempting to send video to Telegram - Path: downloads/videos/1geqscs_20241030_051447_2fd81a4e.mp4
2024-10-30 05:14:48,777 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:14:48,778 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:14:48,785 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:14:48,786 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:14:48,792 - DEBUG - Entering: get_me
2024-10-30 05:14:48,792 - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2024-10-30 05:14:48,915 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108d9f2c0>
2024-10-30 05:14:48,915 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x108ee5ed0> server_hostname='api.telegram.org' timeout=5.0
2024-10-30 05:14:49,044 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108d9ee70>
2024-10-30 05:14:49,044 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:14:49,044 - DEBUG - send_request_headers.complete
2024-10-30 05:14:49,044 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:14:49,044 - DEBUG - send_request_body.complete
2024-10-30 05:14:49,044 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:14:49,167 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:14:49 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'254'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:14:49,167 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/getMe "HTTP/1.1 200 OK"
2024-10-30 05:14:49,168 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:14:49,168 - DEBUG - receive_response_body.complete
2024-10-30 05:14:49,168 - DEBUG - response_closed.started
2024-10-30 05:14:49,168 - DEBUG - response_closed.complete
2024-10-30 05:14:49,168 - DEBUG - User(api_kwargs={'can_connect_to_business': False, 'has_main_web_app': False}, can_join_groups=True, can_read_all_group_messages=False, first_name='RedditBot', id=7867694458, is_bot=True, supports_inline_queries=False, username='RedditImage_bot')
2024-10-30 05:14:49,168 - DEBUG - Exiting: get_me
2024-10-30 05:14:49,168 - DEBUG - This Bot is already initialized.
2024-10-30 05:14:49,168 - DEBUG - Entering: send_video
2024-10-30 05:14:49,180 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:14:49,180 - DEBUG - send_request_headers.complete
2024-10-30 05:14:49,180 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:14:53,334 - DEBUG - send_request_body.complete
2024-10-30 05:14:53,336 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:14:56,554 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:14:56 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'600'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:14:56,555 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/sendVideo "HTTP/1.1 200 OK"
2024-10-30 05:14:56,556 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:14:56,556 - DEBUG - receive_response_body.complete
2024-10-30 05:14:56,556 - DEBUG - response_closed.started
2024-10-30 05:14:56,556 - DEBUG - response_closed.complete
2024-10-30 05:14:56,557 - DEBUG - Message(caption='From r/girlsfinishingthejob: I love when he covers my titties with his hot cum 🥰\nUpvotes: 240', channel_chat_created=False, chat=Chat(id=-1002490380283, title='Reddit_Pic_Stream', type=<ChatType.CHANNEL>), date=datetime.datetime(2024, 10, 30, 10, 14, 56, tzinfo=<UTC>), delete_chat_photo=False, group_chat_created=False, message_id=216, sender_chat=Chat(id=-1002490380283, title='Reddit_Pic_Stream', type=<ChatType.CHANNEL>), supergroup_chat_created=False, video=Video(duration=0, file_id='BAACAgEAAyEGAASUcC_7AAPYZyIHII8Rj4iN3PHg4H1cDXnddQYAAqkEAAIZEBFFsNv2hUrYP-82BA', file_name='1geqscs_20241030_051447_2fd81a4e.mp4', file_size=50070206, file_unique_id='AgADqQQAAhkQEUU', height=320, mime_type='video/mp4', width=320))
2024-10-30 05:14:56,558 - DEBUG - Exiting: send_video
2024-10-30 05:14:56,558 - DEBUG - close.started
2024-10-30 05:14:56,558 - DEBUG - close.complete
2024-10-30 05:14:56,558 - DEBUG - This Bot is already shut down. Returning.
2024-10-30 05:14:56,558 - DEBUG - Shut down of Updater complete
2024-10-30 05:14:56,558 - INFO - Successfully sent video to Telegram
2024-10-30 05:14:56,562 - ERROR - Error processing subreddit girlsfinishingthejob: (sqlite3.OperationalError) attempt to write a readonly database
[SQL: INSERT INTO sent_post (post_id, subreddit_name, sent_at) VALUES (?, ?, ?)]
[parameters: ('1geqscs', 'girlsfinishingthejob', '2024-10-30 10:14:56.561617')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2024-10-30 05:14:56,563 - ERROR - Job "send_to_telegram (trigger: interval[0:01:00], next run at: 2024-10-30 05:15:16 CDT)" raised an exception
Traceback (most recent call last):
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: attempt to write a readonly database

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/backend/app.py", line 265, in send_to_telegram
    subreddit_config['last_check'] = datetime.now().isoformat()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/backend/db_operations.py", line 100, in add_sent_post
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/scoping.py", line 597, in commit
    return self._proxied.commit()
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2028, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4352, in flush
    self._flush(objects)
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4487, in _flush
    with util.safe_reraise():
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4448, in _flush
    flush_context.execute()
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
    return meth(
           ^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) attempt to write a readonly database
[SQL: INSERT INTO sent_post (post_id, subreddit_name, sent_at) VALUES (?, ?, ?)]
[parameters: ('1geqscs', 'girlsfinishingthejob', '2024-10-30 10:14:56.561617')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2024-10-30 05:15:08,783 - INFO -  * Restarting with stat
2024-10-30 05:15:16,974 - DEBUG - Looking for jobs to run
2024-10-30 05:15:16,976 - DEBUG - Next wakeup is due at 2024-10-30 05:16:16.969826-05:00 (in 59.993796 seconds)
2024-10-30 05:15:16,976 - INFO - Running job "send_to_telegram (trigger: interval[0:01:00], next run at: 2024-10-30 05:16:16 CDT)" (scheduled at 2024-10-30 05:15:16.969826-05:00)
2024-10-30 05:15:16,976 - INFO - Running job "send_to_telegram (trigger: interval[0:01:00], next run at: 2024-10-30 05:16:16 CDT)" (scheduled at 2024-10-30 05:15:16.970029-05:00)
2024-10-30 05:15:16,976 - INFO - Processing subreddit: girlsfinishingthejob
2024-10-30 05:15:16,977 - INFO - Processing subreddit: wifebutt
2024-10-30 05:15:16,977 - INFO - Fetching top posts of the day
2024-10-30 05:15:16,977 - INFO - Fetching top posts of the month
2024-10-30 05:15:16,978 - DEBUG - Fetching: GET https://oauth.reddit.com/r/girlsfinishingthejob/top at 1730283316.9780018
2024-10-30 05:15:16,978 - DEBUG - Fetching: GET https://oauth.reddit.com/r/wifebutt/top at 1730283316.9782112
2024-10-30 05:15:16,978 - DEBUG - Data: None
2024-10-30 05:15:16,978 - DEBUG - Data: None
2024-10-30 05:15:16,978 - DEBUG - Params: {'limit': 50, 'raw_json': 1, 't': 'day'}
2024-10-30 05:15:16,978 - DEBUG - Params: {'limit': 50, 'raw_json': 1, 't': 'month'}
2024-10-30 05:15:17,289 - DEBUG - https://oauth.reddit.com:443 "GET /r/girlsfinishingthejob/top?t=day&limit=50&raw_json=1 HTTP/11" 200 24127
2024-10-30 05:15:17,292 - DEBUG - Response: 200 (24127 bytes) (rst-0:rem-148.0:used-2 ratelimit) at 1730283317.292681
2024-10-30 05:15:17,359 - INFO - Checking post: 1gelyz1 - Score: 7085 - URL: https://www.redgifs.com/watch/uttersvelteamphibian
2024-10-30 05:15:17,364 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:15:17,399 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:15:17,399 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:15:16 GMT'
2024-10-30 05:15:17,400 - INFO - Found video post: 1gelyz1
2024-10-30 05:15:17,401 - DEBUG - Starting new HTTPS connection (1): api.redgifs.com:443
2024-10-30 05:15:17,497 - DEBUG - https://api.redgifs.com:443 "GET /v2/gifs/uttersvelteamphibian HTTP/11" 200 None
2024-10-30 05:15:17,500 - DEBUG - Starting new HTTPS connection (1): files.redgifs.com:443
2024-10-30 05:15:17,578 - DEBUG - https://files.redgifs.com:443 "GET /UtterSvelteAmphibian.mp4 HTTP/11" 200 42980012
2024-10-30 05:15:17,887 - DEBUG - https://oauth.reddit.com:443 "GET /r/wifebutt/top?t=month&limit=50&raw_json=1 HTTP/11" 200 49255
2024-10-30 05:15:17,921 - DEBUG - Response: 200 (49255 bytes) (rst-0:rem-149.0:used-1 ratelimit) at 1730283317.921215
2024-10-30 05:15:17,926 - INFO - Checking post: 1g9w053 - Score: 5356 - URL: https://www.reddit.com/gallery/1g9w053
2024-10-30 05:15:17,927 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:15:17,958 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:15:17,958 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:15:17 GMT'
2024-10-30 05:15:17,959 - INFO - Post 1g9w053 is not an image or video post, skipping
2024-10-30 05:15:17,959 - INFO - Checking post: 1fv4cfc - Score: 4575 - URL: https://www.reddit.com/gallery/1fv4cfc
2024-10-30 05:15:17,960 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:15:17,989 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:15:17,989 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:15:17 GMT'
2024-10-30 05:15:17,989 - INFO - Post 1fv4cfc is not an image or video post, skipping
2024-10-30 05:15:17,989 - INFO - Checking post: 1ganrp0 - Score: 4212 - URL: https://i.redd.it/ezatz8645lwd1.jpeg
2024-10-30 05:15:17,990 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:15:18,020 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:15:18,021 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:15:17 GMT'
2024-10-30 05:15:18,021 - INFO - Post 1ganrp0 is a duplicate, skipping
2024-10-30 05:15:18,021 - INFO - Checking post: 1gdrcjt - Score: 4067 - URL: https://www.redgifs.com/watch/unrealisticdefinitebarebirdbat
2024-10-30 05:15:18,022 - INFO - Post 1gdrcjt is a duplicate, skipping
2024-10-30 05:15:18,022 - INFO - Checking post: 1g30sx1 - Score: 3963 - URL: https://www.redgifs.com/watch/hardwarlikesunbittern
2024-10-30 05:15:18,023 - INFO - Post 1g30sx1 is a duplicate, skipping
2024-10-30 05:15:18,023 - INFO - Checking post: 1fs7839 - Score: 3857 - URL: https://www.reddit.com/gallery/1fs7839
2024-10-30 05:15:18,023 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:15:18,054 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:15:18,054 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:15:17 GMT'
2024-10-30 05:15:18,054 - INFO - Post 1fs7839 is not an image or video post, skipping
2024-10-30 05:15:18,054 - INFO - Checking post: 1g2rse9 - Score: 3769 - URL: https://i.redd.it/gzxs1aeshjud1.png
2024-10-30 05:15:18,055 - INFO - Post 1g2rse9 is a duplicate, skipping
2024-10-30 05:15:18,055 - INFO - Checking post: 1ge9loz - Score: 3728 - URL: https://www.redgifs.com/watch/deadlygregariouswoodchuck
2024-10-30 05:15:18,055 - INFO - Post 1ge9loz is a duplicate, skipping
2024-10-30 05:15:18,055 - INFO - Checking post: 1g0e966 - Score: 3632 - URL: https://www.reddit.com/gallery/1g0e966
2024-10-30 05:15:18,055 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:15:18,088 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:15:18,090 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:15:17 GMT'
2024-10-30 05:15:18,090 - INFO - Post 1g0e966 is not an image or video post, skipping
2024-10-30 05:15:18,090 - INFO - Checking post: 1gckgcy - Score: 3395 - URL: https://i.redd.it/njd0mbyjl3xd1.jpeg
2024-10-30 05:15:18,090 - INFO - Post 1gckgcy is a duplicate, skipping
2024-10-30 05:15:18,090 - INFO - Checking post: 1fznoil - Score: 3335 - URL: https://i.redd.it/eruk3694dptd1.jpeg
2024-10-30 05:15:18,091 - INFO - Post 1fznoil is a duplicate, skipping
2024-10-30 05:15:18,091 - INFO - Checking post: 1g3dsj7 - Score: 3181 - URL: https://i.redd.it/cg9oigznmpud1.jpeg
2024-10-30 05:15:18,091 - INFO - Post 1g3dsj7 is a duplicate, skipping
2024-10-30 05:15:18,091 - INFO - Checking post: 1g4dx9i - Score: 3136 - URL: https://i.redd.it/5kv3c8f3lyud1.jpeg
2024-10-30 05:15:18,091 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:15:18,125 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:15:18,125 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:15:17 GMT'
2024-10-30 05:15:18,125 - INFO - Found image post: 1g4dx9i with URL: https://i.redd.it/5kv3c8f3lyud1.jpeg
2024-10-30 05:15:18,126 - DEBUG - Starting new HTTPS connection (1): i.redd.it:443
2024-10-30 05:15:18,257 - DEBUG - https://i.redd.it:443 "GET /5kv3c8f3lyud1.jpeg HTTP/11" 200 2365518
2024-10-30 05:15:18,541 - INFO - Successfully downloaded media to downloads/pics/1g4dx9i_20241030_051518_d2c0c929.jpeg
2024-10-30 05:15:18,543 - DEBUG - Using selector: KqueueSelector
2024-10-30 05:15:18,543 - INFO - Attempting to send photo to Telegram - Path: downloads/pics/1g4dx9i_20241030_051518_d2c0c929.jpeg
2024-10-30 05:15:18,544 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:15:18,544 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:15:18,553 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:15:18,554 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:15:18,562 - DEBUG - Entering: get_me
2024-10-30 05:15:18,563 - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2024-10-30 05:15:18,695 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108d9fcb0>
2024-10-30 05:15:18,695 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x108e54cd0> server_hostname='api.telegram.org' timeout=5.0
2024-10-30 05:15:18,844 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108dd3b60>
2024-10-30 05:15:18,844 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:15:18,845 - DEBUG - send_request_headers.complete
2024-10-30 05:15:18,845 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:15:18,845 - DEBUG - send_request_body.complete
2024-10-30 05:15:18,845 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:15:18,978 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:15:18 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'254'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:15:18,979 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/getMe "HTTP/1.1 200 OK"
2024-10-30 05:15:18,979 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:15:18,979 - DEBUG - receive_response_body.complete
2024-10-30 05:15:18,979 - DEBUG - response_closed.started
2024-10-30 05:15:18,979 - DEBUG - response_closed.complete
2024-10-30 05:15:18,980 - DEBUG - User(api_kwargs={'can_connect_to_business': False, 'has_main_web_app': False}, can_join_groups=True, can_read_all_group_messages=False, first_name='RedditBot', id=7867694458, is_bot=True, supports_inline_queries=False, username='RedditImage_bot')
2024-10-30 05:15:18,980 - DEBUG - Exiting: get_me
2024-10-30 05:15:18,980 - DEBUG - This Bot is already initialized.
2024-10-30 05:15:18,980 - DEBUG - Entering: send_photo
2024-10-30 05:15:18,981 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:15:18,981 - DEBUG - send_request_headers.complete
2024-10-30 05:15:18,981 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:15:19,188 - INFO - Successfully downloaded media to downloads/videos/1gelyz1_20241030_051517_ba5c8ead.mp4
2024-10-30 05:15:19,190 - DEBUG - Using selector: KqueueSelector
2024-10-30 05:15:19,190 - INFO - Attempting to send video to Telegram - Path: downloads/videos/1gelyz1_20241030_051517_ba5c8ead.mp4
2024-10-30 05:15:19,190 - DEBUG - This Application is already initialized.
2024-10-30 05:15:19,190 - DEBUG - Entering: send_video
2024-10-30 05:15:19,200 - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2024-10-30 05:15:19,329 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108d9d880>
2024-10-30 05:15:19,329 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x108e54cd0> server_hostname='api.telegram.org' timeout=5.0
2024-10-30 05:15:19,464 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108d9c110>
2024-10-30 05:15:19,464 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:15:19,465 - DEBUG - send_request_headers.complete
2024-10-30 05:15:19,465 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:15:19,892 - DEBUG - send_request_body.complete
2024-10-30 05:15:19,893 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:15:20,289 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:15:20 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'1272'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:15:20,290 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/sendPhoto "HTTP/1.1 200 OK"
2024-10-30 05:15:20,290 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:15:20,290 - DEBUG - receive_response_body.complete
2024-10-30 05:15:20,290 - DEBUG - response_closed.started
2024-10-30 05:15:20,290 - DEBUG - response_closed.complete
2024-10-30 05:15:20,291 - DEBUG - Message(caption='From r/wifebutt: People on the pool deck didn’t get to see my entire wifebutt but you guys do!\nUpvotes: 3,136', channel_chat_created=False, chat=Chat(id=-1002490380283, title='Reddit_Pic_Stream', type=<ChatType.CHANNEL>), date=datetime.datetime(2024, 10, 30, 10, 15, 20, tzinfo=<UTC>), delete_chat_photo=False, group_chat_created=False, message_id=217, photo=(PhotoSize(file_id='AgACAgEAAyEGAASUcC_7AAORZyH6QP6KPlSQyXILymMhELCibnoAAkWtMRsZEBFF56UebkDt26cBAAMCAANzAAM2BA', file_size=1719, file_unique_id='AQADRa0xGxkQEUV4', height=90, width=67), PhotoSize(file_id='AgACAgEAAyEGAASUcC_7AAORZyH6QP6KPlSQyXILymMhELCibnoAAkWtMRsZEBFF56UebkDt26cBAAMCAANtAAM2BA', file_size=22638, file_unique_id='AQADRa0xGxkQEUVy', height=320, width=240), PhotoSize(file_id='AgACAgEAAyEGAASUcC_7AAORZyH6QP6KPlSQyXILymMhELCibnoAAkWtMRsZEBFF56UebkDt26cBAAMCAAN4AAM2BA', file_size=96806, file_unique_id='AQADRa0xGxkQEUV9', height=800, width=600), PhotoSize(file_id='AgACAgEAAyEGAASUcC_7AAORZyH6QP6KPlSQyXILymMhELCibnoAAkWtMRsZEBFF56UebkDt26cBAAMCAAN5AAM2BA', file_size=213750, file_unique_id='AQADRa0xGxkQEUV-', height=1280, width=960), PhotoSize(file_id='AgACAgEAAyEGAASUcC_7AAORZyH6QP6KPlSQyXILymMhELCibnoAAkWtMRsZEBFF56UebkDt26cBAAMCAAN3AAM2BA', file_size=704677, file_unique_id='AQADRa0xGxkQEUV8', height=2560, width=1920)), sender_chat=Chat(id=-1002490380283, title='Reddit_Pic_Stream', type=<ChatType.CHANNEL>), supergroup_chat_created=False)
2024-10-30 05:15:20,291 - DEBUG - Exiting: send_photo
2024-10-30 05:15:20,291 - DEBUG - close.started
2024-10-30 05:15:20,291 - DEBUG - close.complete
2024-10-30 05:15:20,291 - DEBUG - close.started
2024-10-30 05:15:20,292 - DEBUG - close.complete
2024-10-30 05:15:20,292 - DEBUG - This Bot is already shut down. Returning.
2024-10-30 05:15:20,292 - DEBUG - Shut down of Updater complete
2024-10-30 05:15:20,292 - INFO - Successfully sent photo to Telegram
2024-10-30 05:15:20,294 - ERROR - Error processing subreddit wifebutt: (sqlite3.OperationalError) attempt to write a readonly database
[SQL: INSERT INTO sent_post (post_id, subreddit_name, sent_at) VALUES (?, ?, ?)]
[parameters: ('1g4dx9i', 'wifebutt', '2024-10-30 10:15:20.293604')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2024-10-30 05:15:20,296 - ERROR - Job "send_to_telegram (trigger: interval[0:01:00], next run at: 2024-10-30 05:16:16 CDT)" raised an exception
Traceback (most recent call last):
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: attempt to write a readonly database

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/backend/app.py", line 265, in send_to_telegram
    # Update last_check in Cosmos DB
                ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/backend/db_operations.py", line 100, in add_sent_post
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/scoping.py", line 597, in commit
    return self._proxied.commit()
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2028, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4352, in flush
    self._flush(objects)
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4487, in _flush
    with util.safe_reraise():
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4448, in _flush
    flush_context.execute()
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
    return meth(
           ^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) attempt to write a readonly database
[SQL: INSERT INTO sent_post (post_id, subreddit_name, sent_at) VALUES (?, ?, ?)]
[parameters: ('1g4dx9i', 'wifebutt', '2024-10-30 10:15:20.293604')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2024-10-30 05:15:39,494 - DEBUG - send_request_body.failed exception=WriteError(ClosedResourceError())
2024-10-30 05:15:39,495 - DEBUG - response_closed.started
2024-10-30 05:15:39,496 - DEBUG - response_closed.complete
2024-10-30 05:15:39,496 - DEBUG - This Application is already shut down. Returning.
2024-10-30 05:15:39,496 - ERROR - Failed to send video to Telegram: httpx.WriteError: 
2024-10-30 05:15:39,498 - ERROR - Error sending video post 1gelyz1: httpx.WriteError: 
2024-10-30 05:15:39,498 - INFO - Checking post: 1gejrnl - Score: 2583 - URL: https://v3.redgifs.com/watch/graydefensivepika
2024-10-30 05:15:39,503 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:15:39,537 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:15:39,538 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:15:39 GMT'
2024-10-30 05:15:39,538 - INFO - Post 1gejrnl is a duplicate, skipping
2024-10-30 05:15:39,538 - INFO - Checking post: 1gelw33 - Score: 2298 - URL: https://www.redgifs.com/watch/drydarkgraysable
2024-10-30 05:15:39,539 - INFO - Post 1gelw33 is a duplicate, skipping
2024-10-30 05:15:39,539 - INFO - Checking post: 1gevvp0 - Score: 1183 - URL: https://www.redgifs.com/watch/medicalplumhen
2024-10-30 05:15:39,539 - INFO - Post 1gevvp0 is a duplicate, skipping
2024-10-30 05:15:39,539 - INFO - Checking post: 1gesoj7 - Score: 750 - URL: https://www.redgifs.com/watch/lightgreytrickydragonfly
2024-10-30 05:15:39,539 - INFO - Post 1gesoj7 is a duplicate, skipping
2024-10-30 05:15:39,539 - INFO - Checking post: 1geuuqp - Score: 437 - URL: https://www.redgifs.com/watch/cheerfulbeigebagworm
2024-10-30 05:15:39,539 - INFO - Post 1geuuqp is a duplicate, skipping
2024-10-30 05:15:39,539 - INFO - Checking post: 1geakrb - Score: 397 - URL: https://www.redgifs.com/watch/illinformedthickgalapagoshawk
2024-10-30 05:15:39,540 - INFO - Post 1geakrb is a duplicate, skipping
2024-10-30 05:15:39,540 - INFO - Checking post: 1gerubz - Score: 361 - URL: https://v3.redgifs.com/watch/trickysquarepseudodynerusquadrisectus
2024-10-30 05:15:39,540 - INFO - Post 1gerubz is a duplicate, skipping
2024-10-30 05:15:39,540 - INFO - Checking post: 1getxhl - Score: 335 - URL: https://www.redgifs.com/watch/purpledemandingboaconstrictor
2024-10-30 05:15:39,540 - INFO - Post 1getxhl is a duplicate, skipping
2024-10-30 05:15:39,540 - INFO - Checking post: 1ge9gol - Score: 278 - URL: https://v3.redgifs.com/watch/circulardeeppinkamericanbulldog
2024-10-30 05:15:39,540 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:15:39,571 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:15:39,571 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:15:39 GMT'
2024-10-30 05:15:39,572 - INFO - Found video post: 1ge9gol
2024-10-30 05:15:39,572 - DEBUG - Starting new HTTPS connection (1): api.redgifs.com:443
2024-10-30 05:15:39,671 - DEBUG - https://api.redgifs.com:443 "GET /v2/gifs/circulardeeppinkamericanbulldog HTTP/11" 200 None
2024-10-30 05:15:39,673 - DEBUG - Starting new HTTPS connection (1): files.redgifs.com:443
2024-10-30 05:15:39,744 - DEBUG - https://files.redgifs.com:443 "GET /CircularDeeppinkAmericanbulldog.mp4 HTTP/11" 200 61415883
2024-10-30 05:15:41,500 - INFO - Successfully downloaded media to downloads/videos/1ge9gol_20241030_051539_fff8ab71.mp4
2024-10-30 05:15:41,502 - DEBUG - Using selector: KqueueSelector
2024-10-30 05:15:41,502 - INFO - Attempting to send video to Telegram - Path: downloads/videos/1ge9gol_20241030_051539_fff8ab71.mp4
2024-10-30 05:15:41,502 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:15:41,503 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:15:41,511 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:15:41,511 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:15:41,519 - DEBUG - Entering: get_me
2024-10-30 05:15:41,519 - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2024-10-30 05:15:41,643 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108cec260>
2024-10-30 05:15:41,644 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x108aca2d0> server_hostname='api.telegram.org' timeout=5.0
2024-10-30 05:15:41,788 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108ced520>
2024-10-30 05:15:41,788 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:15:41,789 - DEBUG - send_request_headers.complete
2024-10-30 05:15:41,789 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:15:41,789 - DEBUG - send_request_body.complete
2024-10-30 05:15:41,789 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:15:41,907 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:15:41 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'254'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:15:41,908 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/getMe "HTTP/1.1 200 OK"
2024-10-30 05:15:41,908 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:15:41,908 - DEBUG - receive_response_body.complete
2024-10-30 05:15:41,908 - DEBUG - response_closed.started
2024-10-30 05:15:41,908 - DEBUG - response_closed.complete
2024-10-30 05:15:41,909 - DEBUG - User(api_kwargs={'can_connect_to_business': False, 'has_main_web_app': False}, can_join_groups=True, can_read_all_group_messages=False, first_name='RedditBot', id=7867694458, is_bot=True, supports_inline_queries=False, username='RedditImage_bot')
2024-10-30 05:15:41,909 - DEBUG - Exiting: get_me
2024-10-30 05:15:41,909 - DEBUG - This Bot is already initialized.
2024-10-30 05:15:41,909 - DEBUG - Entering: send_video
2024-10-30 05:15:41,926 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:15:41,927 - DEBUG - send_request_headers.complete
2024-10-30 05:15:41,927 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:15:46,703 - DEBUG - send_request_body.complete
2024-10-30 05:15:46,704 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:15:46,704 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 413, b'Request Entity Too Large', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:15:42 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'70'), (b'Connection', b'close'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:15:46,704 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/sendVideo "HTTP/1.1 413 Request Entity Too Large"
2024-10-30 05:15:46,704 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:15:46,705 - DEBUG - receive_response_body.complete
2024-10-30 05:15:46,705 - DEBUG - response_closed.started
2024-10-30 05:15:46,705 - DEBUG - response_closed.complete
2024-10-30 05:15:46,705 - DEBUG - This Bot is already shut down. Returning.
2024-10-30 05:15:46,705 - DEBUG - Shut down of Updater complete
2024-10-30 05:15:46,705 - ERROR - Failed to send video to Telegram: Request Entity Too Large (413)
2024-10-30 05:15:46,706 - ERROR - Error sending video post 1ge9gol: Request Entity Too Large (413)
2024-10-30 05:15:46,706 - INFO - Checking post: 1ge98kx - Score: 254 - URL: https://www.redgifs.com/watch/frontspecificspittlebug
2024-10-30 05:15:46,706 - INFO - Post 1ge98kx is a duplicate, skipping
2024-10-30 05:15:46,706 - INFO - Checking post: 1geqscs - Score: 235 - URL: https://www.redgifs.com/watch/previousweequeensnake
2024-10-30 05:15:46,707 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:15:46,847 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:15:46,847 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:15:46 GMT'
2024-10-30 05:15:46,848 - INFO - Found video post: 1geqscs
2024-10-30 05:15:46,849 - DEBUG - Starting new HTTPS connection (1): api.redgifs.com:443
2024-10-30 05:15:46,949 - DEBUG - https://api.redgifs.com:443 "GET /v2/gifs/previousweequeensnake HTTP/11" 200 None
2024-10-30 05:15:46,951 - DEBUG - Starting new HTTPS connection (1): files.redgifs.com:443
2024-10-30 05:15:47,031 - DEBUG - https://files.redgifs.com:443 "GET /PreviousWeeQueensnake.mp4 HTTP/11" 200 50070206
2024-10-30 05:15:48,524 - INFO - Successfully downloaded media to downloads/videos/1geqscs_20241030_051546_2fd81a4e.mp4
2024-10-30 05:15:48,527 - DEBUG - Using selector: KqueueSelector
2024-10-30 05:15:48,527 - INFO - Attempting to send video to Telegram - Path: downloads/videos/1geqscs_20241030_051546_2fd81a4e.mp4
2024-10-30 05:15:48,528 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:15:48,528 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:15:48,536 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:15:48,537 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:15:48,544 - DEBUG - Entering: get_me
2024-10-30 05:15:48,544 - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2024-10-30 05:15:48,666 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108f359d0>
2024-10-30 05:15:48,667 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x108e9d5d0> server_hostname='api.telegram.org' timeout=5.0
2024-10-30 05:15:48,798 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108f355e0>
2024-10-30 05:15:48,799 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:15:48,800 - DEBUG - send_request_headers.complete
2024-10-30 05:15:48,800 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:15:48,800 - DEBUG - send_request_body.complete
2024-10-30 05:15:48,800 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:15:48,933 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:15:48 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'254'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:15:48,934 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/getMe "HTTP/1.1 200 OK"
2024-10-30 05:15:48,934 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:15:48,934 - DEBUG - receive_response_body.complete
2024-10-30 05:15:48,934 - DEBUG - response_closed.started
2024-10-30 05:15:48,934 - DEBUG - response_closed.complete
2024-10-30 05:15:48,935 - DEBUG - User(api_kwargs={'can_connect_to_business': False, 'has_main_web_app': False}, can_join_groups=True, can_read_all_group_messages=False, first_name='RedditBot', id=7867694458, is_bot=True, supports_inline_queries=False, username='RedditImage_bot')
2024-10-30 05:15:48,935 - DEBUG - Exiting: get_me
2024-10-30 05:15:48,935 - DEBUG - This Bot is already initialized.
2024-10-30 05:15:48,935 - DEBUG - Entering: send_video
2024-10-30 05:15:48,946 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:15:48,947 - DEBUG - send_request_headers.complete
2024-10-30 05:15:48,947 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:15:53,373 - DEBUG - send_request_body.complete
2024-10-30 05:15:53,375 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:15:56,265 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:15:56 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'600'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:15:56,266 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/sendVideo "HTTP/1.1 200 OK"
2024-10-30 05:15:56,266 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:15:56,266 - DEBUG - receive_response_body.complete
2024-10-30 05:15:56,266 - DEBUG - response_closed.started
2024-10-30 05:15:56,266 - DEBUG - response_closed.complete
2024-10-30 05:15:56,268 - DEBUG - Message(caption='From r/girlsfinishingthejob: I love when he covers my titties with his hot cum 🥰\nUpvotes: 235', channel_chat_created=False, chat=Chat(id=-1002490380283, title='Reddit_Pic_Stream', type=<ChatType.CHANNEL>), date=datetime.datetime(2024, 10, 30, 10, 15, 56, tzinfo=<UTC>), delete_chat_photo=False, group_chat_created=False, message_id=218, sender_chat=Chat(id=-1002490380283, title='Reddit_Pic_Stream', type=<ChatType.CHANNEL>), supergroup_chat_created=False, video=Video(duration=0, file_id='BAACAgEAAyEGAASUcC_7AAPaZyIHXKqmkIUlGoDS2z6qt1ZIFM8AAqoEAAIZEBFFCUT8UJypP202BA', file_name='1geqscs_20241030_051546_2fd81a4e.mp4', file_size=50070206, file_unique_id='AgADqgQAAhkQEUU', height=320, mime_type='video/mp4', width=320))
2024-10-30 05:15:56,268 - DEBUG - Exiting: send_video
2024-10-30 05:15:56,269 - DEBUG - close.started
2024-10-30 05:15:56,269 - DEBUG - close.complete
2024-10-30 05:15:56,269 - DEBUG - This Bot is already shut down. Returning.
2024-10-30 05:15:56,269 - DEBUG - Shut down of Updater complete
2024-10-30 05:15:56,269 - INFO - Successfully sent video to Telegram
2024-10-30 05:15:56,273 - ERROR - Error processing subreddit girlsfinishingthejob: (sqlite3.OperationalError) attempt to write a readonly database
[SQL: INSERT INTO sent_post (post_id, subreddit_name, sent_at) VALUES (?, ?, ?)]
[parameters: ('1geqscs', 'girlsfinishingthejob', '2024-10-30 10:15:56.272597')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2024-10-30 05:15:56,275 - ERROR - Job "send_to_telegram (trigger: interval[0:01:00], next run at: 2024-10-30 05:16:16 CDT)" raised an exception
Traceback (most recent call last):
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: attempt to write a readonly database

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/backend/app.py", line 265, in send_to_telegram
    # Update last_check in Cosmos DB
                ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/backend/db_operations.py", line 100, in add_sent_post
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/scoping.py", line 597, in commit
    return self._proxied.commit()
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2028, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4352, in flush
    self._flush(objects)
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4487, in _flush
    with util.safe_reraise():
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4448, in _flush
    flush_context.execute()
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
    return meth(
           ^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) attempt to write a readonly database
[SQL: INSERT INTO sent_post (post_id, subreddit_name, sent_at) VALUES (?, ?, ?)]
[parameters: ('1geqscs', 'girlsfinishingthejob', '2024-10-30 10:15:56.272597')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2024-10-30 05:16:16,974 - DEBUG - Looking for jobs to run
2024-10-30 05:16:16,976 - DEBUG - Next wakeup is due at 2024-10-30 05:17:16.969826-05:00 (in 59.993629 seconds)
2024-10-30 05:16:16,976 - INFO - Running job "send_to_telegram (trigger: interval[0:01:00], next run at: 2024-10-30 05:17:16 CDT)" (scheduled at 2024-10-30 05:16:16.969826-05:00)
2024-10-30 05:16:16,976 - INFO - Running job "send_to_telegram (trigger: interval[0:01:00], next run at: 2024-10-30 05:17:16 CDT)" (scheduled at 2024-10-30 05:16:16.970029-05:00)
2024-10-30 05:16:16,977 - INFO - Processing subreddit: girlsfinishingthejob
2024-10-30 05:16:16,977 - INFO - Processing subreddit: wifebutt
2024-10-30 05:16:16,977 - INFO - Fetching top posts of the day
2024-10-30 05:16:16,977 - INFO - Fetching top posts of the month
2024-10-30 05:16:16,979 - DEBUG - Fetching: GET https://oauth.reddit.com/r/girlsfinishingthejob/top at 1730283376.979112
2024-10-30 05:16:16,979 - DEBUG - Fetching: GET https://oauth.reddit.com/r/wifebutt/top at 1730283376.979368
2024-10-30 05:16:16,979 - DEBUG - Data: None
2024-10-30 05:16:16,979 - DEBUG - Data: None
2024-10-30 05:16:16,979 - DEBUG - Params: {'limit': 50, 'raw_json': 1, 't': 'day'}
2024-10-30 05:16:16,979 - DEBUG - Params: {'limit': 50, 'raw_json': 1, 't': 'month'}
2024-10-30 05:16:17,290 - DEBUG - https://oauth.reddit.com:443 "GET /r/girlsfinishingthejob/top?t=day&limit=50&raw_json=1 HTTP/11" 200 24235
2024-10-30 05:16:17,292 - DEBUG - Response: 200 (24235 bytes) (rst-0:rem-148.0:used-2 ratelimit) at 1730283377.292041
2024-10-30 05:16:17,359 - INFO - Checking post: 1gelyz1 - Score: 7091 - URL: https://www.redgifs.com/watch/uttersvelteamphibian
2024-10-30 05:16:17,363 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:16:17,404 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:16:17,404 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:16:16 GMT'
2024-10-30 05:16:17,404 - INFO - Found video post: 1gelyz1
2024-10-30 05:16:17,405 - DEBUG - Starting new HTTPS connection (1): api.redgifs.com:443
2024-10-30 05:16:17,548 - DEBUG - https://api.redgifs.com:443 "GET /v2/gifs/uttersvelteamphibian HTTP/11" 200 None
2024-10-30 05:16:17,550 - DEBUG - Starting new HTTPS connection (1): files.redgifs.com:443
2024-10-30 05:16:17,621 - DEBUG - https://files.redgifs.com:443 "GET /UtterSvelteAmphibian.mp4 HTTP/11" 200 42980012
2024-10-30 05:16:18,144 - DEBUG - https://oauth.reddit.com:443 "GET /r/wifebutt/top?t=month&limit=50&raw_json=1 HTTP/11" 200 49240
2024-10-30 05:16:18,167 - DEBUG - Response: 200 (49240 bytes) (rst-0:rem-149.0:used-1 ratelimit) at 1730283378.167617
2024-10-30 05:16:18,172 - INFO - Checking post: 1g9w053 - Score: 5352 - URL: https://www.reddit.com/gallery/1g9w053
2024-10-30 05:16:18,173 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:16:18,249 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:16:18,250 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:16:17 GMT'
2024-10-30 05:16:18,250 - INFO - Post 1g9w053 is not an image or video post, skipping
2024-10-30 05:16:18,250 - INFO - Checking post: 1fv4cfc - Score: 4575 - URL: https://www.reddit.com/gallery/1fv4cfc
2024-10-30 05:16:18,251 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:16:18,328 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:16:18,328 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:16:17 GMT'
2024-10-30 05:16:18,328 - INFO - Post 1fv4cfc is not an image or video post, skipping
2024-10-30 05:16:18,328 - INFO - Checking post: 1ganrp0 - Score: 4204 - URL: https://i.redd.it/ezatz8645lwd1.jpeg
2024-10-30 05:16:18,329 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:16:18,405 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:16:18,407 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:16:17 GMT'
2024-10-30 05:16:18,407 - INFO - Post 1ganrp0 is a duplicate, skipping
2024-10-30 05:16:18,407 - INFO - Checking post: 1gdrcjt - Score: 4060 - URL: https://www.redgifs.com/watch/unrealisticdefinitebarebirdbat
2024-10-30 05:16:18,408 - INFO - Post 1gdrcjt is a duplicate, skipping
2024-10-30 05:16:18,408 - INFO - Checking post: 1g30sx1 - Score: 3965 - URL: https://www.redgifs.com/watch/hardwarlikesunbittern
2024-10-30 05:16:18,408 - INFO - Post 1g30sx1 is a duplicate, skipping
2024-10-30 05:16:18,408 - INFO - Checking post: 1fs7839 - Score: 3858 - URL: https://www.reddit.com/gallery/1fs7839
2024-10-30 05:16:18,408 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:16:18,504 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:16:18,505 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:16:17 GMT'
2024-10-30 05:16:18,505 - INFO - Post 1fs7839 is not an image or video post, skipping
2024-10-30 05:16:18,505 - INFO - Checking post: 1g2rse9 - Score: 3763 - URL: https://i.redd.it/gzxs1aeshjud1.png
2024-10-30 05:16:18,505 - INFO - Post 1g2rse9 is a duplicate, skipping
2024-10-30 05:16:18,505 - INFO - Checking post: 1ge9loz - Score: 3728 - URL: https://www.redgifs.com/watch/deadlygregariouswoodchuck
2024-10-30 05:16:18,506 - INFO - Post 1ge9loz is a duplicate, skipping
2024-10-30 05:16:18,506 - INFO - Checking post: 1g0e966 - Score: 3635 - URL: https://www.reddit.com/gallery/1g0e966
2024-10-30 05:16:18,506 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:16:18,599 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:16:18,600 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:16:17 GMT'
2024-10-30 05:16:18,600 - INFO - Post 1g0e966 is not an image or video post, skipping
2024-10-30 05:16:18,600 - INFO - Checking post: 1gckgcy - Score: 3399 - URL: https://i.redd.it/njd0mbyjl3xd1.jpeg
2024-10-30 05:16:18,600 - INFO - Post 1gckgcy is a duplicate, skipping
2024-10-30 05:16:18,600 - INFO - Checking post: 1fznoil - Score: 3339 - URL: https://i.redd.it/eruk3694dptd1.jpeg
2024-10-30 05:16:18,601 - INFO - Post 1fznoil is a duplicate, skipping
2024-10-30 05:16:18,601 - INFO - Checking post: 1g3dsj7 - Score: 3178 - URL: https://i.redd.it/cg9oigznmpud1.jpeg
2024-10-30 05:16:18,601 - INFO - Post 1g3dsj7 is a duplicate, skipping
2024-10-30 05:16:18,601 - INFO - Checking post: 1g4dx9i - Score: 3139 - URL: https://i.redd.it/5kv3c8f3lyud1.jpeg
2024-10-30 05:16:18,601 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:16:18,695 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:16:18,695 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-quorum-acked-lsn': 'REDACTED'
    'x-ms-current-write-quorum': 'REDACTED'
    'x-ms-current-replica-set-size': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-cosmos-quorum-acked-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:16:17 GMT'
2024-10-30 05:16:18,695 - INFO - Found image post: 1g4dx9i with URL: https://i.redd.it/5kv3c8f3lyud1.jpeg
2024-10-30 05:16:18,697 - DEBUG - Starting new HTTPS connection (1): i.redd.it:443
2024-10-30 05:16:18,906 - DEBUG - https://i.redd.it:443 "GET /5kv3c8f3lyud1.jpeg HTTP/11" 200 2365518
2024-10-30 05:16:19,294 - INFO - Successfully downloaded media to downloads/videos/1gelyz1_20241030_051617_ba5c8ead.mp4
2024-10-30 05:16:19,295 - DEBUG - Using selector: KqueueSelector
2024-10-30 05:16:19,296 - INFO - Attempting to send video to Telegram - Path: downloads/videos/1gelyz1_20241030_051617_ba5c8ead.mp4
2024-10-30 05:16:19,297 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:16:19,298 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:16:19,307 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:16:19,307 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:16:19,315 - DEBUG - Entering: get_me
2024-10-30 05:16:19,316 - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2024-10-30 05:16:19,438 - INFO - Successfully downloaded media to downloads/pics/1g4dx9i_20241030_051618_d2c0c929.jpeg
2024-10-30 05:16:19,439 - DEBUG - Using selector: KqueueSelector
2024-10-30 05:16:19,440 - INFO - Attempting to send photo to Telegram - Path: downloads/pics/1g4dx9i_20241030_051618_d2c0c929.jpeg
2024-10-30 05:16:19,440 - DEBUG - Entering: get_me
2024-10-30 05:16:19,440 - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2024-10-30 05:16:19,442 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108e61ca0>
2024-10-30 05:16:19,442 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x108cf52d0> server_hostname='api.telegram.org' timeout=5.0
2024-10-30 05:16:19,581 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108e60350>
2024-10-30 05:16:19,582 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x108cf52d0> server_hostname='api.telegram.org' timeout=5.0
2024-10-30 05:16:19,599 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108dd1070>
2024-10-30 05:16:19,599 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:16:19,600 - DEBUG - send_request_headers.complete
2024-10-30 05:16:19,600 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:16:19,600 - DEBUG - send_request_body.complete
2024-10-30 05:16:19,600 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:16:19,715 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:16:19 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'254'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:16:19,715 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/getMe "HTTP/1.1 200 OK"
2024-10-30 05:16:19,715 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:16:19,715 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108ed1430>
2024-10-30 05:16:19,715 - DEBUG - receive_response_body.complete
2024-10-30 05:16:19,716 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:16:19,716 - DEBUG - response_closed.started
2024-10-30 05:16:19,716 - DEBUG - send_request_headers.complete
2024-10-30 05:16:19,716 - DEBUG - response_closed.complete
2024-10-30 05:16:19,716 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:16:19,716 - DEBUG - User(api_kwargs={'can_connect_to_business': False, 'has_main_web_app': False}, can_join_groups=True, can_read_all_group_messages=False, first_name='RedditBot', id=7867694458, is_bot=True, supports_inline_queries=False, username='RedditImage_bot')
2024-10-30 05:16:19,717 - DEBUG - send_request_body.complete
2024-10-30 05:16:19,717 - DEBUG - Exiting: get_me
2024-10-30 05:16:19,717 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:16:19,717 - DEBUG - This Bot is already initialized.
2024-10-30 05:16:19,717 - DEBUG - Entering: send_video
2024-10-30 05:16:19,725 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:16:19,725 - DEBUG - send_request_headers.complete
2024-10-30 05:16:19,725 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:16:19,832 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:16:19 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'254'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:16:19,832 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/getMe "HTTP/1.1 200 OK"
2024-10-30 05:16:19,832 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:16:19,833 - DEBUG - receive_response_body.complete
2024-10-30 05:16:19,833 - DEBUG - response_closed.started
2024-10-30 05:16:19,833 - DEBUG - response_closed.complete
2024-10-30 05:16:19,834 - DEBUG - User(api_kwargs={'can_connect_to_business': False, 'has_main_web_app': False}, can_join_groups=True, can_read_all_group_messages=False, first_name='RedditBot', id=7867694458, is_bot=True, supports_inline_queries=False, username='RedditImage_bot')
2024-10-30 05:16:19,834 - DEBUG - Exiting: get_me
2024-10-30 05:16:19,834 - DEBUG - This Updater is already initialized.
2024-10-30 05:16:19,834 - DEBUG - Entering: send_photo
2024-10-30 05:16:19,835 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:16:19,835 - DEBUG - send_request_headers.complete
2024-10-30 05:16:19,835 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:16:20,703 - DEBUG - send_request_body.complete
2024-10-30 05:16:20,703 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:16:21,270 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:16:21 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'1272'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:16:21,270 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/sendPhoto "HTTP/1.1 200 OK"
2024-10-30 05:16:21,270 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:16:21,270 - DEBUG - receive_response_body.complete
2024-10-30 05:16:21,270 - DEBUG - response_closed.started
2024-10-30 05:16:21,270 - DEBUG - response_closed.complete
2024-10-30 05:16:21,271 - DEBUG - Message(caption='From r/wifebutt: People on the pool deck didn’t get to see my entire wifebutt but you guys do!\nUpvotes: 3,139', channel_chat_created=False, chat=Chat(id=-1002490380283, title='Reddit_Pic_Stream', type=<ChatType.CHANNEL>), date=datetime.datetime(2024, 10, 30, 10, 16, 21, tzinfo=<UTC>), delete_chat_photo=False, group_chat_created=False, message_id=219, photo=(PhotoSize(file_id='AgACAgEAAyEGAASUcC_7AAORZyH6QP6KPlSQyXILymMhELCibnoAAkWtMRsZEBFF56UebkDt26cBAAMCAANzAAM2BA', file_size=1719, file_unique_id='AQADRa0xGxkQEUV4', height=90, width=67), PhotoSize(file_id='AgACAgEAAyEGAASUcC_7AAORZyH6QP6KPlSQyXILymMhELCibnoAAkWtMRsZEBFF56UebkDt26cBAAMCAANtAAM2BA', file_size=22638, file_unique_id='AQADRa0xGxkQEUVy', height=320, width=240), PhotoSize(file_id='AgACAgEAAyEGAASUcC_7AAORZyH6QP6KPlSQyXILymMhELCibnoAAkWtMRsZEBFF56UebkDt26cBAAMCAAN4AAM2BA', file_size=96806, file_unique_id='AQADRa0xGxkQEUV9', height=800, width=600), PhotoSize(file_id='AgACAgEAAyEGAASUcC_7AAORZyH6QP6KPlSQyXILymMhELCibnoAAkWtMRsZEBFF56UebkDt26cBAAMCAAN5AAM2BA', file_size=213750, file_unique_id='AQADRa0xGxkQEUV-', height=1280, width=960), PhotoSize(file_id='AgACAgEAAyEGAASUcC_7AAORZyH6QP6KPlSQyXILymMhELCibnoAAkWtMRsZEBFF56UebkDt26cBAAMCAAN3AAM2BA', file_size=704677, file_unique_id='AQADRa0xGxkQEUV8', height=2560, width=1920)), sender_chat=Chat(id=-1002490380283, title='Reddit_Pic_Stream', type=<ChatType.CHANNEL>), supergroup_chat_created=False)
2024-10-30 05:16:21,271 - DEBUG - Exiting: send_photo
2024-10-30 05:16:21,272 - DEBUG - close.started
2024-10-30 05:16:21,272 - DEBUG - close.complete
2024-10-30 05:16:21,272 - DEBUG - close.started
2024-10-30 05:16:21,272 - DEBUG - close.complete
2024-10-30 05:16:21,272 - DEBUG - This Bot is already shut down. Returning.
2024-10-30 05:16:21,272 - DEBUG - Shut down of Updater complete
2024-10-30 05:16:21,272 - INFO - Successfully sent photo to Telegram
2024-10-30 05:16:21,274 - ERROR - Error processing subreddit wifebutt: (sqlite3.OperationalError) attempt to write a readonly database
[SQL: INSERT INTO sent_post (post_id, subreddit_name, sent_at) VALUES (?, ?, ?)]
[parameters: ('1g4dx9i', 'wifebutt', '2024-10-30 10:16:21.273970')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2024-10-30 05:16:21,275 - ERROR - Job "send_to_telegram (trigger: interval[0:01:00], next run at: 2024-10-30 05:17:16 CDT)" raised an exception
Traceback (most recent call last):
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: attempt to write a readonly database

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/backend/app.py", line 265, in send_to_telegram
    # Update last_check in Cosmos DB
                ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/backend/db_operations.py", line 100, in add_sent_post
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/scoping.py", line 597, in commit
    return self._proxied.commit()
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2028, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4352, in flush
    self._flush(objects)
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4487, in _flush
    with util.safe_reraise():
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4448, in _flush
    flush_context.execute()
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
    return meth(
           ^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) attempt to write a readonly database
[SQL: INSERT INTO sent_post (post_id, subreddit_name, sent_at) VALUES (?, ?, ?)]
[parameters: ('1g4dx9i', 'wifebutt', '2024-10-30 10:16:21.273970')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2024-10-30 05:16:39,734 - DEBUG - send_request_body.failed exception=WriteError(ClosedResourceError())
2024-10-30 05:16:39,736 - DEBUG - response_closed.started
2024-10-30 05:16:39,736 - DEBUG - response_closed.complete
2024-10-30 05:16:39,737 - DEBUG - This Application is already shut down. Returning.
2024-10-30 05:16:39,737 - ERROR - Failed to send video to Telegram: httpx.WriteError: 
2024-10-30 05:16:39,738 - ERROR - Error sending video post 1gelyz1: httpx.WriteError: 
2024-10-30 05:16:39,738 - INFO - Checking post: 1gejrnl - Score: 2584 - URL: https://v3.redgifs.com/watch/graydefensivepika
2024-10-30 05:16:39,745 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:16:39,777 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:16:39,778 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:16:39 GMT'
2024-10-30 05:16:39,778 - INFO - Post 1gejrnl is a duplicate, skipping
2024-10-30 05:16:39,778 - INFO - Checking post: 1gelw33 - Score: 2297 - URL: https://www.redgifs.com/watch/drydarkgraysable
2024-10-30 05:16:39,779 - INFO - Post 1gelw33 is a duplicate, skipping
2024-10-30 05:16:39,779 - INFO - Checking post: 1gevvp0 - Score: 1192 - URL: https://www.redgifs.com/watch/medicalplumhen
2024-10-30 05:16:39,780 - INFO - Post 1gevvp0 is a duplicate, skipping
2024-10-30 05:16:39,780 - INFO - Checking post: 1gesoj7 - Score: 746 - URL: https://www.redgifs.com/watch/lightgreytrickydragonfly
2024-10-30 05:16:39,780 - INFO - Post 1gesoj7 is a duplicate, skipping
2024-10-30 05:16:39,780 - INFO - Checking post: 1geuuqp - Score: 438 - URL: https://www.redgifs.com/watch/cheerfulbeigebagworm
2024-10-30 05:16:39,780 - INFO - Post 1geuuqp is a duplicate, skipping
2024-10-30 05:16:39,780 - INFO - Checking post: 1geakrb - Score: 399 - URL: https://www.redgifs.com/watch/illinformedthickgalapagoshawk
2024-10-30 05:16:39,780 - INFO - Post 1geakrb is a duplicate, skipping
2024-10-30 05:16:39,780 - INFO - Checking post: 1gerubz - Score: 364 - URL: https://v3.redgifs.com/watch/trickysquarepseudodynerusquadrisectus
2024-10-30 05:16:39,781 - INFO - Post 1gerubz is a duplicate, skipping
2024-10-30 05:16:39,781 - INFO - Checking post: 1getxhl - Score: 338 - URL: https://www.redgifs.com/watch/purpledemandingboaconstrictor
2024-10-30 05:16:39,781 - INFO - Post 1getxhl is a duplicate, skipping
2024-10-30 05:16:39,781 - INFO - Checking post: 1ge9gol - Score: 277 - URL: https://v3.redgifs.com/watch/circulardeeppinkamericanbulldog
2024-10-30 05:16:39,782 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:16:39,813 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:16:39,814 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:16:39 GMT'
2024-10-30 05:16:39,814 - INFO - Found video post: 1ge9gol
2024-10-30 05:16:39,815 - DEBUG - Starting new HTTPS connection (1): api.redgifs.com:443
2024-10-30 05:16:39,941 - DEBUG - https://api.redgifs.com:443 "GET /v2/gifs/circulardeeppinkamericanbulldog HTTP/11" 200 None
2024-10-30 05:16:39,944 - DEBUG - Starting new HTTPS connection (1): files.redgifs.com:443
2024-10-30 05:16:40,120 - DEBUG - https://files.redgifs.com:443 "GET /CircularDeeppinkAmericanbulldog.mp4 HTTP/11" 200 61415883
2024-10-30 05:16:41,532 - INFO - Successfully downloaded media to downloads/videos/1ge9gol_20241030_051639_fff8ab71.mp4
2024-10-30 05:16:41,533 - DEBUG - Using selector: KqueueSelector
2024-10-30 05:16:41,533 - INFO - Attempting to send video to Telegram - Path: downloads/videos/1ge9gol_20241030_051639_fff8ab71.mp4
2024-10-30 05:16:41,534 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:16:41,534 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:16:41,542 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:16:41,542 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:16:41,549 - DEBUG - Entering: get_me
2024-10-30 05:16:41,551 - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2024-10-30 05:16:41,675 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108d9c4d0>
2024-10-30 05:16:41,675 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x108acb3d0> server_hostname='api.telegram.org' timeout=5.0
2024-10-30 05:16:41,808 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108d9e090>
2024-10-30 05:16:41,808 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:16:41,809 - DEBUG - send_request_headers.complete
2024-10-30 05:16:41,809 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:16:41,809 - DEBUG - send_request_body.complete
2024-10-30 05:16:41,809 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:16:41,930 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:16:41 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'254'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:16:41,931 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/getMe "HTTP/1.1 200 OK"
2024-10-30 05:16:41,931 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:16:41,932 - DEBUG - receive_response_body.complete
2024-10-30 05:16:41,932 - DEBUG - response_closed.started
2024-10-30 05:16:41,932 - DEBUG - response_closed.complete
2024-10-30 05:16:41,933 - DEBUG - User(api_kwargs={'can_connect_to_business': False, 'has_main_web_app': False}, can_join_groups=True, can_read_all_group_messages=False, first_name='RedditBot', id=7867694458, is_bot=True, supports_inline_queries=False, username='RedditImage_bot')
2024-10-30 05:16:41,933 - DEBUG - Exiting: get_me
2024-10-30 05:16:41,933 - DEBUG - This Bot is already initialized.
2024-10-30 05:16:41,934 - DEBUG - Entering: send_video
2024-10-30 05:16:41,965 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:16:41,968 - DEBUG - send_request_headers.complete
2024-10-30 05:16:41,968 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:16:45,922 - DEBUG - send_request_body.complete
2024-10-30 05:16:45,923 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:16:45,924 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 413, b'Request Entity Too Large', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:16:42 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'70'), (b'Connection', b'close'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:16:45,925 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/sendVideo "HTTP/1.1 413 Request Entity Too Large"
2024-10-30 05:16:45,925 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:16:45,925 - DEBUG - receive_response_body.complete
2024-10-30 05:16:45,925 - DEBUG - response_closed.started
2024-10-30 05:16:45,926 - DEBUG - response_closed.complete
2024-10-30 05:16:45,926 - DEBUG - This Bot is already shut down. Returning.
2024-10-30 05:16:45,926 - DEBUG - Shut down of Updater complete
2024-10-30 05:16:45,926 - ERROR - Failed to send video to Telegram: Request Entity Too Large (413)
2024-10-30 05:16:45,927 - ERROR - Error sending video post 1ge9gol: Request Entity Too Large (413)
2024-10-30 05:16:45,927 - INFO - Checking post: 1ge98kx - Score: 256 - URL: https://www.redgifs.com/watch/frontspecificspittlebug
2024-10-30 05:16:45,929 - INFO - Post 1ge98kx is a duplicate, skipping
2024-10-30 05:16:45,930 - INFO - Checking post: 1geqscs - Score: 240 - URL: https://www.redgifs.com/watch/previousweequeensnake
2024-10-30 05:16:45,931 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:16:46,057 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:16:46,059 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:16:45 GMT'
2024-10-30 05:16:46,060 - INFO - Found video post: 1geqscs
2024-10-30 05:16:46,062 - DEBUG - Starting new HTTPS connection (1): api.redgifs.com:443
2024-10-30 05:16:46,182 - DEBUG - https://api.redgifs.com:443 "GET /v2/gifs/previousweequeensnake HTTP/11" 200 None
2024-10-30 05:16:46,188 - DEBUG - Starting new HTTPS connection (1): files.redgifs.com:443
2024-10-30 05:16:46,253 - DEBUG - https://files.redgifs.com:443 "GET /PreviousWeeQueensnake.mp4 HTTP/11" 200 50070206
2024-10-30 05:16:47,336 - INFO - Successfully downloaded media to downloads/videos/1geqscs_20241030_051646_2fd81a4e.mp4
2024-10-30 05:16:47,338 - DEBUG - Using selector: KqueueSelector
2024-10-30 05:16:47,338 - INFO - Attempting to send video to Telegram - Path: downloads/videos/1geqscs_20241030_051646_2fd81a4e.mp4
2024-10-30 05:16:47,338 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:16:47,339 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:16:47,347 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:16:47,348 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:16:47,355 - DEBUG - Entering: get_me
2024-10-30 05:16:47,355 - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2024-10-30 05:16:47,476 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108d9d7f0>
2024-10-30 05:16:47,477 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x108ed6450> server_hostname='api.telegram.org' timeout=5.0
2024-10-30 05:16:47,606 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108d9e570>
2024-10-30 05:16:47,606 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:16:47,606 - DEBUG - send_request_headers.complete
2024-10-30 05:16:47,606 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:16:47,606 - DEBUG - send_request_body.complete
2024-10-30 05:16:47,606 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:16:47,726 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:16:47 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'254'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:16:47,726 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/getMe "HTTP/1.1 200 OK"
2024-10-30 05:16:47,726 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:16:47,726 - DEBUG - receive_response_body.complete
2024-10-30 05:16:47,726 - DEBUG - response_closed.started
2024-10-30 05:16:47,726 - DEBUG - response_closed.complete
2024-10-30 05:16:47,726 - DEBUG - User(api_kwargs={'can_connect_to_business': False, 'has_main_web_app': False}, can_join_groups=True, can_read_all_group_messages=False, first_name='RedditBot', id=7867694458, is_bot=True, supports_inline_queries=False, username='RedditImage_bot')
2024-10-30 05:16:47,727 - DEBUG - Exiting: get_me
2024-10-30 05:16:47,727 - DEBUG - This Bot is already initialized.
2024-10-30 05:16:47,727 - DEBUG - Entering: send_video
2024-10-30 05:16:47,734 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:16:47,734 - DEBUG - send_request_headers.complete
2024-10-30 05:16:47,734 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:16:51,461 - DEBUG - send_request_body.complete
2024-10-30 05:16:51,461 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:16:54,417 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:16:54 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'600'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:16:54,418 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/sendVideo "HTTP/1.1 200 OK"
2024-10-30 05:16:54,419 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:16:54,419 - DEBUG - receive_response_body.complete
2024-10-30 05:16:54,419 - DEBUG - response_closed.started
2024-10-30 05:16:54,419 - DEBUG - response_closed.complete
2024-10-30 05:16:54,421 - DEBUG - Message(caption='From r/girlsfinishingthejob: I love when he covers my titties with his hot cum 🥰\nUpvotes: 240', channel_chat_created=False, chat=Chat(id=-1002490380283, title='Reddit_Pic_Stream', type=<ChatType.CHANNEL>), date=datetime.datetime(2024, 10, 30, 10, 16, 54, tzinfo=<UTC>), delete_chat_photo=False, group_chat_created=False, message_id=220, sender_chat=Chat(id=-1002490380283, title='Reddit_Pic_Stream', type=<ChatType.CHANNEL>), supergroup_chat_created=False, video=Video(duration=0, file_id='BAACAgEAAyEGAASUcC_7AAPcZyIHlpWYIiz9KevpqD7Fz7oZiX4AAqsEAAIZEBFFrCeJlukqOsE2BA', file_name='1geqscs_20241030_051646_2fd81a4e.mp4', file_size=50070206, file_unique_id='AgADqwQAAhkQEUU', height=320, mime_type='video/mp4', width=320))
2024-10-30 05:16:54,422 - DEBUG - Exiting: send_video
2024-10-30 05:16:54,423 - DEBUG - close.started
2024-10-30 05:16:54,423 - DEBUG - close.complete
2024-10-30 05:16:54,424 - DEBUG - This Bot is already shut down. Returning.
2024-10-30 05:16:54,424 - DEBUG - Shut down of Updater complete
2024-10-30 05:16:54,424 - INFO - Successfully sent video to Telegram
2024-10-30 05:16:54,427 - ERROR - Error processing subreddit girlsfinishingthejob: (sqlite3.OperationalError) attempt to write a readonly database
[SQL: INSERT INTO sent_post (post_id, subreddit_name, sent_at) VALUES (?, ?, ?)]
[parameters: ('1geqscs', 'girlsfinishingthejob', '2024-10-30 10:16:54.426457')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2024-10-30 05:16:54,429 - ERROR - Job "send_to_telegram (trigger: interval[0:01:00], next run at: 2024-10-30 05:17:16 CDT)" raised an exception
Traceback (most recent call last):
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: attempt to write a readonly database

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/backend/app.py", line 265, in send_to_telegram
    # Update last_check in Cosmos DB
                ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/backend/db_operations.py", line 100, in add_sent_post
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/scoping.py", line 597, in commit
    return self._proxied.commit()
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2028, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4352, in flush
    self._flush(objects)
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4487, in _flush
    with util.safe_reraise():
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4448, in _flush
    flush_context.execute()
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
    return meth(
           ^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) attempt to write a readonly database
[SQL: INSERT INTO sent_post (post_id, subreddit_name, sent_at) VALUES (?, ?, ?)]
[parameters: ('1geqscs', 'girlsfinishingthejob', '2024-10-30 10:16:54.426457')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2024-10-30 05:17:08,326 - INFO -  * Restarting with stat
2024-10-30 05:17:11,444 - INFO -  * Restarting with stat
2024-10-30 05:17:16,977 - DEBUG - Looking for jobs to run
2024-10-30 05:17:16,981 - DEBUG - Next wakeup is due at 2024-10-30 05:18:16.969826-05:00 (in 59.988052 seconds)
2024-10-30 05:17:16,982 - INFO - Running job "send_to_telegram (trigger: interval[0:01:00], next run at: 2024-10-30 05:18:16 CDT)" (scheduled at 2024-10-30 05:17:16.969826-05:00)
2024-10-30 05:17:16,982 - INFO - Running job "send_to_telegram (trigger: interval[0:01:00], next run at: 2024-10-30 05:18:16 CDT)" (scheduled at 2024-10-30 05:17:16.970029-05:00)
2024-10-30 05:17:16,983 - INFO - Processing subreddit: girlsfinishingthejob
2024-10-30 05:17:16,983 - INFO - Processing subreddit: wifebutt
2024-10-30 05:17:16,984 - INFO - Fetching top posts of the day
2024-10-30 05:17:16,984 - INFO - Fetching top posts of the month
2024-10-30 05:17:16,985 - DEBUG - Fetching: GET https://oauth.reddit.com/r/girlsfinishingthejob/top at 1730283436.985536
2024-10-30 05:17:16,985 - DEBUG - Fetching: GET https://oauth.reddit.com/r/wifebutt/top at 1730283436.985985
2024-10-30 05:17:16,986 - DEBUG - Data: None
2024-10-30 05:17:16,986 - DEBUG - Data: None
2024-10-30 05:17:16,986 - DEBUG - Params: {'limit': 50, 'raw_json': 1, 't': 'day'}
2024-10-30 05:17:16,986 - DEBUG - Params: {'limit': 50, 'raw_json': 1, 't': 'month'}
2024-10-30 05:17:17,289 - DEBUG - https://oauth.reddit.com:443 "GET /r/girlsfinishingthejob/top?t=day&limit=50&raw_json=1 HTTP/11" 200 24118
2024-10-30 05:17:17,291 - DEBUG - Response: 200 (24118 bytes) (rst-0:rem-149.0:used-1 ratelimit) at 1730283437.291432
2024-10-30 05:17:17,333 - INFO - Checking post: 1gelyz1 - Score: 7086 - URL: https://www.redgifs.com/watch/uttersvelteamphibian
2024-10-30 05:17:17,337 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:17:17,368 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:17:17,368 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:17:16 GMT'
2024-10-30 05:17:17,369 - INFO - Found video post: 1gelyz1
2024-10-30 05:17:17,369 - DEBUG - Starting new HTTPS connection (1): api.redgifs.com:443
2024-10-30 05:17:17,467 - DEBUG - https://api.redgifs.com:443 "GET /v2/gifs/uttersvelteamphibian HTTP/11" 200 None
2024-10-30 05:17:17,469 - DEBUG - Starting new HTTPS connection (1): files.redgifs.com:443
2024-10-30 05:17:17,533 - DEBUG - https://files.redgifs.com:443 "GET /UtterSvelteAmphibian.mp4 HTTP/11" 200 42980012
2024-10-30 05:17:17,782 - DEBUG - https://oauth.reddit.com:443 "GET /r/wifebutt/top?t=month&limit=50&raw_json=1 HTTP/11" 200 49244
2024-10-30 05:17:17,806 - DEBUG - Response: 200 (49244 bytes) (rst-0:rem-148.0:used-2 ratelimit) at 1730283437.806515
2024-10-30 05:17:17,812 - INFO - Checking post: 1g9w053 - Score: 5347 - URL: https://www.reddit.com/gallery/1g9w053
2024-10-30 05:17:17,813 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:17:17,873 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:17:17,874 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:17:17 GMT'
2024-10-30 05:17:17,874 - INFO - Post 1g9w053 is not an image or video post, skipping
2024-10-30 05:17:17,874 - INFO - Checking post: 1fv4cfc - Score: 4584 - URL: https://www.reddit.com/gallery/1fv4cfc
2024-10-30 05:17:17,875 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:17:17,944 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:17:17,945 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:17:17 GMT'
2024-10-30 05:17:17,945 - INFO - Post 1fv4cfc is not an image or video post, skipping
2024-10-30 05:17:17,945 - INFO - Checking post: 1ganrp0 - Score: 4206 - URL: https://i.redd.it/ezatz8645lwd1.jpeg
2024-10-30 05:17:17,946 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:17:18,010 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:17:18,011 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-quorum-acked-lsn': 'REDACTED'
    'x-ms-current-write-quorum': 'REDACTED'
    'x-ms-current-replica-set-size': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-cosmos-quorum-acked-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:17:17 GMT'
2024-10-30 05:17:18,011 - INFO - Post 1ganrp0 is a duplicate, skipping
2024-10-30 05:17:18,011 - INFO - Checking post: 1gdrcjt - Score: 4065 - URL: https://www.redgifs.com/watch/unrealisticdefinitebarebirdbat
2024-10-30 05:17:18,012 - INFO - Post 1gdrcjt is a duplicate, skipping
2024-10-30 05:17:18,012 - INFO - Checking post: 1g30sx1 - Score: 3965 - URL: https://www.redgifs.com/watch/hardwarlikesunbittern
2024-10-30 05:17:18,013 - INFO - Post 1g30sx1 is a duplicate, skipping
2024-10-30 05:17:18,013 - INFO - Checking post: 1fs7839 - Score: 3856 - URL: https://www.reddit.com/gallery/1fs7839
2024-10-30 05:17:18,014 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:17:18,072 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:17:18,073 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:17:17 GMT'
2024-10-30 05:17:18,073 - INFO - Post 1fs7839 is not an image or video post, skipping
2024-10-30 05:17:18,073 - INFO - Checking post: 1g2rse9 - Score: 3767 - URL: https://i.redd.it/gzxs1aeshjud1.png
2024-10-30 05:17:18,074 - INFO - Post 1g2rse9 is a duplicate, skipping
2024-10-30 05:17:18,074 - INFO - Checking post: 1ge9loz - Score: 3720 - URL: https://www.redgifs.com/watch/deadlygregariouswoodchuck
2024-10-30 05:17:18,074 - INFO - Post 1ge9loz is a duplicate, skipping
2024-10-30 05:17:18,074 - INFO - Checking post: 1g0e966 - Score: 3639 - URL: https://www.reddit.com/gallery/1g0e966
2024-10-30 05:17:18,075 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:17:18,131 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:17:18,132 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-quorum-acked-lsn': 'REDACTED'
    'x-ms-current-write-quorum': 'REDACTED'
    'x-ms-current-replica-set-size': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-cosmos-quorum-acked-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:17:17 GMT'
2024-10-30 05:17:18,132 - INFO - Post 1g0e966 is not an image or video post, skipping
2024-10-30 05:17:18,132 - INFO - Checking post: 1gckgcy - Score: 3394 - URL: https://i.redd.it/njd0mbyjl3xd1.jpeg
2024-10-30 05:17:18,132 - INFO - Post 1gckgcy is a duplicate, skipping
2024-10-30 05:17:18,133 - INFO - Checking post: 1fznoil - Score: 3340 - URL: https://i.redd.it/eruk3694dptd1.jpeg
2024-10-30 05:17:18,133 - INFO - Post 1fznoil is a duplicate, skipping
2024-10-30 05:17:18,133 - INFO - Checking post: 1g3dsj7 - Score: 3184 - URL: https://i.redd.it/cg9oigznmpud1.jpeg
2024-10-30 05:17:18,133 - INFO - Post 1g3dsj7 is a duplicate, skipping
2024-10-30 05:17:18,134 - INFO - Checking post: 1g4dx9i - Score: 3143 - URL: https://i.redd.it/5kv3c8f3lyud1.jpeg
2024-10-30 05:17:18,134 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:17:18,188 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:17:18,189 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:17:17 GMT'
2024-10-30 05:17:18,189 - INFO - Found image post: 1g4dx9i with URL: https://i.redd.it/5kv3c8f3lyud1.jpeg
2024-10-30 05:17:18,190 - DEBUG - Starting new HTTPS connection (1): i.redd.it:443
2024-10-30 05:17:18,357 - DEBUG - https://i.redd.it:443 "GET /5kv3c8f3lyud1.jpeg HTTP/11" 200 2365518
2024-10-30 05:17:18,519 - INFO - Successfully downloaded media to downloads/videos/1gelyz1_20241030_051717_ba5c8ead.mp4
2024-10-30 05:17:18,520 - DEBUG - Using selector: KqueueSelector
2024-10-30 05:17:18,521 - INFO - Attempting to send video to Telegram - Path: downloads/videos/1gelyz1_20241030_051717_ba5c8ead.mp4
2024-10-30 05:17:18,522 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:17:18,522 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:17:18,530 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:17:18,531 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:17:18,540 - DEBUG - Entering: get_me
2024-10-30 05:17:18,541 - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2024-10-30 05:17:18,624 - INFO - Successfully downloaded media to downloads/pics/1g4dx9i_20241030_051718_d2c0c929.jpeg
2024-10-30 05:17:18,625 - DEBUG - Using selector: KqueueSelector
2024-10-30 05:17:18,625 - INFO - Attempting to send photo to Telegram - Path: downloads/pics/1g4dx9i_20241030_051718_d2c0c929.jpeg
2024-10-30 05:17:18,625 - DEBUG - Entering: get_me
2024-10-30 05:17:18,625 - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2024-10-30 05:17:18,770 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108f28860>
2024-10-30 05:17:18,770 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x108ee5750> server_hostname='api.telegram.org' timeout=5.0
2024-10-30 05:17:18,770 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108d79f70>
2024-10-30 05:17:18,770 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x108ee5750> server_hostname='api.telegram.org' timeout=5.0
2024-10-30 05:17:18,902 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x1088d7500>
2024-10-30 05:17:18,902 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:17:18,902 - DEBUG - send_request_headers.complete
2024-10-30 05:17:18,902 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:17:18,903 - DEBUG - send_request_body.complete
2024-10-30 05:17:18,903 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:17:18,912 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108d9e6f0>
2024-10-30 05:17:18,912 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:17:18,912 - DEBUG - send_request_headers.complete
2024-10-30 05:17:18,912 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:17:18,912 - DEBUG - send_request_body.complete
2024-10-30 05:17:18,912 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:17:19,055 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:17:19 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'254'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:17:19,055 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/getMe "HTTP/1.1 200 OK"
2024-10-30 05:17:19,055 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:17:19,055 - DEBUG - receive_response_body.complete
2024-10-30 05:17:19,055 - DEBUG - response_closed.started
2024-10-30 05:17:19,055 - DEBUG - response_closed.complete
2024-10-30 05:17:19,056 - DEBUG - User(api_kwargs={'can_connect_to_business': False, 'has_main_web_app': False}, can_join_groups=True, can_read_all_group_messages=False, first_name='RedditBot', id=7867694458, is_bot=True, supports_inline_queries=False, username='RedditImage_bot')
2024-10-30 05:17:19,056 - DEBUG - Exiting: get_me
2024-10-30 05:17:19,056 - DEBUG - This Bot is already initialized.
2024-10-30 05:17:19,056 - DEBUG - Entering: send_photo
2024-10-30 05:17:19,058 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:17:19,058 - DEBUG - send_request_headers.complete
2024-10-30 05:17:19,058 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:17:19,098 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:17:19 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'254'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:17:19,098 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/getMe "HTTP/1.1 200 OK"
2024-10-30 05:17:19,098 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:17:19,098 - DEBUG - receive_response_body.complete
2024-10-30 05:17:19,098 - DEBUG - response_closed.started
2024-10-30 05:17:19,098 - DEBUG - response_closed.complete
2024-10-30 05:17:19,099 - DEBUG - User(api_kwargs={'can_connect_to_business': False, 'has_main_web_app': False}, can_join_groups=True, can_read_all_group_messages=False, first_name='RedditBot', id=7867694458, is_bot=True, supports_inline_queries=False, username='RedditImage_bot')
2024-10-30 05:17:19,099 - DEBUG - Exiting: get_me
2024-10-30 05:17:19,099 - DEBUG - This Updater is already initialized.
2024-10-30 05:17:19,099 - DEBUG - Entering: send_video
2024-10-30 05:17:19,111 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:17:19,111 - DEBUG - send_request_headers.complete
2024-10-30 05:17:19,111 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:17:19,885 - DEBUG - send_request_body.complete
2024-10-30 05:17:19,885 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:17:20,231 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:17:20 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'1272'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:17:20,232 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/sendPhoto "HTTP/1.1 200 OK"
2024-10-30 05:17:20,232 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:17:20,232 - DEBUG - receive_response_body.complete
2024-10-30 05:17:20,232 - DEBUG - response_closed.started
2024-10-30 05:17:20,232 - DEBUG - response_closed.complete
2024-10-30 05:17:20,233 - DEBUG - Message(caption='From r/wifebutt: People on the pool deck didn’t get to see my entire wifebutt but you guys do!\nUpvotes: 3,143', channel_chat_created=False, chat=Chat(id=-1002490380283, title='Reddit_Pic_Stream', type=<ChatType.CHANNEL>), date=datetime.datetime(2024, 10, 30, 10, 17, 20, tzinfo=<UTC>), delete_chat_photo=False, group_chat_created=False, message_id=221, photo=(PhotoSize(file_id='AgACAgEAAyEGAASUcC_7AAORZyH6QP6KPlSQyXILymMhELCibnoAAkWtMRsZEBFF56UebkDt26cBAAMCAANzAAM2BA', file_size=1719, file_unique_id='AQADRa0xGxkQEUV4', height=90, width=67), PhotoSize(file_id='AgACAgEAAyEGAASUcC_7AAORZyH6QP6KPlSQyXILymMhELCibnoAAkWtMRsZEBFF56UebkDt26cBAAMCAANtAAM2BA', file_size=22638, file_unique_id='AQADRa0xGxkQEUVy', height=320, width=240), PhotoSize(file_id='AgACAgEAAyEGAASUcC_7AAORZyH6QP6KPlSQyXILymMhELCibnoAAkWtMRsZEBFF56UebkDt26cBAAMCAAN4AAM2BA', file_size=96806, file_unique_id='AQADRa0xGxkQEUV9', height=800, width=600), PhotoSize(file_id='AgACAgEAAyEGAASUcC_7AAORZyH6QP6KPlSQyXILymMhELCibnoAAkWtMRsZEBFF56UebkDt26cBAAMCAAN5AAM2BA', file_size=213750, file_unique_id='AQADRa0xGxkQEUV-', height=1280, width=960), PhotoSize(file_id='AgACAgEAAyEGAASUcC_7AAORZyH6QP6KPlSQyXILymMhELCibnoAAkWtMRsZEBFF56UebkDt26cBAAMCAAN3AAM2BA', file_size=704677, file_unique_id='AQADRa0xGxkQEUV8', height=2560, width=1920)), sender_chat=Chat(id=-1002490380283, title='Reddit_Pic_Stream', type=<ChatType.CHANNEL>), supergroup_chat_created=False)
2024-10-30 05:17:20,233 - DEBUG - Exiting: send_photo
2024-10-30 05:17:20,234 - DEBUG - close.started
2024-10-30 05:17:20,234 - DEBUG - close.complete
2024-10-30 05:17:20,234 - DEBUG - close.started
2024-10-30 05:17:20,234 - DEBUG - close.complete
2024-10-30 05:17:20,234 - DEBUG - This Bot is already shut down. Returning.
2024-10-30 05:17:20,234 - DEBUG - Shut down of Updater complete
2024-10-30 05:17:20,234 - INFO - Successfully sent photo to Telegram
2024-10-30 05:17:20,236 - ERROR - Error processing subreddit wifebutt: (sqlite3.OperationalError) attempt to write a readonly database
[SQL: INSERT INTO sent_post (post_id, subreddit_name, sent_at) VALUES (?, ?, ?)]
[parameters: ('1g4dx9i', 'wifebutt', '2024-10-30 10:17:20.236008')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2024-10-30 05:17:20,238 - ERROR - Job "send_to_telegram (trigger: interval[0:01:00], next run at: 2024-10-30 05:18:16 CDT)" raised an exception
Traceback (most recent call last):
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: attempt to write a readonly database

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/backend/app.py", line 265, in send_to_telegram
    # Update last_check in Cosmos DB
                ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/backend/db_operations.py", line 100, in add_sent_post
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/scoping.py", line 597, in commit
    return self._proxied.commit()
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2028, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4352, in flush
    self._flush(objects)
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4487, in _flush
    with util.safe_reraise():
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4448, in _flush
    flush_context.execute()
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
    return meth(
           ^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) attempt to write a readonly database
[SQL: INSERT INTO sent_post (post_id, subreddit_name, sent_at) VALUES (?, ?, ?)]
[parameters: ('1g4dx9i', 'wifebutt', '2024-10-30 10:17:20.236008')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2024-10-30 05:17:39,120 - DEBUG - send_request_body.failed exception=WriteError(ClosedResourceError())
2024-10-30 05:17:39,122 - DEBUG - response_closed.started
2024-10-30 05:17:39,122 - DEBUG - response_closed.complete
2024-10-30 05:17:39,123 - DEBUG - This Application is already shut down. Returning.
2024-10-30 05:17:39,123 - ERROR - Failed to send video to Telegram: httpx.WriteError: 
2024-10-30 05:17:39,124 - ERROR - Error sending video post 1gelyz1: httpx.WriteError: 
2024-10-30 05:17:39,125 - INFO - Checking post: 1gejrnl - Score: 2579 - URL: https://v3.redgifs.com/watch/graydefensivepika
2024-10-30 05:17:39,130 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:17:39,164 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:17:39,165 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:17:38 GMT'
2024-10-30 05:17:39,165 - INFO - Post 1gejrnl is a duplicate, skipping
2024-10-30 05:17:39,165 - INFO - Checking post: 1gelw33 - Score: 2303 - URL: https://www.redgifs.com/watch/drydarkgraysable
2024-10-30 05:17:39,165 - INFO - Post 1gelw33 is a duplicate, skipping
2024-10-30 05:17:39,166 - INFO - Checking post: 1gevvp0 - Score: 1189 - URL: https://www.redgifs.com/watch/medicalplumhen
2024-10-30 05:17:39,166 - INFO - Post 1gevvp0 is a duplicate, skipping
2024-10-30 05:17:39,166 - INFO - Checking post: 1gesoj7 - Score: 748 - URL: https://www.redgifs.com/watch/lightgreytrickydragonfly
2024-10-30 05:17:39,166 - INFO - Post 1gesoj7 is a duplicate, skipping
2024-10-30 05:17:39,166 - INFO - Checking post: 1geuuqp - Score: 442 - URL: https://www.redgifs.com/watch/cheerfulbeigebagworm
2024-10-30 05:17:39,166 - INFO - Post 1geuuqp is a duplicate, skipping
2024-10-30 05:17:39,166 - INFO - Checking post: 1geakrb - Score: 398 - URL: https://www.redgifs.com/watch/illinformedthickgalapagoshawk
2024-10-30 05:17:39,166 - INFO - Post 1geakrb is a duplicate, skipping
2024-10-30 05:17:39,166 - INFO - Checking post: 1gerubz - Score: 359 - URL: https://v3.redgifs.com/watch/trickysquarepseudodynerusquadrisectus
2024-10-30 05:17:39,167 - INFO - Post 1gerubz is a duplicate, skipping
2024-10-30 05:17:39,167 - INFO - Checking post: 1getxhl - Score: 339 - URL: https://www.redgifs.com/watch/purpledemandingboaconstrictor
2024-10-30 05:17:39,167 - INFO - Post 1getxhl is a duplicate, skipping
2024-10-30 05:17:39,167 - INFO - Checking post: 1ge9gol - Score: 278 - URL: https://v3.redgifs.com/watch/circulardeeppinkamericanbulldog
2024-10-30 05:17:39,167 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:17:39,199 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:17:39,199 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:17:38 GMT'
2024-10-30 05:17:39,200 - INFO - Found video post: 1ge9gol
2024-10-30 05:17:39,200 - DEBUG - Starting new HTTPS connection (1): api.redgifs.com:443
2024-10-30 05:17:39,306 - DEBUG - https://api.redgifs.com:443 "GET /v2/gifs/circulardeeppinkamericanbulldog HTTP/11" 200 None
2024-10-30 05:17:39,309 - DEBUG - Starting new HTTPS connection (1): files.redgifs.com:443
2024-10-30 05:17:39,369 - DEBUG - https://files.redgifs.com:443 "GET /CircularDeeppinkAmericanbulldog.mp4 HTTP/11" 200 61415883
2024-10-30 05:17:40,732 - INFO - Successfully downloaded media to downloads/videos/1ge9gol_20241030_051739_fff8ab71.mp4
2024-10-30 05:17:40,734 - DEBUG - Using selector: KqueueSelector
2024-10-30 05:17:40,734 - INFO - Attempting to send video to Telegram - Path: downloads/videos/1ge9gol_20241030_051739_fff8ab71.mp4
2024-10-30 05:17:40,734 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:17:40,735 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:17:40,742 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:17:40,742 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:17:40,748 - DEBUG - Entering: get_me
2024-10-30 05:17:40,749 - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2024-10-30 05:17:40,871 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108a5ed80>
2024-10-30 05:17:40,871 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x108e008d0> server_hostname='api.telegram.org' timeout=5.0
2024-10-30 05:17:41,004 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108a5e780>
2024-10-30 05:17:41,004 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:17:41,005 - DEBUG - send_request_headers.complete
2024-10-30 05:17:41,005 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:17:41,005 - DEBUG - send_request_body.complete
2024-10-30 05:17:41,005 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:17:41,125 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:17:41 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'254'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:17:41,125 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/getMe "HTTP/1.1 200 OK"
2024-10-30 05:17:41,125 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:17:41,125 - DEBUG - receive_response_body.complete
2024-10-30 05:17:41,126 - DEBUG - response_closed.started
2024-10-30 05:17:41,126 - DEBUG - response_closed.complete
2024-10-30 05:17:41,126 - DEBUG - User(api_kwargs={'can_connect_to_business': False, 'has_main_web_app': False}, can_join_groups=True, can_read_all_group_messages=False, first_name='RedditBot', id=7867694458, is_bot=True, supports_inline_queries=False, username='RedditImage_bot')
2024-10-30 05:17:41,126 - DEBUG - Exiting: get_me
2024-10-30 05:17:41,126 - DEBUG - This Bot is already initialized.
2024-10-30 05:17:41,126 - DEBUG - Entering: send_video
2024-10-30 05:17:41,145 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:17:41,145 - DEBUG - send_request_headers.complete
2024-10-30 05:17:41,145 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:17:45,419 - DEBUG - send_request_body.complete
2024-10-30 05:17:45,419 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:17:45,419 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 413, b'Request Entity Too Large', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:17:41 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'70'), (b'Connection', b'close'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:17:45,420 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/sendVideo "HTTP/1.1 413 Request Entity Too Large"
2024-10-30 05:17:45,420 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:17:45,420 - DEBUG - receive_response_body.complete
2024-10-30 05:17:45,420 - DEBUG - response_closed.started
2024-10-30 05:17:45,420 - DEBUG - response_closed.complete
2024-10-30 05:17:45,420 - DEBUG - This Bot is already shut down. Returning.
2024-10-30 05:17:45,420 - DEBUG - Shut down of Updater complete
2024-10-30 05:17:45,420 - ERROR - Failed to send video to Telegram: Request Entity Too Large (413)
2024-10-30 05:17:45,421 - ERROR - Error sending video post 1ge9gol: Request Entity Too Large (413)
2024-10-30 05:17:45,421 - INFO - Checking post: 1ge98kx - Score: 259 - URL: https://www.redgifs.com/watch/frontspecificspittlebug
2024-10-30 05:17:45,421 - INFO - Post 1ge98kx is a duplicate, skipping
2024-10-30 05:17:45,421 - INFO - Checking post: 1geqscs - Score: 237 - URL: https://www.redgifs.com/watch/previousweequeensnake
2024-10-30 05:17:45,421 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:17:45,502 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:17:45,502 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-quorum-acked-lsn': 'REDACTED'
    'x-ms-current-write-quorum': 'REDACTED'
    'x-ms-current-replica-set-size': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-cosmos-quorum-acked-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:17:44 GMT'
2024-10-30 05:17:45,503 - INFO - Found video post: 1geqscs
2024-10-30 05:17:45,504 - DEBUG - Starting new HTTPS connection (1): api.redgifs.com:443
2024-10-30 05:17:45,639 - DEBUG - https://api.redgifs.com:443 "GET /v2/gifs/previousweequeensnake HTTP/11" 200 None
2024-10-30 05:17:45,641 - DEBUG - Starting new HTTPS connection (1): files.redgifs.com:443
2024-10-30 05:17:45,703 - DEBUG - https://files.redgifs.com:443 "GET /PreviousWeeQueensnake.mp4 HTTP/11" 200 50070206
2024-10-30 05:17:46,930 - INFO - Successfully downloaded media to downloads/videos/1geqscs_20241030_051745_2fd81a4e.mp4
2024-10-30 05:17:46,996 - DEBUG - Using selector: KqueueSelector
2024-10-30 05:17:46,997 - INFO - Attempting to send video to Telegram - Path: downloads/videos/1geqscs_20241030_051745_2fd81a4e.mp4
2024-10-30 05:17:47,002 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:17:47,007 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:17:47,023 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:17:47,023 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:17:47,037 - DEBUG - Entering: get_me
2024-10-30 05:17:47,039 - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2024-10-30 05:17:47,163 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108e602c0>
2024-10-30 05:17:47,163 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x108aca6d0> server_hostname='api.telegram.org' timeout=5.0
2024-10-30 05:17:47,300 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108e60a70>
2024-10-30 05:17:47,300 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:17:47,300 - DEBUG - send_request_headers.complete
2024-10-30 05:17:47,300 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:17:47,300 - DEBUG - send_request_body.complete
2024-10-30 05:17:47,300 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:17:47,438 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:17:47 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'254'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:17:47,438 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/getMe "HTTP/1.1 200 OK"
2024-10-30 05:17:47,438 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:17:47,438 - DEBUG - receive_response_body.complete
2024-10-30 05:17:47,438 - DEBUG - response_closed.started
2024-10-30 05:17:47,438 - DEBUG - response_closed.complete
2024-10-30 05:17:47,439 - DEBUG - User(api_kwargs={'can_connect_to_business': False, 'has_main_web_app': False}, can_join_groups=True, can_read_all_group_messages=False, first_name='RedditBot', id=7867694458, is_bot=True, supports_inline_queries=False, username='RedditImage_bot')
2024-10-30 05:17:47,439 - DEBUG - Exiting: get_me
2024-10-30 05:17:47,439 - DEBUG - This Bot is already initialized.
2024-10-30 05:17:47,439 - DEBUG - Entering: send_video
2024-10-30 05:17:47,452 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:17:47,453 - DEBUG - send_request_headers.complete
2024-10-30 05:17:47,453 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:17:51,081 - DEBUG - send_request_body.complete
2024-10-30 05:17:51,081 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:17:53,666 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:17:53 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'600'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:17:53,666 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/sendVideo "HTTP/1.1 200 OK"
2024-10-30 05:17:53,666 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:17:53,667 - DEBUG - receive_response_body.complete
2024-10-30 05:17:53,667 - DEBUG - response_closed.started
2024-10-30 05:17:53,667 - DEBUG - response_closed.complete
2024-10-30 05:17:53,668 - DEBUG - Message(caption='From r/girlsfinishingthejob: I love when he covers my titties with his hot cum 🥰\nUpvotes: 237', channel_chat_created=False, chat=Chat(id=-1002490380283, title='Reddit_Pic_Stream', type=<ChatType.CHANNEL>), date=datetime.datetime(2024, 10, 30, 10, 17, 53, tzinfo=<UTC>), delete_chat_photo=False, group_chat_created=False, message_id=223, sender_chat=Chat(id=-1002490380283, title='Reddit_Pic_Stream', type=<ChatType.CHANNEL>), supergroup_chat_created=False, video=Video(duration=0, file_id='BAACAgEAAyEGAASUcC_7AAPfZyIH0VopmfM9Snx1Um6VcLED_vQAAqwEAAIZEBFF8LqfzJEonD82BA', file_name='1geqscs_20241030_051745_2fd81a4e.mp4', file_size=50070206, file_unique_id='AgADrAQAAhkQEUU', height=320, mime_type='video/mp4', width=320))
2024-10-30 05:17:53,669 - DEBUG - Exiting: send_video
2024-10-30 05:17:53,669 - DEBUG - close.started
2024-10-30 05:17:53,669 - DEBUG - close.complete
2024-10-30 05:17:53,669 - DEBUG - This Bot is already shut down. Returning.
2024-10-30 05:17:53,669 - DEBUG - Shut down of Updater complete
2024-10-30 05:17:53,669 - INFO - Successfully sent video to Telegram
2024-10-30 05:17:53,674 - ERROR - Error processing subreddit girlsfinishingthejob: (sqlite3.OperationalError) attempt to write a readonly database
[SQL: INSERT INTO sent_post (post_id, subreddit_name, sent_at) VALUES (?, ?, ?)]
[parameters: ('1geqscs', 'girlsfinishingthejob', '2024-10-30 10:17:53.673498')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2024-10-30 05:17:53,676 - ERROR - Job "send_to_telegram (trigger: interval[0:01:00], next run at: 2024-10-30 05:18:16 CDT)" raised an exception
Traceback (most recent call last):
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: attempt to write a readonly database

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/backend/app.py", line 265, in send_to_telegram
    # Update last_check in Cosmos DB
                ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/backend/db_operations.py", line 100, in add_sent_post
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/scoping.py", line 597, in commit
    return self._proxied.commit()
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2028, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4352, in flush
    self._flush(objects)
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4487, in _flush
    with util.safe_reraise():
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4448, in _flush
    flush_context.execute()
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
    return meth(
           ^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) attempt to write a readonly database
[SQL: INSERT INTO sent_post (post_id, subreddit_name, sent_at) VALUES (?, ?, ?)]
[parameters: ('1geqscs', 'girlsfinishingthejob', '2024-10-30 10:17:53.673498')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2024-10-30 05:18:16,972 - DEBUG - Looking for jobs to run
2024-10-30 05:18:16,976 - DEBUG - Next wakeup is due at 2024-10-30 05:19:16.969826-05:00 (in 59.993711 seconds)
2024-10-30 05:18:16,976 - INFO - Running job "send_to_telegram (trigger: interval[0:01:00], next run at: 2024-10-30 05:19:16 CDT)" (scheduled at 2024-10-30 05:18:16.969826-05:00)
2024-10-30 05:18:16,976 - INFO - Running job "send_to_telegram (trigger: interval[0:01:00], next run at: 2024-10-30 05:19:16 CDT)" (scheduled at 2024-10-30 05:18:16.970029-05:00)
2024-10-30 05:18:16,977 - INFO - Processing subreddit: girlsfinishingthejob
2024-10-30 05:18:16,977 - INFO - Processing subreddit: wifebutt
2024-10-30 05:18:16,978 - INFO - Fetching top posts of the day
2024-10-30 05:18:16,978 - INFO - Fetching top posts of the month
2024-10-30 05:18:16,979 - DEBUG - Fetching: GET https://oauth.reddit.com/r/girlsfinishingthejob/top at 1730283496.979018
2024-10-30 05:18:16,979 - DEBUG - Fetching: GET https://oauth.reddit.com/r/wifebutt/top at 1730283496.9793
2024-10-30 05:18:16,979 - DEBUG - Data: None
2024-10-30 05:18:16,979 - DEBUG - Data: None
2024-10-30 05:18:16,979 - DEBUG - Params: {'limit': 50, 'raw_json': 1, 't': 'day'}
2024-10-30 05:18:16,979 - DEBUG - Params: {'limit': 50, 'raw_json': 1, 't': 'month'}
2024-10-30 05:18:17,304 - DEBUG - https://oauth.reddit.com:443 "GET /r/girlsfinishingthejob/top?t=day&limit=50&raw_json=1 HTTP/11" 200 24093
2024-10-30 05:18:17,311 - DEBUG - Response: 200 (24093 bytes) (rst-0:rem-148.0:used-2 ratelimit) at 1730283497.311622
2024-10-30 05:18:17,369 - INFO - Checking post: 1gelyz1 - Score: 7092 - URL: https://www.redgifs.com/watch/uttersvelteamphibian
2024-10-30 05:18:17,374 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:18:17,406 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:18:17,406 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:18:17 GMT'
2024-10-30 05:18:17,407 - INFO - Found video post: 1gelyz1
2024-10-30 05:18:17,407 - DEBUG - Starting new HTTPS connection (1): api.redgifs.com:443
2024-10-30 05:18:17,505 - DEBUG - https://api.redgifs.com:443 "GET /v2/gifs/uttersvelteamphibian HTTP/11" 200 None
2024-10-30 05:18:17,507 - DEBUG - Starting new HTTPS connection (1): files.redgifs.com:443
2024-10-30 05:18:17,579 - DEBUG - https://files.redgifs.com:443 "GET /UtterSvelteAmphibian.mp4 HTTP/11" 200 42980012
2024-10-30 05:18:17,842 - DEBUG - https://oauth.reddit.com:443 "GET /r/wifebutt/top?t=month&limit=50&raw_json=1 HTTP/11" 200 49215
2024-10-30 05:18:17,866 - DEBUG - Response: 200 (49215 bytes) (rst-0:rem-149.0:used-1 ratelimit) at 1730283497.8668952
2024-10-30 05:18:17,872 - INFO - Checking post: 1g9w053 - Score: 5354 - URL: https://www.reddit.com/gallery/1g9w053
2024-10-30 05:18:17,874 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:18:17,934 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:18:17,934 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:18:17 GMT'
2024-10-30 05:18:17,935 - INFO - Post 1g9w053 is not an image or video post, skipping
2024-10-30 05:18:17,935 - INFO - Checking post: 1fv4cfc - Score: 4579 - URL: https://www.reddit.com/gallery/1fv4cfc
2024-10-30 05:18:17,936 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:18:17,974 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:18:17,975 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:18:17 GMT'
2024-10-30 05:18:17,977 - INFO - Post 1fv4cfc is not an image or video post, skipping
2024-10-30 05:18:17,977 - INFO - Checking post: 1ganrp0 - Score: 4205 - URL: https://i.redd.it/ezatz8645lwd1.jpeg
2024-10-30 05:18:17,980 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:18:18,027 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:18:18,027 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:18:17 GMT'
2024-10-30 05:18:18,027 - INFO - Post 1ganrp0 is a duplicate, skipping
2024-10-30 05:18:18,027 - INFO - Checking post: 1gdrcjt - Score: 4063 - URL: https://www.redgifs.com/watch/unrealisticdefinitebarebirdbat
2024-10-30 05:18:18,028 - INFO - Post 1gdrcjt is a duplicate, skipping
2024-10-30 05:18:18,028 - INFO - Checking post: 1g30sx1 - Score: 3962 - URL: https://www.redgifs.com/watch/hardwarlikesunbittern
2024-10-30 05:18:18,028 - INFO - Post 1g30sx1 is a duplicate, skipping
2024-10-30 05:18:18,028 - INFO - Checking post: 1fs7839 - Score: 3857 - URL: https://www.reddit.com/gallery/1fs7839
2024-10-30 05:18:18,029 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:18:18,088 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:18:18,090 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:18:17 GMT'
2024-10-30 05:18:18,091 - INFO - Post 1fs7839 is not an image or video post, skipping
2024-10-30 05:18:18,091 - INFO - Checking post: 1g2rse9 - Score: 3769 - URL: https://i.redd.it/gzxs1aeshjud1.png
2024-10-30 05:18:18,091 - INFO - Post 1g2rse9 is a duplicate, skipping
2024-10-30 05:18:18,091 - INFO - Checking post: 1ge9loz - Score: 3731 - URL: https://www.redgifs.com/watch/deadlygregariouswoodchuck
2024-10-30 05:18:18,091 - INFO - Post 1ge9loz is a duplicate, skipping
2024-10-30 05:18:18,091 - INFO - Checking post: 1g0e966 - Score: 3637 - URL: https://www.reddit.com/gallery/1g0e966
2024-10-30 05:18:18,092 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:18:18,138 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:18:18,140 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:18:17 GMT'
2024-10-30 05:18:18,140 - INFO - Post 1g0e966 is not an image or video post, skipping
2024-10-30 05:18:18,140 - INFO - Checking post: 1gckgcy - Score: 3400 - URL: https://i.redd.it/njd0mbyjl3xd1.jpeg
2024-10-30 05:18:18,141 - INFO - Post 1gckgcy is a duplicate, skipping
2024-10-30 05:18:18,141 - INFO - Checking post: 1fznoil - Score: 3337 - URL: https://i.redd.it/eruk3694dptd1.jpeg
2024-10-30 05:18:18,141 - INFO - Post 1fznoil is a duplicate, skipping
2024-10-30 05:18:18,141 - INFO - Checking post: 1g3dsj7 - Score: 3185 - URL: https://i.redd.it/cg9oigznmpud1.jpeg
2024-10-30 05:18:18,141 - INFO - Post 1g3dsj7 is a duplicate, skipping
2024-10-30 05:18:18,141 - INFO - Checking post: 1g4dx9i - Score: 3140 - URL: https://i.redd.it/5kv3c8f3lyud1.jpeg
2024-10-30 05:18:18,142 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:18:18,203 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:18:18,203 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-quorum-acked-lsn': 'REDACTED'
    'x-ms-current-write-quorum': 'REDACTED'
    'x-ms-current-replica-set-size': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-cosmos-quorum-acked-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:18:17 GMT'
2024-10-30 05:18:18,204 - INFO - Found image post: 1g4dx9i with URL: https://i.redd.it/5kv3c8f3lyud1.jpeg
2024-10-30 05:18:18,204 - DEBUG - Starting new HTTPS connection (1): i.redd.it:443
2024-10-30 05:18:18,430 - DEBUG - https://i.redd.it:443 "GET /5kv3c8f3lyud1.jpeg HTTP/11" 200 2365518
2024-10-30 05:18:18,563 - INFO - Successfully downloaded media to downloads/videos/1gelyz1_20241030_051817_ba5c8ead.mp4
2024-10-30 05:18:18,565 - DEBUG - Using selector: KqueueSelector
2024-10-30 05:18:18,565 - INFO - Attempting to send video to Telegram - Path: downloads/videos/1gelyz1_20241030_051817_ba5c8ead.mp4
2024-10-30 05:18:18,566 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:18:18,567 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:18:18,579 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:18:18,579 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:18:18,591 - DEBUG - Entering: get_me
2024-10-30 05:18:18,607 - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2024-10-30 05:18:18,676 - INFO - Successfully downloaded media to downloads/pics/1g4dx9i_20241030_051818_d2c0c929.jpeg
2024-10-30 05:18:18,677 - DEBUG - Using selector: KqueueSelector
2024-10-30 05:18:18,677 - INFO - Attempting to send photo to Telegram - Path: downloads/pics/1g4dx9i_20241030_051818_d2c0c929.jpeg
2024-10-30 05:18:18,678 - DEBUG - Entering: get_me
2024-10-30 05:18:18,678 - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2024-10-30 05:18:18,734 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108e627b0>
2024-10-30 05:18:18,735 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x108db5450> server_hostname='api.telegram.org' timeout=5.0
2024-10-30 05:18:18,801 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108e60dd0>
2024-10-30 05:18:18,801 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x108db5450> server_hostname='api.telegram.org' timeout=5.0
2024-10-30 05:18:18,870 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108f367e0>
2024-10-30 05:18:18,871 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:18:18,871 - DEBUG - send_request_headers.complete
2024-10-30 05:18:18,871 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:18:18,871 - DEBUG - send_request_body.complete
2024-10-30 05:18:18,871 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:18:18,934 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108f35a60>
2024-10-30 05:18:18,934 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:18:18,935 - DEBUG - send_request_headers.complete
2024-10-30 05:18:18,935 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:18:18,935 - DEBUG - send_request_body.complete
2024-10-30 05:18:18,935 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:18:19,018 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:18:18 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'254'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:18:19,018 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/getMe "HTTP/1.1 200 OK"
2024-10-30 05:18:19,018 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:18:19,018 - DEBUG - receive_response_body.complete
2024-10-30 05:18:19,018 - DEBUG - response_closed.started
2024-10-30 05:18:19,018 - DEBUG - response_closed.complete
2024-10-30 05:18:19,019 - DEBUG - User(api_kwargs={'can_connect_to_business': False, 'has_main_web_app': False}, can_join_groups=True, can_read_all_group_messages=False, first_name='RedditBot', id=7867694458, is_bot=True, supports_inline_queries=False, username='RedditImage_bot')
2024-10-30 05:18:19,019 - DEBUG - Exiting: get_me
2024-10-30 05:18:19,019 - DEBUG - This Bot is already initialized.
2024-10-30 05:18:19,019 - DEBUG - Entering: send_video
2024-10-30 05:18:19,026 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:18:19,026 - DEBUG - send_request_headers.complete
2024-10-30 05:18:19,027 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:18:19,076 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:18:19 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'254'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:18:19,076 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/getMe "HTTP/1.1 200 OK"
2024-10-30 05:18:19,076 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:18:19,076 - DEBUG - receive_response_body.complete
2024-10-30 05:18:19,076 - DEBUG - response_closed.started
2024-10-30 05:18:19,077 - DEBUG - response_closed.complete
2024-10-30 05:18:19,077 - DEBUG - User(api_kwargs={'can_connect_to_business': False, 'has_main_web_app': False}, can_join_groups=True, can_read_all_group_messages=False, first_name='RedditBot', id=7867694458, is_bot=True, supports_inline_queries=False, username='RedditImage_bot')
2024-10-30 05:18:19,078 - DEBUG - Exiting: get_me
2024-10-30 05:18:19,078 - DEBUG - This Updater is already initialized.
2024-10-30 05:18:19,078 - DEBUG - Entering: send_photo
2024-10-30 05:18:19,079 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:18:19,080 - DEBUG - send_request_headers.complete
2024-10-30 05:18:19,080 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:18:19,935 - DEBUG - send_request_body.complete
2024-10-30 05:18:19,935 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:18:20,435 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:18:20 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'1272'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:18:20,436 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/sendPhoto "HTTP/1.1 200 OK"
2024-10-30 05:18:20,436 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:18:20,436 - DEBUG - receive_response_body.complete
2024-10-30 05:18:20,436 - DEBUG - response_closed.started
2024-10-30 05:18:20,436 - DEBUG - response_closed.complete
2024-10-30 05:18:20,437 - DEBUG - Message(caption='From r/wifebutt: People on the pool deck didn’t get to see my entire wifebutt but you guys do!\nUpvotes: 3,140', channel_chat_created=False, chat=Chat(id=-1002490380283, title='Reddit_Pic_Stream', type=<ChatType.CHANNEL>), date=datetime.datetime(2024, 10, 30, 10, 18, 20, tzinfo=<UTC>), delete_chat_photo=False, group_chat_created=False, message_id=224, photo=(PhotoSize(file_id='AgACAgEAAyEGAASUcC_7AAORZyH6QP6KPlSQyXILymMhELCibnoAAkWtMRsZEBFF56UebkDt26cBAAMCAANzAAM2BA', file_size=1719, file_unique_id='AQADRa0xGxkQEUV4', height=90, width=67), PhotoSize(file_id='AgACAgEAAyEGAASUcC_7AAORZyH6QP6KPlSQyXILymMhELCibnoAAkWtMRsZEBFF56UebkDt26cBAAMCAANtAAM2BA', file_size=22638, file_unique_id='AQADRa0xGxkQEUVy', height=320, width=240), PhotoSize(file_id='AgACAgEAAyEGAASUcC_7AAORZyH6QP6KPlSQyXILymMhELCibnoAAkWtMRsZEBFF56UebkDt26cBAAMCAAN4AAM2BA', file_size=96806, file_unique_id='AQADRa0xGxkQEUV9', height=800, width=600), PhotoSize(file_id='AgACAgEAAyEGAASUcC_7AAORZyH6QP6KPlSQyXILymMhELCibnoAAkWtMRsZEBFF56UebkDt26cBAAMCAAN5AAM2BA', file_size=213750, file_unique_id='AQADRa0xGxkQEUV-', height=1280, width=960), PhotoSize(file_id='AgACAgEAAyEGAASUcC_7AAORZyH6QP6KPlSQyXILymMhELCibnoAAkWtMRsZEBFF56UebkDt26cBAAMCAAN3AAM2BA', file_size=704677, file_unique_id='AQADRa0xGxkQEUV8', height=2560, width=1920)), sender_chat=Chat(id=-1002490380283, title='Reddit_Pic_Stream', type=<ChatType.CHANNEL>), supergroup_chat_created=False)
2024-10-30 05:18:20,438 - DEBUG - Exiting: send_photo
2024-10-30 05:18:20,438 - DEBUG - close.started
2024-10-30 05:18:20,438 - DEBUG - close.complete
2024-10-30 05:18:20,438 - DEBUG - close.started
2024-10-30 05:18:20,438 - DEBUG - close.complete
2024-10-30 05:18:20,438 - DEBUG - This Bot is already shut down. Returning.
2024-10-30 05:18:20,438 - DEBUG - Shut down of Updater complete
2024-10-30 05:18:20,438 - INFO - Successfully sent photo to Telegram
2024-10-30 05:18:20,441 - ERROR - Error processing subreddit wifebutt: (sqlite3.OperationalError) attempt to write a readonly database
[SQL: INSERT INTO sent_post (post_id, subreddit_name, sent_at) VALUES (?, ?, ?)]
[parameters: ('1g4dx9i', 'wifebutt', '2024-10-30 10:18:20.440585')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2024-10-30 05:18:20,443 - ERROR - Job "send_to_telegram (trigger: interval[0:01:00], next run at: 2024-10-30 05:19:16 CDT)" raised an exception
Traceback (most recent call last):
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: attempt to write a readonly database

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/backend/app.py", line 265, in send_to_telegram
    # Update last_check in Cosmos DB
                ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/backend/db_operations.py", line 100, in add_sent_post
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/scoping.py", line 597, in commit
    return self._proxied.commit()
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2028, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4352, in flush
    self._flush(objects)
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4487, in _flush
    with util.safe_reraise():
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4448, in _flush
    flush_context.execute()
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
    return meth(
           ^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) attempt to write a readonly database
[SQL: INSERT INTO sent_post (post_id, subreddit_name, sent_at) VALUES (?, ?, ?)]
[parameters: ('1g4dx9i', 'wifebutt', '2024-10-30 10:18:20.440585')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2024-10-30 05:18:39,036 - DEBUG - send_request_body.failed exception=WriteError(ClosedResourceError())
2024-10-30 05:18:39,038 - DEBUG - response_closed.started
2024-10-30 05:18:39,038 - DEBUG - response_closed.complete
2024-10-30 05:18:39,039 - DEBUG - This Application is already shut down. Returning.
2024-10-30 05:18:39,039 - ERROR - Failed to send video to Telegram: httpx.WriteError: 
2024-10-30 05:18:39,041 - ERROR - Error sending video post 1gelyz1: httpx.WriteError: 
2024-10-30 05:18:39,041 - INFO - Checking post: 1gejrnl - Score: 2578 - URL: https://v3.redgifs.com/watch/graydefensivepika
2024-10-30 05:18:39,047 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:18:39,081 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:18:39,082 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:18:38 GMT'
2024-10-30 05:18:39,082 - INFO - Post 1gejrnl is a duplicate, skipping
2024-10-30 05:18:39,082 - INFO - Checking post: 1gelw33 - Score: 2305 - URL: https://www.redgifs.com/watch/drydarkgraysable
2024-10-30 05:18:39,083 - INFO - Post 1gelw33 is a duplicate, skipping
2024-10-30 05:18:39,083 - INFO - Checking post: 1gevvp0 - Score: 1186 - URL: https://www.redgifs.com/watch/medicalplumhen
2024-10-30 05:18:39,083 - INFO - Post 1gevvp0 is a duplicate, skipping
2024-10-30 05:18:39,083 - INFO - Checking post: 1gesoj7 - Score: 751 - URL: https://www.redgifs.com/watch/lightgreytrickydragonfly
2024-10-30 05:18:39,084 - INFO - Post 1gesoj7 is a duplicate, skipping
2024-10-30 05:18:39,084 - INFO - Checking post: 1geuuqp - Score: 439 - URL: https://www.redgifs.com/watch/cheerfulbeigebagworm
2024-10-30 05:18:39,084 - INFO - Post 1geuuqp is a duplicate, skipping
2024-10-30 05:18:39,084 - INFO - Checking post: 1geakrb - Score: 395 - URL: https://www.redgifs.com/watch/illinformedthickgalapagoshawk
2024-10-30 05:18:39,084 - INFO - Post 1geakrb is a duplicate, skipping
2024-10-30 05:18:39,084 - INFO - Checking post: 1gerubz - Score: 366 - URL: https://v3.redgifs.com/watch/trickysquarepseudodynerusquadrisectus
2024-10-30 05:18:39,085 - INFO - Post 1gerubz is a duplicate, skipping
2024-10-30 05:18:39,085 - INFO - Checking post: 1getxhl - Score: 342 - URL: https://www.redgifs.com/watch/purpledemandingboaconstrictor
2024-10-30 05:18:39,085 - INFO - Post 1getxhl is a duplicate, skipping
2024-10-30 05:18:39,085 - INFO - Checking post: 1ge9gol - Score: 276 - URL: https://v3.redgifs.com/watch/circulardeeppinkamericanbulldog
2024-10-30 05:18:39,085 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:18:39,116 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:18:39,116 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:18:38 GMT'
2024-10-30 05:18:39,116 - INFO - Found video post: 1ge9gol
2024-10-30 05:18:39,117 - DEBUG - Starting new HTTPS connection (1): api.redgifs.com:443
2024-10-30 05:18:39,256 - DEBUG - https://api.redgifs.com:443 "GET /v2/gifs/circulardeeppinkamericanbulldog HTTP/11" 200 None
2024-10-30 05:18:39,258 - DEBUG - Starting new HTTPS connection (1): files.redgifs.com:443
2024-10-30 05:18:39,329 - DEBUG - https://files.redgifs.com:443 "GET /CircularDeeppinkAmericanbulldog.mp4 HTTP/11" 200 61415883
2024-10-30 05:18:41,633 - INFO - Successfully downloaded media to downloads/videos/1ge9gol_20241030_051839_fff8ab71.mp4
2024-10-30 05:18:41,634 - DEBUG - Using selector: KqueueSelector
2024-10-30 05:18:41,635 - INFO - Attempting to send video to Telegram - Path: downloads/videos/1ge9gol_20241030_051839_fff8ab71.mp4
2024-10-30 05:18:41,635 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:18:41,636 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:18:41,644 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:18:41,645 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:18:41,652 - DEBUG - Entering: get_me
2024-10-30 05:18:41,652 - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2024-10-30 05:18:41,775 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108f34c50>
2024-10-30 05:18:41,775 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x108cdd850> server_hostname='api.telegram.org' timeout=5.0
2024-10-30 05:18:41,906 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108f343b0>
2024-10-30 05:18:41,907 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:18:41,907 - DEBUG - send_request_headers.complete
2024-10-30 05:18:41,907 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:18:41,907 - DEBUG - send_request_body.complete
2024-10-30 05:18:41,907 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:18:42,023 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:18:41 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'254'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:18:42,023 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/getMe "HTTP/1.1 200 OK"
2024-10-30 05:18:42,023 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:18:42,023 - DEBUG - receive_response_body.complete
2024-10-30 05:18:42,023 - DEBUG - response_closed.started
2024-10-30 05:18:42,023 - DEBUG - response_closed.complete
2024-10-30 05:18:42,024 - DEBUG - User(api_kwargs={'can_connect_to_business': False, 'has_main_web_app': False}, can_join_groups=True, can_read_all_group_messages=False, first_name='RedditBot', id=7867694458, is_bot=True, supports_inline_queries=False, username='RedditImage_bot')
2024-10-30 05:18:42,024 - DEBUG - Exiting: get_me
2024-10-30 05:18:42,024 - DEBUG - This Bot is already initialized.
2024-10-30 05:18:42,024 - DEBUG - Entering: send_video
2024-10-30 05:18:42,039 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:18:42,039 - DEBUG - send_request_headers.complete
2024-10-30 05:18:42,039 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:18:46,444 - DEBUG - send_request_body.complete
2024-10-30 05:18:46,445 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:18:46,446 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 413, b'Request Entity Too Large', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:18:42 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'70'), (b'Connection', b'close'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:18:46,446 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/sendVideo "HTTP/1.1 413 Request Entity Too Large"
2024-10-30 05:18:46,446 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:18:46,446 - DEBUG - receive_response_body.complete
2024-10-30 05:18:46,446 - DEBUG - response_closed.started
2024-10-30 05:18:46,446 - DEBUG - response_closed.complete
2024-10-30 05:18:46,446 - DEBUG - This Bot is already shut down. Returning.
2024-10-30 05:18:46,447 - DEBUG - Shut down of Updater complete
2024-10-30 05:18:46,447 - ERROR - Failed to send video to Telegram: Request Entity Too Large (413)
2024-10-30 05:18:46,447 - ERROR - Error sending video post 1ge9gol: Request Entity Too Large (413)
2024-10-30 05:18:46,447 - INFO - Checking post: 1ge98kx - Score: 257 - URL: https://www.redgifs.com/watch/frontspecificspittlebug
2024-10-30 05:18:46,448 - INFO - Post 1ge98kx is a duplicate, skipping
2024-10-30 05:18:46,448 - INFO - Checking post: 1geqscs - Score: 243 - URL: https://www.redgifs.com/watch/previousweequeensnake
2024-10-30 05:18:46,449 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:18:46,502 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:18:46,503 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:18:46 GMT'
2024-10-30 05:18:46,503 - INFO - Found video post: 1geqscs
2024-10-30 05:18:46,504 - DEBUG - Starting new HTTPS connection (1): api.redgifs.com:443
2024-10-30 05:18:46,611 - DEBUG - https://api.redgifs.com:443 "GET /v2/gifs/previousweequeensnake HTTP/11" 200 None
2024-10-30 05:18:46,613 - DEBUG - Starting new HTTPS connection (1): files.redgifs.com:443
2024-10-30 05:18:46,679 - DEBUG - https://files.redgifs.com:443 "GET /PreviousWeeQueensnake.mp4 HTTP/11" 200 50070206
2024-10-30 05:18:48,151 - INFO - Successfully downloaded media to downloads/videos/1geqscs_20241030_051846_2fd81a4e.mp4
2024-10-30 05:18:48,152 - DEBUG - Using selector: KqueueSelector
2024-10-30 05:18:48,153 - INFO - Attempting to send video to Telegram - Path: downloads/videos/1geqscs_20241030_051846_2fd81a4e.mp4
2024-10-30 05:18:48,153 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:18:48,153 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:18:48,161 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:18:48,161 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:18:48,167 - DEBUG - Entering: get_me
2024-10-30 05:18:48,168 - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2024-10-30 05:18:48,294 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108d9ef00>
2024-10-30 05:18:48,294 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x108f32550> server_hostname='api.telegram.org' timeout=5.0
2024-10-30 05:18:48,430 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108d9ea20>
2024-10-30 05:18:48,431 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:18:48,432 - DEBUG - send_request_headers.complete
2024-10-30 05:18:48,432 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:18:48,432 - DEBUG - send_request_body.complete
2024-10-30 05:18:48,432 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:18:48,547 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:18:48 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'254'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:18:48,548 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/getMe "HTTP/1.1 200 OK"
2024-10-30 05:18:48,548 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:18:48,548 - DEBUG - receive_response_body.complete
2024-10-30 05:18:48,548 - DEBUG - response_closed.started
2024-10-30 05:18:48,549 - DEBUG - response_closed.complete
2024-10-30 05:18:48,549 - DEBUG - User(api_kwargs={'can_connect_to_business': False, 'has_main_web_app': False}, can_join_groups=True, can_read_all_group_messages=False, first_name='RedditBot', id=7867694458, is_bot=True, supports_inline_queries=False, username='RedditImage_bot')
2024-10-30 05:18:48,549 - DEBUG - Exiting: get_me
2024-10-30 05:18:48,549 - DEBUG - This Bot is already initialized.
2024-10-30 05:18:48,550 - DEBUG - Entering: send_video
2024-10-30 05:18:48,569 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:18:48,569 - DEBUG - send_request_headers.complete
2024-10-30 05:18:48,570 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:18:52,043 - DEBUG - send_request_body.complete
2024-10-30 05:18:52,044 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:18:55,103 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:18:55 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'600'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:18:55,104 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/sendVideo "HTTP/1.1 200 OK"
2024-10-30 05:18:55,104 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:18:55,104 - DEBUG - receive_response_body.complete
2024-10-30 05:18:55,105 - DEBUG - response_closed.started
2024-10-30 05:18:55,105 - DEBUG - response_closed.complete
2024-10-30 05:18:55,106 - DEBUG - Message(caption='From r/girlsfinishingthejob: I love when he covers my titties with his hot cum 🥰\nUpvotes: 243', channel_chat_created=False, chat=Chat(id=-1002490380283, title='Reddit_Pic_Stream', type=<ChatType.CHANNEL>), date=datetime.datetime(2024, 10, 30, 10, 18, 54, tzinfo=<UTC>), delete_chat_photo=False, group_chat_created=False, message_id=225, sender_chat=Chat(id=-1002490380283, title='Reddit_Pic_Stream', type=<ChatType.CHANNEL>), supergroup_chat_created=False, video=Video(duration=0, file_id='BAACAgEAAyEGAASUcC_7AAPhZyIIDoijHZmoYHpkgai9zZYo1TcAAq0EAAIZEBFFLE8Fa62AcCQ2BA', file_name='1geqscs_20241030_051846_2fd81a4e.mp4', file_size=50070206, file_unique_id='AgADrQQAAhkQEUU', height=320, mime_type='video/mp4', width=320))
2024-10-30 05:18:55,107 - DEBUG - Exiting: send_video
2024-10-30 05:18:55,107 - DEBUG - close.started
2024-10-30 05:18:55,108 - DEBUG - close.complete
2024-10-30 05:18:55,108 - DEBUG - This Bot is already shut down. Returning.
2024-10-30 05:18:55,108 - DEBUG - Shut down of Updater complete
2024-10-30 05:18:55,108 - INFO - Successfully sent video to Telegram
2024-10-30 05:18:55,111 - ERROR - Error processing subreddit girlsfinishingthejob: (sqlite3.OperationalError) attempt to write a readonly database
[SQL: INSERT INTO sent_post (post_id, subreddit_name, sent_at) VALUES (?, ?, ?)]
[parameters: ('1geqscs', 'girlsfinishingthejob', '2024-10-30 10:18:55.110798')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2024-10-30 05:18:55,113 - ERROR - Job "send_to_telegram (trigger: interval[0:01:00], next run at: 2024-10-30 05:19:16 CDT)" raised an exception
Traceback (most recent call last):
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: attempt to write a readonly database

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/backend/app.py", line 265, in send_to_telegram
    # Update last_check in Cosmos DB
                ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/backend/db_operations.py", line 100, in add_sent_post
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/scoping.py", line 597, in commit
    return self._proxied.commit()
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2028, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4352, in flush
    self._flush(objects)
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4487, in _flush
    with util.safe_reraise():
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4448, in _flush
    flush_context.execute()
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
    return meth(
           ^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) attempt to write a readonly database
[SQL: INSERT INTO sent_post (post_id, subreddit_name, sent_at) VALUES (?, ?, ?)]
[parameters: ('1geqscs', 'girlsfinishingthejob', '2024-10-30 10:18:55.110798')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2024-10-30 05:19:16,975 - DEBUG - Looking for jobs to run
2024-10-30 05:19:16,977 - DEBUG - Next wakeup is due at 2024-10-30 05:20:16.969826-05:00 (in 59.992642 seconds)
2024-10-30 05:19:16,977 - INFO - Running job "send_to_telegram (trigger: interval[0:01:00], next run at: 2024-10-30 05:20:16 CDT)" (scheduled at 2024-10-30 05:19:16.969826-05:00)
2024-10-30 05:19:16,977 - INFO - Running job "send_to_telegram (trigger: interval[0:01:00], next run at: 2024-10-30 05:20:16 CDT)" (scheduled at 2024-10-30 05:19:16.970029-05:00)
2024-10-30 05:19:16,978 - INFO - Processing subreddit: girlsfinishingthejob
2024-10-30 05:19:16,978 - INFO - Processing subreddit: wifebutt
2024-10-30 05:19:16,978 - INFO - Fetching top posts of the day
2024-10-30 05:19:16,978 - INFO - Fetching top posts of the month
2024-10-30 05:19:16,979 - DEBUG - Fetching: GET https://oauth.reddit.com/r/girlsfinishingthejob/top at 1730283556.9794822
2024-10-30 05:19:16,979 - DEBUG - Fetching: GET https://oauth.reddit.com/r/wifebutt/top at 1730283556.9796638
2024-10-30 05:19:16,979 - DEBUG - Data: None
2024-10-30 05:19:16,979 - DEBUG - Data: None
2024-10-30 05:19:16,979 - DEBUG - Params: {'limit': 50, 'raw_json': 1, 't': 'day'}
2024-10-30 05:19:16,980 - DEBUG - Params: {'limit': 50, 'raw_json': 1, 't': 'month'}
2024-10-30 05:19:17,314 - DEBUG - https://oauth.reddit.com:443 "GET /r/girlsfinishingthejob/top?t=day&limit=50&raw_json=1 HTTP/11" 200 24086
2024-10-30 05:19:17,316 - DEBUG - Response: 200 (24086 bytes) (rst-0:rem-148.0:used-2 ratelimit) at 1730283557.3169868
2024-10-30 05:19:17,382 - INFO - Checking post: 1gelyz1 - Score: 7090 - URL: https://www.redgifs.com/watch/uttersvelteamphibian
2024-10-30 05:19:17,386 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:19:17,416 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:19:17,417 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:19:17 GMT'
2024-10-30 05:19:17,417 - INFO - Found video post: 1gelyz1
2024-10-30 05:19:17,418 - DEBUG - Starting new HTTPS connection (1): api.redgifs.com:443
2024-10-30 05:19:17,511 - DEBUG - https://api.redgifs.com:443 "GET /v2/gifs/uttersvelteamphibian HTTP/11" 200 None
2024-10-30 05:19:17,513 - DEBUG - Starting new HTTPS connection (1): files.redgifs.com:443
2024-10-30 05:19:17,606 - DEBUG - https://files.redgifs.com:443 "GET /UtterSvelteAmphibian.mp4 HTTP/11" 200 42980012
2024-10-30 05:19:17,769 - DEBUG - https://oauth.reddit.com:443 "GET /r/wifebutt/top?t=month&limit=50&raw_json=1 HTTP/11" 200 49267
2024-10-30 05:19:17,791 - DEBUG - Response: 200 (49267 bytes) (rst-0:rem-149.0:used-1 ratelimit) at 1730283557.791193
2024-10-30 05:19:17,796 - INFO - Checking post: 1g9w053 - Score: 5352 - URL: https://www.reddit.com/gallery/1g9w053
2024-10-30 05:19:17,797 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:19:17,851 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:19:17,851 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:19:17 GMT'
2024-10-30 05:19:17,851 - INFO - Post 1g9w053 is not an image or video post, skipping
2024-10-30 05:19:17,851 - INFO - Checking post: 1fv4cfc - Score: 4584 - URL: https://www.reddit.com/gallery/1fv4cfc
2024-10-30 05:19:17,852 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:19:17,894 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:19:17,894 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:19:17 GMT'
2024-10-30 05:19:17,894 - INFO - Post 1fv4cfc is not an image or video post, skipping
2024-10-30 05:19:17,894 - INFO - Checking post: 1ganrp0 - Score: 4208 - URL: https://i.redd.it/ezatz8645lwd1.jpeg
2024-10-30 05:19:17,895 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:19:17,940 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:19:17,941 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-quorum-acked-lsn': 'REDACTED'
    'x-ms-current-write-quorum': 'REDACTED'
    'x-ms-current-replica-set-size': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-cosmos-quorum-acked-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:19:17 GMT'
2024-10-30 05:19:17,941 - INFO - Post 1ganrp0 is a duplicate, skipping
2024-10-30 05:19:17,941 - INFO - Checking post: 1gdrcjt - Score: 4061 - URL: https://www.redgifs.com/watch/unrealisticdefinitebarebirdbat
2024-10-30 05:19:17,941 - INFO - Post 1gdrcjt is a duplicate, skipping
2024-10-30 05:19:17,942 - INFO - Checking post: 1g30sx1 - Score: 3962 - URL: https://www.redgifs.com/watch/hardwarlikesunbittern
2024-10-30 05:19:17,942 - INFO - Post 1g30sx1 is a duplicate, skipping
2024-10-30 05:19:17,942 - INFO - Checking post: 1fs7839 - Score: 3857 - URL: https://www.reddit.com/gallery/1fs7839
2024-10-30 05:19:17,942 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:19:17,991 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:19:17,992 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-quorum-acked-lsn': 'REDACTED'
    'x-ms-current-write-quorum': 'REDACTED'
    'x-ms-current-replica-set-size': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-cosmos-quorum-acked-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:19:17 GMT'
2024-10-30 05:19:17,992 - INFO - Post 1fs7839 is not an image or video post, skipping
2024-10-30 05:19:17,992 - INFO - Checking post: 1g2rse9 - Score: 3775 - URL: https://i.redd.it/gzxs1aeshjud1.png
2024-10-30 05:19:17,992 - INFO - Post 1g2rse9 is a duplicate, skipping
2024-10-30 05:19:17,992 - INFO - Checking post: 1ge9loz - Score: 3726 - URL: https://www.redgifs.com/watch/deadlygregariouswoodchuck
2024-10-30 05:19:17,993 - INFO - Post 1ge9loz is a duplicate, skipping
2024-10-30 05:19:17,993 - INFO - Checking post: 1g0e966 - Score: 3636 - URL: https://www.reddit.com/gallery/1g0e966
2024-10-30 05:19:17,993 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:19:18,059 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:19:18,060 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:19:17 GMT'
2024-10-30 05:19:18,060 - INFO - Post 1g0e966 is not an image or video post, skipping
2024-10-30 05:19:18,060 - INFO - Checking post: 1gckgcy - Score: 3400 - URL: https://i.redd.it/njd0mbyjl3xd1.jpeg
2024-10-30 05:19:18,060 - INFO - Post 1gckgcy is a duplicate, skipping
2024-10-30 05:19:18,060 - INFO - Checking post: 1fznoil - Score: 3337 - URL: https://i.redd.it/eruk3694dptd1.jpeg
2024-10-30 05:19:18,060 - INFO - Post 1fznoil is a duplicate, skipping
2024-10-30 05:19:18,060 - INFO - Checking post: 1g3dsj7 - Score: 3179 - URL: https://i.redd.it/cg9oigznmpud1.jpeg
2024-10-30 05:19:18,061 - INFO - Post 1g3dsj7 is a duplicate, skipping
2024-10-30 05:19:18,061 - INFO - Checking post: 1g4dx9i - Score: 3141 - URL: https://i.redd.it/5kv3c8f3lyud1.jpeg
2024-10-30 05:19:18,061 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:19:18,121 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:19:18,121 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-quorum-acked-lsn': 'REDACTED'
    'x-ms-current-write-quorum': 'REDACTED'
    'x-ms-current-replica-set-size': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-cosmos-quorum-acked-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:19:17 GMT'
2024-10-30 05:19:18,121 - INFO - Found image post: 1g4dx9i with URL: https://i.redd.it/5kv3c8f3lyud1.jpeg
2024-10-30 05:19:18,122 - DEBUG - Starting new HTTPS connection (1): i.redd.it:443
2024-10-30 05:19:18,354 - DEBUG - https://i.redd.it:443 "GET /5kv3c8f3lyud1.jpeg HTTP/11" 200 2365518
2024-10-30 05:19:18,870 - INFO - Successfully downloaded media to downloads/videos/1gelyz1_20241030_051917_ba5c8ead.mp4
2024-10-30 05:19:18,871 - DEBUG - Using selector: KqueueSelector
2024-10-30 05:19:18,872 - INFO - Attempting to send video to Telegram - Path: downloads/videos/1gelyz1_20241030_051917_ba5c8ead.mp4
2024-10-30 05:19:18,872 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:19:18,872 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:19:18,879 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:19:18,879 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:19:18,886 - DEBUG - Entering: get_me
2024-10-30 05:19:18,886 - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2024-10-30 05:19:18,920 - INFO - Successfully downloaded media to downloads/pics/1g4dx9i_20241030_051918_d2c0c929.jpeg
2024-10-30 05:19:18,921 - DEBUG - Using selector: KqueueSelector
2024-10-30 05:19:18,921 - INFO - Attempting to send photo to Telegram - Path: downloads/pics/1g4dx9i_20241030_051918_d2c0c929.jpeg
2024-10-30 05:19:18,921 - DEBUG - Entering: get_me
2024-10-30 05:19:18,922 - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2024-10-30 05:19:19,005 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108d9ce60>
2024-10-30 05:19:19,005 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x108db7050> server_hostname='api.telegram.org' timeout=5.0
2024-10-30 05:19:19,047 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108ed1820>
2024-10-30 05:19:19,047 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x108db7050> server_hostname='api.telegram.org' timeout=5.0
2024-10-30 05:19:19,138 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108d9e1e0>
2024-10-30 05:19:19,138 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:19:19,138 - DEBUG - send_request_headers.complete
2024-10-30 05:19:19,138 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:19:19,138 - DEBUG - send_request_body.complete
2024-10-30 05:19:19,138 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:19:19,177 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108d7bdd0>
2024-10-30 05:19:19,177 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:19:19,178 - DEBUG - send_request_headers.complete
2024-10-30 05:19:19,178 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:19:19,178 - DEBUG - send_request_body.complete
2024-10-30 05:19:19,178 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:19:19,297 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:19:19 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'254'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:19:19,298 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/getMe "HTTP/1.1 200 OK"
2024-10-30 05:19:19,298 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:19:19,298 - DEBUG - receive_response_body.complete
2024-10-30 05:19:19,298 - DEBUG - response_closed.started
2024-10-30 05:19:19,298 - DEBUG - response_closed.complete
2024-10-30 05:19:19,300 - DEBUG - User(api_kwargs={'can_connect_to_business': False, 'has_main_web_app': False}, can_join_groups=True, can_read_all_group_messages=False, first_name='RedditBot', id=7867694458, is_bot=True, supports_inline_queries=False, username='RedditImage_bot')
2024-10-30 05:19:19,300 - DEBUG - Exiting: get_me
2024-10-30 05:19:19,300 - DEBUG - This Bot is already initialized.
2024-10-30 05:19:19,300 - DEBUG - Entering: send_photo
2024-10-30 05:19:19,303 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:19:19,304 - DEBUG - send_request_headers.complete
2024-10-30 05:19:19,305 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:19:19,318 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:19:19 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'254'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:19:19,321 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/getMe "HTTP/1.1 200 OK"
2024-10-30 05:19:19,323 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:19:19,323 - DEBUG - receive_response_body.complete
2024-10-30 05:19:19,323 - DEBUG - response_closed.started
2024-10-30 05:19:19,323 - DEBUG - response_closed.complete
2024-10-30 05:19:19,325 - DEBUG - User(api_kwargs={'can_connect_to_business': False, 'has_main_web_app': False}, can_join_groups=True, can_read_all_group_messages=False, first_name='RedditBot', id=7867694458, is_bot=True, supports_inline_queries=False, username='RedditImage_bot')
2024-10-30 05:19:19,325 - DEBUG - Exiting: get_me
2024-10-30 05:19:19,326 - DEBUG - This Updater is already initialized.
2024-10-30 05:19:19,326 - DEBUG - Entering: send_video
2024-10-30 05:19:19,347 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:19:19,347 - DEBUG - send_request_headers.complete
2024-10-30 05:19:19,347 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:19:20,221 - DEBUG - send_request_body.complete
2024-10-30 05:19:20,222 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2024-10-30 05:19:20,688 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Wed, 30 Oct 2024 10:19:20 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'1272'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2024-10-30 05:19:20,691 - INFO - HTTP Request: POST https://api.telegram.org/bot7867694458:AAEFLZjWPyd1p640mHENnBt479WRYfSavWg/sendPhoto "HTTP/1.1 200 OK"
2024-10-30 05:19:20,691 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2024-10-30 05:19:20,692 - DEBUG - receive_response_body.complete
2024-10-30 05:19:20,692 - DEBUG - response_closed.started
2024-10-30 05:19:20,692 - DEBUG - response_closed.complete
2024-10-30 05:19:20,695 - DEBUG - Message(caption='From r/wifebutt: People on the pool deck didn’t get to see my entire wifebutt but you guys do!\nUpvotes: 3,141', channel_chat_created=False, chat=Chat(id=-1002490380283, title='Reddit_Pic_Stream', type=<ChatType.CHANNEL>), date=datetime.datetime(2024, 10, 30, 10, 19, 20, tzinfo=<UTC>), delete_chat_photo=False, group_chat_created=False, message_id=226, photo=(PhotoSize(file_id='AgACAgEAAyEGAASUcC_7AAORZyH6QP6KPlSQyXILymMhELCibnoAAkWtMRsZEBFF56UebkDt26cBAAMCAANzAAM2BA', file_size=1719, file_unique_id='AQADRa0xGxkQEUV4', height=90, width=67), PhotoSize(file_id='AgACAgEAAyEGAASUcC_7AAORZyH6QP6KPlSQyXILymMhELCibnoAAkWtMRsZEBFF56UebkDt26cBAAMCAANtAAM2BA', file_size=22638, file_unique_id='AQADRa0xGxkQEUVy', height=320, width=240), PhotoSize(file_id='AgACAgEAAyEGAASUcC_7AAORZyH6QP6KPlSQyXILymMhELCibnoAAkWtMRsZEBFF56UebkDt26cBAAMCAAN4AAM2BA', file_size=96806, file_unique_id='AQADRa0xGxkQEUV9', height=800, width=600), PhotoSize(file_id='AgACAgEAAyEGAASUcC_7AAORZyH6QP6KPlSQyXILymMhELCibnoAAkWtMRsZEBFF56UebkDt26cBAAMCAAN5AAM2BA', file_size=213750, file_unique_id='AQADRa0xGxkQEUV-', height=1280, width=960), PhotoSize(file_id='AgACAgEAAyEGAASUcC_7AAORZyH6QP6KPlSQyXILymMhELCibnoAAkWtMRsZEBFF56UebkDt26cBAAMCAAN3AAM2BA', file_size=704677, file_unique_id='AQADRa0xGxkQEUV8', height=2560, width=1920)), sender_chat=Chat(id=-1002490380283, title='Reddit_Pic_Stream', type=<ChatType.CHANNEL>), supergroup_chat_created=False)
2024-10-30 05:19:20,696 - DEBUG - Exiting: send_photo
2024-10-30 05:19:20,697 - DEBUG - close.started
2024-10-30 05:19:20,697 - DEBUG - close.complete
2024-10-30 05:19:20,697 - DEBUG - close.started
2024-10-30 05:19:20,697 - DEBUG - close.complete
2024-10-30 05:19:20,697 - DEBUG - This Bot is already shut down. Returning.
2024-10-30 05:19:20,698 - DEBUG - Shut down of Updater complete
2024-10-30 05:19:20,698 - INFO - Successfully sent photo to Telegram
2024-10-30 05:19:20,712 - ERROR - Error processing subreddit wifebutt: (sqlite3.OperationalError) attempt to write a readonly database
[SQL: INSERT INTO sent_post (post_id, subreddit_name, sent_at) VALUES (?, ?, ?)]
[parameters: ('1g4dx9i', 'wifebutt', '2024-10-30 10:19:20.708493')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2024-10-30 05:19:20,719 - ERROR - Job "send_to_telegram (trigger: interval[0:01:00], next run at: 2024-10-30 05:20:16 CDT)" raised an exception
Traceback (most recent call last):
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: attempt to write a readonly database

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/apscheduler/executors/base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/backend/app.py", line 265, in send_to_telegram
    # Update last_check in Cosmos DB
                ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/backend/db_operations.py", line 100, in add_sent_post
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/scoping.py", line 597, in commit
    return self._proxied.commit()
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2028, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4352, in flush
    self._flush(objects)
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4487, in _flush
    with util.safe_reraise():
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4448, in _flush
    flush_context.execute()
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
    return meth(
           ^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) attempt to write a readonly database
[SQL: INSERT INTO sent_post (post_id, subreddit_name, sent_at) VALUES (?, ?, ?)]
[parameters: ('1g4dx9i', 'wifebutt', '2024-10-30 10:19:20.708493')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2024-10-30 05:19:39,369 - DEBUG - send_request_body.failed exception=WriteError(ClosedResourceError())
2024-10-30 05:19:39,371 - DEBUG - response_closed.started
2024-10-30 05:19:39,371 - DEBUG - response_closed.complete
2024-10-30 05:19:39,372 - DEBUG - This Application is already shut down. Returning.
2024-10-30 05:19:39,372 - ERROR - Failed to send video to Telegram: httpx.WriteError: 
2024-10-30 05:19:39,373 - ERROR - Error sending video post 1gelyz1: httpx.WriteError: 
2024-10-30 05:19:39,373 - INFO - Checking post: 1gejrnl - Score: 2576 - URL: https://v3.redgifs.com/watch/graydefensivepika
2024-10-30 05:19:39,378 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:19:39,412 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:19:39,413 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:19:38 GMT'
2024-10-30 05:19:39,413 - INFO - Post 1gejrnl is a duplicate, skipping
2024-10-30 05:19:39,413 - INFO - Checking post: 1gelw33 - Score: 2308 - URL: https://www.redgifs.com/watch/drydarkgraysable
2024-10-30 05:19:39,413 - INFO - Post 1gelw33 is a duplicate, skipping
2024-10-30 05:19:39,414 - INFO - Checking post: 1gevvp0 - Score: 1192 - URL: https://www.redgifs.com/watch/medicalplumhen
2024-10-30 05:19:39,414 - INFO - Post 1gevvp0 is a duplicate, skipping
2024-10-30 05:19:39,414 - INFO - Checking post: 1gesoj7 - Score: 751 - URL: https://www.redgifs.com/watch/lightgreytrickydragonfly
2024-10-30 05:19:39,414 - INFO - Post 1gesoj7 is a duplicate, skipping
2024-10-30 05:19:39,414 - INFO - Checking post: 1geuuqp - Score: 441 - URL: https://www.redgifs.com/watch/cheerfulbeigebagworm
2024-10-30 05:19:39,414 - INFO - Post 1geuuqp is a duplicate, skipping
2024-10-30 05:19:39,414 - INFO - Checking post: 1geakrb - Score: 391 - URL: https://www.redgifs.com/watch/illinformedthickgalapagoshawk
2024-10-30 05:19:39,414 - INFO - Post 1geakrb is a duplicate, skipping
2024-10-30 05:19:39,414 - INFO - Checking post: 1gerubz - Score: 359 - URL: https://v3.redgifs.com/watch/trickysquarepseudodynerusquadrisectus
2024-10-30 05:19:39,414 - INFO - Post 1gerubz is a duplicate, skipping
2024-10-30 05:19:39,414 - INFO - Checking post: 1getxhl - Score: 342 - URL: https://www.redgifs.com/watch/purpledemandingboaconstrictor
2024-10-30 05:19:39,415 - INFO - Post 1getxhl is a duplicate, skipping
2024-10-30 05:19:39,415 - INFO - Checking post: 1ge9gol - Score: 274 - URL: https://v3.redgifs.com/watch/circulardeeppinkamericanbulldog
2024-10-30 05:19:39,415 - INFO - Request URL: 'https://cosmossnoogram-centralus.documents.azure.com:443/dbs/ToDoList/colls/sent_posts/docs/'
Request method: 'POST'
Request headers:
    'Cache-Control': 'no-cache'
    'x-ms-version': 'REDACTED'
    'x-ms-documentdb-query-iscontinuationexpected': 'REDACTED'
    'x-ms-consistency-level': 'REDACTED'
    'x-ms-documentdb-isquery': 'REDACTED'
    'Content-Type': 'application/query+json'
    'x-ms-session-token': 'REDACTED'
    'x-ms-documentdb-query-enablecrosspartition': 'REDACTED'
    'x-ms-date': 'REDACTED'
    'authorization': 'REDACTED'
    'Accept': 'application/json'
    'x-ms-cosmos-correlated-activityid': 'REDACTED'
    'Content-Length': '107'
    'User-Agent': 'azsdk-python-cosmos/4.5.1 Python/3.12.4 (macOS-15.0.1-arm64-arm-64bit)'
A body is sent with the request
2024-10-30 05:19:39,442 - DEBUG - https://cosmossnoogram-centralus.documents.azure.com:443 "POST /dbs/ToDoList/colls/sent_posts/docs/ HTTP/11" 200 None
2024-10-30 05:19:39,443 - INFO - Response status: 200
Response headers:
    'Cache-Control': 'no-store, no-cache'
    'Pragma': 'no-cache'
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json'
    'Server': 'Microsoft-HTTPAPI/2.0'
    'Strict-Transport-Security': 'REDACTED'
    'x-ms-activity-id': 'REDACTED'
    'x-ms-last-state-change-utc': 'REDACTED'
    'x-ms-resource-quota': 'REDACTED'
    'x-ms-resource-usage': 'REDACTED'
    'x-ms-schemaversion': 'REDACTED'
    'lsn': 'REDACTED'
    'x-ms-item-count': 'REDACTED'
    'x-ms-request-charge': 'REDACTED'
    'x-ms-alt-content-path': 'REDACTED'
    'x-ms-content-path': 'REDACTED'
    'x-ms-documentdb-partitionkeyrangeid': 'REDACTED'
    'x-ms-xp-role': 'REDACTED'
    'x-ms-cosmos-query-execution-info': 'REDACTED'
    'x-ms-global-Committed-lsn': 'REDACTED'
    'x-ms-number-of-read-regions': 'REDACTED'
    'x-ms-transport-request-id': 'REDACTED'
    'x-ms-cosmos-llsn': 'REDACTED'
    'x-ms-session-token': 'REDACTED'
    'x-ms-request-duration-ms': 'REDACTED'
    'x-ms-serviceversion': 'REDACTED'
    'x-ms-cosmos-is-partition-key-delete-pending': 'REDACTED'
    'x-ms-cosmos-physical-partition-id': 'REDACTED'
    'x-ms-cosmos-internal-partition-id': 'REDACTED'
    'x-ms-gatewayversion': 'REDACTED'
    'Date': 'Wed, 30 Oct 2024 10:19:38 GMT'
2024-10-30 05:19:39,443 - INFO - Found video post: 1ge9gol
2024-10-30 05:19:39,444 - DEBUG - Starting new HTTPS connection (1): api.redgifs.com:443
2024-10-30 05:19:39,543 - DEBUG - https://api.redgifs.com:443 "GET /v2/gifs/circulardeeppinkamericanbulldog HTTP/11" 200 None
2024-10-30 05:19:39,549 - DEBUG - Starting new HTTPS connection (1): files.redgifs.com:443
2024-10-30 05:19:39,618 - DEBUG - https://files.redgifs.com:443 "GET /CircularDeeppinkAmericanbulldog.mp4 HTTP/11" 200 61415883
2024-10-30 05:19:41,103 - INFO - Successfully downloaded media to downloads/videos/1ge9gol_20241030_051939_fff8ab71.mp4
2024-10-30 05:19:41,106 - DEBUG - Using selector: KqueueSelector
2024-10-30 05:19:41,107 - INFO - Attempting to send video to Telegram - Path: downloads/videos/1ge9gol_20241030_051939_fff8ab71.mp4
2024-10-30 05:19:41,107 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:19:41,108 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:19:41,116 - DEBUG - load_ssl_context verify=True cert=None trust_env=True http2=False
2024-10-30 05:19:41,117 - DEBUG - load_verify_locations cafile='/Users/joewilson/PythonProjects/Snoogram/venv/lib/python3.12/site-packages/certifi/cacert.pem'
2024-10-30 05:19:41,124 - DEBUG - Entering: get_me
2024-10-30 05:19:41,125 - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2024-10-30 05:19:41,246 - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108a5d910>
2024-10-30 05:19:41,247 - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x108ee6250> server_hostname='api.telegram.org' timeout=5.0
2024-10-30 05:19:41,388 - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x108a5f0b0>
2024-10-30 05:19:41,389 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2024-10-30 05:19:41,390 - DEBUG - send_request_headers.complete
2024-10-30 05:19:41,390 - DEBUG - send_request_body.started request=<Request [b'POST']>
2024-10-30 05:19:41,390 - DEBUG - send_request_body.complete
2024-10-30 05:19:41,390 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
